import { createRequire as _createRequire } from 'node:module';
const require = _createRequire(import.meta.url);
import{b as Ir}from"./chunk-TEVFRW7G.js";import{b as Po,c as xe,e as ve}from"./chunk-JOXYEZYT.js";import{a as m,c as p,e as Nr,i as c}from"./chunk-UO4ZAUJK.js";var Ht=p((Oc,vr)=>{"use strict";c();var xr=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);vr.exports=s=>s?Object.keys(s).map(t=>[xr.has(t)?xr.get(t):t,s[t]]).reduce((t,e)=>(t[e[0]]=e[1],t),Object.create(null)):{}});var qe=p(Hr=>{"use strict";c();var Cr=typeof process=="object"&&process?process:{stdout:null,stderr:null},ko=m("events"),Mr=m("stream"),qo=m("string_decoder"),Fr=qo.StringDecoder,it=Symbol("EOF"),rt=Symbol("maybeEmitEnd"),Et=Symbol("emittedEnd"),Ce=Symbol("emittingEnd"),ue=Symbol("emittedError"),Me=Symbol("closed"),Br=Symbol("read"),Fe=Symbol("flush"),Pr=Symbol("flushChunk"),B=Symbol("encoding"),nt=Symbol("decoder"),Be=Symbol("flowing"),fe=Symbol("paused"),Wt=Symbol("resume"),T=Symbol("buffer"),$=Symbol("pipes"),A=Symbol("bufferLength"),qs=Symbol("bufferPush"),zs=Symbol("bufferShift"),x=Symbol("objectMode"),L=Symbol("destroyed"),Us=Symbol("error"),Hs=Symbol("emitData"),kr=Symbol("emitEnd"),Ws=Symbol("emitEnd2"),ht=Symbol("async"),Gs=Symbol("abort"),Pe=Symbol("aborted"),It=Symbol("signal"),de=s=>Promise.resolve().then(s),Ur=global._MP_NO_ITERATOR_SYMBOLS_!=="1",qr=Ur&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),zr=Ur&&Symbol.iterator||Symbol("iterator not implemented"),zo=s=>s==="end"||s==="finish"||s==="prefinish",Uo=s=>s instanceof ArrayBuffer||typeof s=="object"&&s.constructor&&s.constructor.name==="ArrayBuffer"&&s.byteLength>=0,Ho=s=>!Buffer.isBuffer(s)&&ArrayBuffer.isView(s),ke=class{constructor(t,e,i){this.src=t,this.dest=e,this.opts=i,this.ondrain=()=>t[Wt](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Ys=class extends ke{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,i){super(t,e,i),this.proxyErrors=r=>e.emit("error",r),t.on("error",this.proxyErrors)}},Ks=class s extends Mr{constructor(t){super(),this[Be]=!1,this[fe]=!1,this[$]=[],this[T]=[],this[x]=t&&t.objectMode||!1,this[x]?this[B]=null:this[B]=t&&t.encoding||null,this[B]==="buffer"&&(this[B]=null),this[ht]=t&&!!t.async||!1,this[nt]=this[B]?new Fr(this[B]):null,this[it]=!1,this[Et]=!1,this[Ce]=!1,this[Me]=!1,this[ue]=null,this.writable=!0,this.readable=!0,this[A]=0,this[L]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[T]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[$]}),this[It]=t&&t.signal,this[Pe]=!1,this[It]&&(this[It].addEventListener("abort",()=>this[Gs]()),this[It].aborted&&this[Gs]())}get bufferLength(){return this[A]}get encoding(){return this[B]}set encoding(t){if(this[x])throw new Error("cannot set encoding in objectMode");if(this[B]&&t!==this[B]&&(this[nt]&&this[nt].lastNeed||this[A]))throw new Error("cannot change encoding");this[B]!==t&&(this[nt]=t?new Fr(t):null,this[T].length&&(this[T]=this[T].map(e=>this[nt].write(e)))),this[B]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[x]}set objectMode(t){this[x]=this[x]||!!t}get async(){return this[ht]}set async(t){this[ht]=this[ht]||!!t}[Gs](){this[Pe]=!0,this.emit("abort",this[It].reason),this.destroy(this[It].reason)}get aborted(){return this[Pe]}set aborted(t){}write(t,e,i){if(this[Pe])return!1;if(this[it])throw new Error("write after end");if(this[L])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(i=e,e="utf8"),e||(e="utf8");let r=this[ht]?de:n=>n();return!this[x]&&!Buffer.isBuffer(t)&&(Ho(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Uo(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[x]?(this.flowing&&this[A]!==0&&this[Fe](!0),this.flowing?this.emit("data",t):this[qs](t),this[A]!==0&&this.emit("readable"),i&&r(i),this.flowing):t.length?(typeof t=="string"&&!(e===this[B]&&!this[nt].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[B]&&(t=this[nt].write(t)),this.flowing&&this[A]!==0&&this[Fe](!0),this.flowing?this.emit("data",t):this[qs](t),this[A]!==0&&this.emit("readable"),i&&r(i),this.flowing):(this[A]!==0&&this.emit("readable"),i&&r(i),this.flowing)}read(t){if(this[L])return null;if(this[A]===0||t===0||t>this[A])return this[rt](),null;this[x]&&(t=null),this[T].length>1&&!this[x]&&(this.encoding?this[T]=[this[T].join("")]:this[T]=[Buffer.concat(this[T],this[A])]);let e=this[Br](t||null,this[T][0]);return this[rt](),e}[Br](t,e){return t===e.length||t===null?this[zs]():(this[T][0]=e.slice(t),e=e.slice(0,t),this[A]-=t),this.emit("data",e),!this[T].length&&!this[it]&&this.emit("drain"),e}end(t,e,i){return typeof t=="function"&&(i=t,t=null),typeof e=="function"&&(i=e,e="utf8"),t&&this.write(t,e),i&&this.once("end",i),this[it]=!0,this.writable=!1,(this.flowing||!this[fe])&&this[rt](),this}[Wt](){this[L]||(this[fe]=!1,this[Be]=!0,this.emit("resume"),this[T].length?this[Fe]():this[it]?this[rt]():this.emit("drain"))}resume(){return this[Wt]()}pause(){this[Be]=!1,this[fe]=!0}get destroyed(){return this[L]}get flowing(){return this[Be]}get paused(){return this[fe]}[qs](t){this[x]?this[A]+=1:this[A]+=t.length,this[T].push(t)}[zs](){return this[x]?this[A]-=1:this[A]-=this[T][0].length,this[T].shift()}[Fe](t){do;while(this[Pr](this[zs]())&&this[T].length);!t&&!this[T].length&&!this[it]&&this.emit("drain")}[Pr](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[L])return;let i=this[Et];return e=e||{},t===Cr.stdout||t===Cr.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,i?e.end&&t.end():(this[$].push(e.proxyErrors?new Ys(this,t,e):new ke(this,t,e)),this[ht]?de(()=>this[Wt]()):this[Wt]()),t}unpipe(t){let e=this[$].find(i=>i.dest===t);e&&(this[$].splice(this[$].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let i=super.on(t,e);return t==="data"&&!this[$].length&&!this.flowing?this[Wt]():t==="readable"&&this[A]!==0?super.emit("readable"):zo(t)&&this[Et]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[ue]&&(this[ht]?de(()=>e.call(this,this[ue])):e.call(this,this[ue])),i}get emittedEnd(){return this[Et]}[rt](){!this[Ce]&&!this[Et]&&!this[L]&&this[T].length===0&&this[it]&&(this[Ce]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Me]&&this.emit("close"),this[Ce]=!1)}emit(t,e,...i){if(t!=="error"&&t!=="close"&&t!==L&&this[L])return;if(t==="data")return!this[x]&&!e?!1:this[ht]?de(()=>this[Hs](e)):this[Hs](e);if(t==="end")return this[kr]();if(t==="close"){if(this[Me]=!0,!this[Et]&&!this[L])return;let n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[ue]=e,super.emit(Us,e);let n=!this[It]||this.listeners("error").length?super.emit("error",e):!1;return this[rt](),n}else if(t==="resume"){let n=super.emit("resume");return this[rt](),n}else if(t==="finish"||t==="prefinish"){let n=super.emit(t);return this.removeAllListeners(t),n}let r=super.emit(t,e,...i);return this[rt](),r}[Hs](t){for(let i of this[$])i.dest.write(t)===!1&&this.pause();let e=super.emit("data",t);return this[rt](),e}[kr](){this[Et]||(this[Et]=!0,this.readable=!1,this[ht]?de(()=>this[Ws]()):this[Ws]())}[Ws](){if(this[nt]){let e=this[nt].end();if(e){for(let i of this[$])i.dest.write(e);super.emit("data",e)}}for(let e of this[$])e.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[x]||(t.dataLength=0);let e=this.promise();return this.on("data",i=>{t.push(i),this[x]||(t.dataLength+=i.length)}),e.then(()=>t)}concat(){return this[x]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[x]?Promise.reject(new Error("cannot concat in objectMode")):this[B]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(L,()=>e(new Error("stream destroyed"))),this.on("error",i=>e(i)),this.on("end",()=>t())})}[qr](){let t=!1,e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[it])return e();let n=null,h=null,o=f=>{this.removeListener("data",a),this.removeListener("end",l),this.removeListener(L,u),e(),h(f)},a=f=>{this.removeListener("error",o),this.removeListener("end",l),this.removeListener(L,u),this.pause(),n({value:f,done:!!this[it]})},l=()=>{this.removeListener("error",o),this.removeListener("data",a),this.removeListener(L,u),e(),n({done:!0})},u=()=>o(new Error("stream destroyed"));return new Promise((f,d)=>{h=d,n=f,this.once(L,u),this.once("error",o),this.once("end",l),this.once("data",a)})},throw:e,return:e,[qr](){return this}}}[zr](){let t=!1,e=()=>(this.pause(),this.removeListener(Us,e),this.removeListener(L,e),this.removeListener("end",e),t=!0,{done:!0}),i=()=>{if(t)return e();let r=this.read();return r===null?e():{value:r}};return this.once("end",e),this.once(Us,e),this.once(L,e),{next:i,throw:e,return:e,[zr](){return this}}}destroy(t){return this[L]?(t?this.emit("error",t):this.emit(L),this):(this[L]=!0,this[T].length=0,this[A]=0,typeof this.close=="function"&&!this[Me]&&this.close(),t?this.emit("error",t):this.emit(L),this)}static isStream(t){return!!t&&(t instanceof s||t instanceof Mr||t instanceof ko&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}};Hr.Minipass=Ks});var Gr=p((Ac,Wr)=>{"use strict";c();var Wo=m("zlib").constants||{ZLIB_VERNUM:4736};Wr.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},Wo))});var js=p((Ic,Qr)=>{"use strict";c();var Yr=typeof process=="object"&&process?process:{stdout:null,stderr:null},Go=m("events"),Kr=m("stream"),Zr=m("string_decoder").StringDecoder,ot=Symbol("EOF"),lt=Symbol("maybeEmitEnd"),yt=Symbol("emittedEnd"),ze=Symbol("emittingEnd"),me=Symbol("emittedError"),Ue=Symbol("closed"),Vr=Symbol("read"),He=Symbol("flush"),Xr=Symbol("flushChunk"),P=Symbol("encoding"),at=Symbol("decoder"),We=Symbol("flowing"),pe=Symbol("paused"),Gt=Symbol("resume"),N=Symbol("bufferLength"),Zs=Symbol("bufferPush"),Vs=Symbol("bufferShift"),C=Symbol("objectMode"),M=Symbol("destroyed"),Xs=Symbol("emitData"),$r=Symbol("emitEnd"),$s=Symbol("emitEnd2"),ct=Symbol("async"),Ee=s=>Promise.resolve().then(s),Jr=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Yo=Jr&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Ko=Jr&&Symbol.iterator||Symbol("iterator not implemented"),Zo=s=>s==="end"||s==="finish"||s==="prefinish",Vo=s=>s instanceof ArrayBuffer||typeof s=="object"&&s.constructor&&s.constructor.name==="ArrayBuffer"&&s.byteLength>=0,Xo=s=>!Buffer.isBuffer(s)&&ArrayBuffer.isView(s),Ge=class{constructor(t,e,i){this.src=t,this.dest=e,this.opts=i,this.ondrain=()=>t[Gt](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Js=class extends Ge{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,i){super(t,e,i),this.proxyErrors=r=>e.emit("error",r),t.on("error",this.proxyErrors)}};Qr.exports=class jr extends Kr{constructor(t){super(),this[We]=!1,this[pe]=!1,this.pipes=[],this.buffer=[],this[C]=t&&t.objectMode||!1,this[C]?this[P]=null:this[P]=t&&t.encoding||null,this[P]==="buffer"&&(this[P]=null),this[ct]=t&&!!t.async||!1,this[at]=this[P]?new Zr(this[P]):null,this[ot]=!1,this[yt]=!1,this[ze]=!1,this[Ue]=!1,this[me]=null,this.writable=!0,this.readable=!0,this[N]=0,this[M]=!1}get bufferLength(){return this[N]}get encoding(){return this[P]}set encoding(t){if(this[C])throw new Error("cannot set encoding in objectMode");if(this[P]&&t!==this[P]&&(this[at]&&this[at].lastNeed||this[N]))throw new Error("cannot change encoding");this[P]!==t&&(this[at]=t?new Zr(t):null,this.buffer.length&&(this.buffer=this.buffer.map(e=>this[at].write(e)))),this[P]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[C]}set objectMode(t){this[C]=this[C]||!!t}get async(){return this[ct]}set async(t){this[ct]=this[ct]||!!t}write(t,e,i){if(this[ot])throw new Error("write after end");if(this[M])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(i=e,e="utf8"),e||(e="utf8");let r=this[ct]?Ee:n=>n();return!this[C]&&!Buffer.isBuffer(t)&&(Xo(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Vo(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[C]?(this.flowing&&this[N]!==0&&this[He](!0),this.flowing?this.emit("data",t):this[Zs](t),this[N]!==0&&this.emit("readable"),i&&r(i),this.flowing):t.length?(typeof t=="string"&&!(e===this[P]&&!this[at].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[P]&&(t=this[at].write(t)),this.flowing&&this[N]!==0&&this[He](!0),this.flowing?this.emit("data",t):this[Zs](t),this[N]!==0&&this.emit("readable"),i&&r(i),this.flowing):(this[N]!==0&&this.emit("readable"),i&&r(i),this.flowing)}read(t){if(this[M])return null;if(this[N]===0||t===0||t>this[N])return this[lt](),null;this[C]&&(t=null),this.buffer.length>1&&!this[C]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[N])]);let e=this[Vr](t||null,this.buffer[0]);return this[lt](),e}[Vr](t,e){return t===e.length||t===null?this[Vs]():(this.buffer[0]=e.slice(t),e=e.slice(0,t),this[N]-=t),this.emit("data",e),!this.buffer.length&&!this[ot]&&this.emit("drain"),e}end(t,e,i){return typeof t=="function"&&(i=t,t=null),typeof e=="function"&&(i=e,e="utf8"),t&&this.write(t,e),i&&this.once("end",i),this[ot]=!0,this.writable=!1,(this.flowing||!this[pe])&&this[lt](),this}[Gt](){this[M]||(this[pe]=!1,this[We]=!0,this.emit("resume"),this.buffer.length?this[He]():this[ot]?this[lt]():this.emit("drain"))}resume(){return this[Gt]()}pause(){this[We]=!1,this[pe]=!0}get destroyed(){return this[M]}get flowing(){return this[We]}get paused(){return this[pe]}[Zs](t){this[C]?this[N]+=1:this[N]+=t.length,this.buffer.push(t)}[Vs](){return this.buffer.length&&(this[C]?this[N]-=1:this[N]-=this.buffer[0].length),this.buffer.shift()}[He](t){do;while(this[Xr](this[Vs]()));!t&&!this.buffer.length&&!this[ot]&&this.emit("drain")}[Xr](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,e){if(this[M])return;let i=this[yt];return e=e||{},t===Yr.stdout||t===Yr.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,i?e.end&&t.end():(this.pipes.push(e.proxyErrors?new Js(this,t,e):new Ge(this,t,e)),this[ct]?Ee(()=>this[Gt]()):this[Gt]()),t}unpipe(t){let e=this.pipes.find(i=>i.dest===t);e&&(this.pipes.splice(this.pipes.indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let i=super.on(t,e);return t==="data"&&!this.pipes.length&&!this.flowing?this[Gt]():t==="readable"&&this[N]!==0?super.emit("readable"):Zo(t)&&this[yt]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[me]&&(this[ct]?Ee(()=>e.call(this,this[me])):e.call(this,this[me])),i}get emittedEnd(){return this[yt]}[lt](){!this[ze]&&!this[yt]&&!this[M]&&this.buffer.length===0&&this[ot]&&(this[ze]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Ue]&&this.emit("close"),this[ze]=!1)}emit(t,e,...i){if(t!=="error"&&t!=="close"&&t!==M&&this[M])return;if(t==="data")return e?this[ct]?Ee(()=>this[Xs](e)):this[Xs](e):!1;if(t==="end")return this[$r]();if(t==="close"){if(this[Ue]=!0,!this[yt]&&!this[M])return;let n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[me]=e;let n=super.emit("error",e);return this[lt](),n}else if(t==="resume"){let n=super.emit("resume");return this[lt](),n}else if(t==="finish"||t==="prefinish"){let n=super.emit(t);return this.removeAllListeners(t),n}let r=super.emit(t,e,...i);return this[lt](),r}[Xs](t){for(let i of this.pipes)i.dest.write(t)===!1&&this.pause();let e=super.emit("data",t);return this[lt](),e}[$r](){this[yt]||(this[yt]=!0,this.readable=!1,this[ct]?Ee(()=>this[$s]()):this[$s]())}[$s](){if(this[at]){let e=this[at].end();if(e){for(let i of this.pipes)i.dest.write(e);super.emit("data",e)}}for(let e of this.pipes)e.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[C]||(t.dataLength=0);let e=this.promise();return this.on("data",i=>{t.push(i),this[C]||(t.dataLength+=i.length)}),e.then(()=>t)}concat(){return this[C]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[C]?Promise.reject(new Error("cannot concat in objectMode")):this[P]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(M,()=>e(new Error("stream destroyed"))),this.on("error",i=>e(i)),this.on("end",()=>t())})}[Yo](){return{next:()=>{let e=this.read();if(e!==null)return Promise.resolve({done:!1,value:e});if(this[ot])return Promise.resolve({done:!0});let i=null,r=null,n=l=>{this.removeListener("data",h),this.removeListener("end",o),r(l)},h=l=>{this.removeListener("error",n),this.removeListener("end",o),this.pause(),i({value:l,done:!!this[ot]})},o=()=>{this.removeListener("error",n),this.removeListener("data",h),i({done:!0})},a=()=>n(new Error("stream destroyed"));return new Promise((l,u)=>{r=u,i=l,this.once(M,a),this.once("error",n),this.once("end",o),this.once("data",h)})}}}[Ko](){return{next:()=>{let e=this.read();return{value:e,done:e===null}}}}destroy(t){return this[M]?(t?this.emit("error",t):this.emit(M),this):(this[M]=!0,this.buffer.length=0,this[N]=0,typeof this.close=="function"&&!this[Ue]&&this.close(),t?this.emit("error",t):this.emit(M),this)}static isStream(t){return!!t&&(t instanceof jr||t instanceof Kr||t instanceof Go&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var mi=p(q=>{"use strict";c();var ii=m("assert"),St=m("buffer").Buffer,sn=m("zlib"),xt=q.constants=Gr(),$o=js(),tn=St.concat,vt=Symbol("_superWrite"),Kt=class extends Error{constructor(t){super("zlib: "+t.message),this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Jo=Symbol("opts"),ye=Symbol("flushFlag"),en=Symbol("finishFlushFlag"),di=Symbol("fullFlushFlag"),_=Symbol("handle"),Ye=Symbol("onError"),Yt=Symbol("sawError"),Qs=Symbol("level"),ti=Symbol("strategy"),ei=Symbol("ended"),vc=Symbol("_defaultFullFlush"),Ke=class extends $o{constructor(t,e){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t),this[Yt]=!1,this[ei]=!1,this[Jo]=t,this[ye]=t.flush,this[en]=t.finishFlush;try{this[_]=new sn[e](t)}catch(i){throw new Kt(i)}this[Ye]=i=>{this[Yt]||(this[Yt]=!0,this.close(),this.emit("error",i))},this[_].on("error",i=>this[Ye](new Kt(i))),this.once("end",()=>this.close)}close(){this[_]&&(this[_].close(),this[_]=null,this.emit("close"))}reset(){if(!this[Yt])return ii(this[_],"zlib binding closed"),this[_].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[di]),this.write(Object.assign(St.alloc(0),{[ye]:t})))}end(t,e,i){return t&&this.write(t,e),this.flush(this[en]),this[ei]=!0,super.end(null,null,i)}get ended(){return this[ei]}write(t,e,i){if(typeof e=="function"&&(i=e,e="utf8"),typeof t=="string"&&(t=St.from(t,e)),this[Yt])return;ii(this[_],"zlib binding closed");let r=this[_]._handle,n=r.close;r.close=()=>{};let h=this[_].close;this[_].close=()=>{},St.concat=l=>l;let o;try{let l=typeof t[ye]=="number"?t[ye]:this[ye];o=this[_]._processChunk(t,l),St.concat=tn}catch(l){St.concat=tn,this[Ye](new Kt(l))}finally{this[_]&&(this[_]._handle=r,r.close=n,this[_].close=h,this[_].removeAllListeners("error"))}this[_]&&this[_].on("error",l=>this[Ye](new Kt(l)));let a;if(o)if(Array.isArray(o)&&o.length>0){a=this[vt](St.from(o[0]));for(let l=1;l<o.length;l++)a=this[vt](o[l])}else a=this[vt](St.from(o));return i&&i(),a}[vt](t){return super.write(t)}},ut=class extends Ke{constructor(t,e){t=t||{},t.flush=t.flush||xt.Z_NO_FLUSH,t.finishFlush=t.finishFlush||xt.Z_FINISH,super(t,e),this[di]=xt.Z_FULL_FLUSH,this[Qs]=t.level,this[ti]=t.strategy}params(t,e){if(!this[Yt]){if(!this[_])throw new Error("cannot switch params when binding is closed");if(!this[_].params)throw new Error("not supported in this implementation");if(this[Qs]!==t||this[ti]!==e){this.flush(xt.Z_SYNC_FLUSH),ii(this[_],"zlib binding closed");let i=this[_].flush;this[_].flush=(r,n)=>{this.flush(r),n()};try{this[_].params(t,e)}finally{this[_].flush=i}this[_]&&(this[Qs]=t,this[ti]=e)}}}},ri=class extends ut{constructor(t){super(t,"Deflate")}},ni=class extends ut{constructor(t){super(t,"Inflate")}},si=Symbol("_portable"),hi=class extends ut{constructor(t){super(t,"Gzip"),this[si]=t&&!!t.portable}[vt](t){return this[si]?(this[si]=!1,t[9]=255,super[vt](t)):super[vt](t)}},oi=class extends ut{constructor(t){super(t,"Gunzip")}},li=class extends ut{constructor(t){super(t,"DeflateRaw")}},ai=class extends ut{constructor(t){super(t,"InflateRaw")}},ci=class extends ut{constructor(t){super(t,"Unzip")}},Ze=class extends Ke{constructor(t,e){t=t||{},t.flush=t.flush||xt.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||xt.BROTLI_OPERATION_FINISH,super(t,e),this[di]=xt.BROTLI_OPERATION_FLUSH}},ui=class extends Ze{constructor(t){super(t,"BrotliCompress")}},fi=class extends Ze{constructor(t){super(t,"BrotliDecompress")}};q.Deflate=ri;q.Inflate=ni;q.Gzip=hi;q.Gunzip=oi;q.DeflateRaw=li;q.InflateRaw=ai;q.Unzip=ci;typeof sn.BrotliCompress=="function"?(q.BrotliCompress=ui,q.BrotliDecompress=fi):q.BrotliCompress=q.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Zt=p((Bc,rn)=>{"use strict";c();var jo=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;rn.exports=jo!=="win32"?s=>s:s=>s&&s.replace(/\\/g,"/")});var Ve=p((qc,nn)=>{"use strict";c();var{Minipass:Qo}=qe(),pi=Zt(),Ei=Symbol("slurp");nn.exports=class extends Qo{constructor(t,e,i){switch(super(),this.pause(),this.extended=e,this.globalExtended=i,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=pi(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=pi(t.linkpath),this.uname=t.uname,this.gname=t.gname,e&&this[Ei](e),i&&this[Ei](i,!0)}write(t){let e=t.length;if(e>this.blockRemain)throw new Error("writing more to entry than is appropriate");let i=this.remain,r=this.blockRemain;return this.remain=Math.max(0,i-e),this.blockRemain=Math.max(0,r-e),this.ignore?!0:i>=e?super.write(t):super.write(t.slice(0,i))}[Ei](t,e){for(let i in t)t[i]!==null&&t[i]!==void 0&&!(e&&i==="path")&&(this[i]=i==="path"||i==="linkpath"?pi(t[i]):t[i])}}});var yi=p(Xe=>{"use strict";c();Xe.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Xe.code=new Map(Array.from(Xe.name).map(s=>[s[1],s[0]]))});var an=p((Wc,ln)=>{"use strict";c();var tl=(s,t)=>{if(Number.isSafeInteger(s))s<0?sl(s,t):el(s,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},el=(s,t)=>{t[0]=128;for(var e=t.length;e>1;e--)t[e-1]=s&255,s=Math.floor(s/256)},sl=(s,t)=>{t[0]=255;var e=!1;s=s*-1;for(var i=t.length;i>1;i--){var r=s&255;s=Math.floor(s/256),e?t[i-1]=hn(r):r===0?t[i-1]=0:(e=!0,t[i-1]=on(r))}},il=s=>{let t=s[0],e=t===128?nl(s.slice(1,s.length)):t===255?rl(s):null;if(e===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(e))throw Error("parsed number outside of javascript safe integer range");return e},rl=s=>{for(var t=s.length,e=0,i=!1,r=t-1;r>-1;r--){var n=s[r],h;i?h=hn(n):n===0?h=n:(i=!0,h=on(n)),h!==0&&(e-=h*Math.pow(256,t-r-1))}return e},nl=s=>{for(var t=s.length,e=0,i=t-1;i>-1;i--){var r=s[i];r!==0&&(e+=r*Math.pow(256,t-i-1))}return e},hn=s=>(255^s)&255,on=s=>(255^s)+1&255;ln.exports={encode:tl,parse:il}});var Xt=p((Yc,un)=>{"use strict";c();var Si=yi(),Vt=m("path").posix,cn=an(),wi=Symbol("slurp"),z=Symbol("type"),gi=class{constructor(t,e,i,r){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[z]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,e||0,i,r):t&&this.set(t)}decode(t,e,i,r){if(e||(e=0),!t||!(t.length>=e+512))throw new Error("need 512 bytes for header");if(this.path=Ct(t,e,100),this.mode=wt(t,e+100,8),this.uid=wt(t,e+108,8),this.gid=wt(t,e+116,8),this.size=wt(t,e+124,12),this.mtime=Ri(t,e+136,12),this.cksum=wt(t,e+148,12),this[wi](i),this[wi](r,!0),this[z]=Ct(t,e+156,1),this[z]===""&&(this[z]="0"),this[z]==="0"&&this.path.slice(-1)==="/"&&(this[z]="5"),this[z]==="5"&&(this.size=0),this.linkpath=Ct(t,e+157,100),t.slice(e+257,e+265).toString()==="ustar\x0000")if(this.uname=Ct(t,e+265,32),this.gname=Ct(t,e+297,32),this.devmaj=wt(t,e+329,8),this.devmin=wt(t,e+337,8),t[e+475]!==0){let h=Ct(t,e+345,155);this.path=h+"/"+this.path}else{let h=Ct(t,e+345,130);h&&(this.path=h+"/"+this.path),this.atime=Ri(t,e+476,12),this.ctime=Ri(t,e+488,12)}let n=8*32;for(let h=e;h<e+148;h++)n+=t[h];for(let h=e+156;h<e+512;h++)n+=t[h];this.cksumValid=n===this.cksum,this.cksum===null&&n===8*32&&(this.nullBlock=!0)}[wi](t,e){for(let i in t)t[i]!==null&&t[i]!==void 0&&!(e&&i==="path")&&(this[i]=t[i])}encode(t,e){if(t||(t=this.block=Buffer.alloc(512),e=0),e||(e=0),!(t.length>=e+512))throw new Error("need 512 bytes for header");let i=this.ctime||this.atime?130:155,r=hl(this.path||"",i),n=r[0],h=r[1];this.needPax=r[2],this.needPax=Mt(t,e,100,n)||this.needPax,this.needPax=Rt(t,e+100,8,this.mode)||this.needPax,this.needPax=Rt(t,e+108,8,this.uid)||this.needPax,this.needPax=Rt(t,e+116,8,this.gid)||this.needPax,this.needPax=Rt(t,e+124,12,this.size)||this.needPax,this.needPax=_i(t,e+136,12,this.mtime)||this.needPax,t[e+156]=this[z].charCodeAt(0),this.needPax=Mt(t,e+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",e+257,8),this.needPax=Mt(t,e+265,32,this.uname)||this.needPax,this.needPax=Mt(t,e+297,32,this.gname)||this.needPax,this.needPax=Rt(t,e+329,8,this.devmaj)||this.needPax,this.needPax=Rt(t,e+337,8,this.devmin)||this.needPax,this.needPax=Mt(t,e+345,i,h)||this.needPax,t[e+475]!==0?this.needPax=Mt(t,e+345,155,h)||this.needPax:(this.needPax=Mt(t,e+345,130,h)||this.needPax,this.needPax=_i(t,e+476,12,this.atime)||this.needPax,this.needPax=_i(t,e+488,12,this.ctime)||this.needPax);let o=8*32;for(let a=e;a<e+148;a++)o+=t[a];for(let a=e+156;a<e+512;a++)o+=t[a];return this.cksum=o,Rt(t,e+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let e in t)t[e]!==null&&t[e]!==void 0&&(this[e]=t[e])}get type(){return Si.name.get(this[z])||this[z]}get typeKey(){return this[z]}set type(t){Si.code.has(t)?this[z]=Si.code.get(t):this[z]=t}},hl=(s,t)=>{let i=s,r="",n,h=Vt.parse(s).root||".";if(Buffer.byteLength(i)<100)n=[i,r,!1];else{r=Vt.dirname(i),i=Vt.basename(i);do Buffer.byteLength(i)<=100&&Buffer.byteLength(r)<=t?n=[i,r,!1]:Buffer.byteLength(i)>100&&Buffer.byteLength(r)<=t?n=[i.slice(0,99),r,!0]:(i=Vt.join(Vt.basename(r),i),r=Vt.dirname(r));while(r!==h&&!n);n||(n=[s.slice(0,99),"",!0])}return n},Ct=(s,t,e)=>s.slice(t,t+e).toString("utf8").replace(/\0.*/,""),Ri=(s,t,e)=>ol(wt(s,t,e)),ol=s=>s===null?null:new Date(s*1e3),wt=(s,t,e)=>s[t]&128?cn.parse(s.slice(t,t+e)):al(s,t,e),ll=s=>isNaN(s)?null:s,al=(s,t,e)=>ll(parseInt(s.slice(t,t+e).toString("utf8").replace(/\0.*$/,"").trim(),8)),cl={12:8589934591,8:2097151},Rt=(s,t,e,i)=>i===null?!1:i>cl[e]||i<0?(cn.encode(i,s.slice(t,t+e)),!0):(ul(s,t,e,i),!1),ul=(s,t,e,i)=>s.write(fl(i,e),t,e,"ascii"),fl=(s,t)=>dl(Math.floor(s).toString(8),t),dl=(s,t)=>(s.length===t-1?s:new Array(t-s.length-1).join("0")+s+" ")+"\0",_i=(s,t,e,i)=>i===null?!1:Rt(s,t,e,i.getTime()/1e3),ml=new Array(156).join("\0"),Mt=(s,t,e,i)=>i===null?!1:(s.write(i+ml,t,e,"utf8"),i.length!==Buffer.byteLength(i)||i.length>e);un.exports=gi});var $e=p((Zc,fn)=>{"use strict";c();var pl=Xt(),El=m("path"),Se=class{constructor(t,e){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=e||!1}encode(){let t=this.encodeBody();if(t==="")return null;let e=Buffer.byteLength(t),i=512*Math.ceil(1+e/512),r=Buffer.allocUnsafe(i);for(let n=0;n<512;n++)r[n]=0;new pl({path:("PaxHeader/"+El.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:e,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(r),r.write(t,512,e,"utf8");for(let n=e+512;n<r.length;n++)r[n]=0;return r}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let e=this[t]instanceof Date?this[t].getTime()/1e3:this[t],i=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+e+`
`,r=Buffer.byteLength(i),n=Math.floor(Math.log(r)/Math.log(10))+1;return r+n>=Math.pow(10,n)&&(n+=1),n+r+i}};Se.parse=(s,t,e)=>new Se(yl(Sl(s),t),e);var yl=(s,t)=>t?Object.keys(s).reduce((e,i)=>(e[i]=s[i],e),t):s,Sl=s=>s.replace(/\n$/,"").split(`
`).reduce(wl,Object.create(null)),wl=(s,t)=>{let e=parseInt(t,10);if(e!==Buffer.byteLength(t)+1)return s;t=t.slice((e+" ").length);let i=t.split("="),r=i.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!r)return s;let n=i.join("=");return s[r]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(r)?new Date(n*1e3):/^[0-9]+$/.test(n)?+n:n,s};fn.exports=Se});var $t=p((Xc,dn)=>{"use strict";c();dn.exports=s=>{let t=s.length-1,e=-1;for(;t>-1&&s.charAt(t)==="/";)e=t,t--;return e===-1?s:s.slice(0,e)}});var Je=p((Jc,mn)=>{"use strict";c();mn.exports=s=>class extends s{warn(t,e,i={}){this.file&&(i.file=this.file),this.cwd&&(i.cwd=this.cwd),i.code=e instanceof Error&&e.code||t,i.tarCode=t,!this.strict&&i.recoverable!==!1?(e instanceof Error&&(i=Object.assign(e,i),e=e.message),this.emit("warn",i.tarCode,e,i)):e instanceof Error?this.emit("error",Object.assign(e,i)):this.emit("error",Object.assign(new Error(`${t}: ${e}`),i))}}});var Oi=p((tu,pn)=>{"use strict";c();var je=["|","<",">","?",":"],bi=je.map(s=>String.fromCharCode(61440+s.charCodeAt(0))),Rl=new Map(je.map((s,t)=>[s,bi[t]])),_l=new Map(bi.map((s,t)=>[s,je[t]]));pn.exports={encode:s=>je.reduce((t,e)=>t.split(e).join(Rl.get(e)),s),decode:s=>bi.reduce((t,e)=>t.split(e).join(_l.get(e)),s)}});var Ti=p((su,yn)=>{"use strict";c();var{isAbsolute:gl,parse:En}=m("path").win32;yn.exports=s=>{let t="",e=En(s);for(;gl(s)||e.root;){let i=s.charAt(0)==="/"&&s.slice(0,4)!=="//?/"?"/":e.root;s=s.slice(i.length),t+=i,e=En(s)}return[t,s]}});var wn=p((ru,Sn)=>{"use strict";c();Sn.exports=(s,t,e)=>(s&=4095,e&&(s=(s|384)&-19),t&&(s&256&&(s|=64),s&32&&(s|=8),s&4&&(s|=1)),s)});var Fi=p((lu,Cn)=>{"use strict";c();var{Minipass:Ln}=qe(),Dn=$e(),An=Xt(),j=m("fs"),Rn=m("path"),J=Zt(),bl=$t(),Nn=(s,t)=>t?(s=J(s).replace(/^\.(\/|$)/,""),bl(t)+"/"+s):J(s),Ol=16*1024*1024,_n=Symbol("process"),gn=Symbol("file"),bn=Symbol("directory"),Di=Symbol("symlink"),On=Symbol("hardlink"),we=Symbol("header"),Qe=Symbol("read"),Ai=Symbol("lstat"),ts=Symbol("onlstat"),Ni=Symbol("onread"),Ii=Symbol("onreadlink"),xi=Symbol("openfile"),vi=Symbol("onopenfile"),_t=Symbol("close"),es=Symbol("mode"),Ci=Symbol("awaitDrain"),Li=Symbol("ondrain"),Q=Symbol("prefix"),Tn=Symbol("hadError"),In=Je(),Tl=Oi(),xn=Ti(),vn=wn(),ss=In(class extends Ln{constructor(t,e){if(e=e||{},super(e),typeof t!="string")throw new TypeError("path is required");this.path=J(t),this.portable=!!e.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=e.maxReadSize||Ol,this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.preservePaths=!!e.preservePaths,this.cwd=J(e.cwd||process.cwd()),this.strict=!!e.strict,this.noPax=!!e.noPax,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.prefix=e.prefix?J(e.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof e.onwarn=="function"&&this.on("warn",e.onwarn);let i=!1;if(!this.preservePaths){let[r,n]=xn(this.path);r&&(this.path=n,i=r)}this.win32=!!e.win32||process.platform==="win32",this.win32&&(this.path=Tl.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=J(e.absolute||Rn.resolve(this.cwd,t)),this.path===""&&(this.path="./"),i&&this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path}),this.statCache.has(this.absolute)?this[ts](this.statCache.get(this.absolute)):this[Ai]()}emit(t,...e){return t==="error"&&(this[Tn]=!0),super.emit(t,...e)}[Ai](){j.lstat(this.absolute,(t,e)=>{if(t)return this.emit("error",t);this[ts](e)})}[ts](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=Dl(t),this.emit("stat",t),this[_n]()}[_n](){switch(this.type){case"File":return this[gn]();case"Directory":return this[bn]();case"SymbolicLink":return this[Di]();default:return this.end()}}[es](t){return vn(t,this.type==="Directory",this.portable)}[Q](t){return Nn(t,this.prefix)}[we](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new An({path:this[Q](this.path),linkpath:this.type==="Link"?this[Q](this.linkpath):this.linkpath,mode:this[es](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new Dn({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[Q](this.path),linkpath:this.type==="Link"?this[Q](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[bn](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[we](),this.end()}[Di](){j.readlink(this.absolute,(t,e)=>{if(t)return this.emit("error",t);this[Ii](e)})}[Ii](t){this.linkpath=J(t),this[we](),this.end()}[On](t){this.type="Link",this.linkpath=J(Rn.relative(this.cwd,t)),this.stat.size=0,this[we](),this.end()}[gn](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let e=this.linkCache.get(t);if(e.indexOf(this.cwd)===0)return this[On](e)}this.linkCache.set(t,this.absolute)}if(this[we](),this.stat.size===0)return this.end();this[xi]()}[xi](){j.open(this.absolute,"r",(t,e)=>{if(t)return this.emit("error",t);this[vi](e)})}[vi](t){if(this.fd=t,this[Tn])return this[_t]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let e=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(e),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Qe]()}[Qe](){let{fd:t,buf:e,offset:i,length:r,pos:n}=this;j.read(t,e,i,r,n,(h,o)=>{if(h)return this[_t](()=>this.emit("error",h));this[Ni](o)})}[_t](t){j.close(this.fd,t)}[Ni](t){if(t<=0&&this.remain>0){let r=new Error("encountered unexpected EOF");return r.path=this.absolute,r.syscall="read",r.code="EOF",this[_t](()=>this.emit("error",r))}if(t>this.remain){let r=new Error("did not encounter expected EOF");return r.path=this.absolute,r.syscall="read",r.code="EOF",this[_t](()=>this.emit("error",r))}if(t===this.remain)for(let r=t;r<this.length&&t<this.blockRemain;r++)this.buf[r+this.offset]=0,t++,this.remain++;let e=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(e)?this[Li]():this[Ci](()=>this[Li]())}[Ci](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let e=new Error("writing more data than expected");return e.path=this.absolute,this.emit("error",e)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[Li](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[_t](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Qe]()}}),Mi=class extends ss{[Ai](){this[ts](j.lstatSync(this.absolute))}[Di](){this[Ii](j.readlinkSync(this.absolute))}[xi](){this[vi](j.openSync(this.absolute,"r"))}[Qe](){let t=!0;try{let{fd:e,buf:i,offset:r,length:n,pos:h}=this,o=j.readSync(e,i,r,n,h);this[Ni](o),t=!1}finally{if(t)try{this[_t](()=>{})}catch{}}}[Ci](t){t()}[_t](t){j.closeSync(this.fd),t()}},Ll=In(class extends Ln{constructor(t,e){e=e||{},super(e),this.preservePaths=!!e.preservePaths,this.portable=!!e.portable,this.strict=!!e.strict,this.noPax=!!e.noPax,this.noMtime=!!e.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=e.prefix||null,this.path=J(t.path),this.mode=this[es](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:e.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=J(t.linkpath),typeof e.onwarn=="function"&&this.on("warn",e.onwarn);let i=!1;if(!this.preservePaths){let[r,n]=xn(this.path);r&&(this.path=n,i=r)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new An({path:this[Q](this.path),linkpath:this.type==="Link"?this[Q](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),i&&this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path}),this.header.encode()&&!this.noPax&&super.write(new Dn({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[Q](this.path),linkpath:this.type==="Link"?this[Q](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[Q](t){return Nn(t,this.prefix)}[es](t){return vn(t,this.type==="Directory",this.portable)}write(t){let e=t.length;if(e>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=e,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});ss.Sync=Mi;ss.Tar=Ll;var Dl=s=>s.isFile()?"File":s.isDirectory()?"Directory":s.isSymbolicLink()?"SymbolicLink":"Unsupported";Cn.exports=ss});var Fn=p((cu,Mn)=>{"use strict";c();Mn.exports=function(s){s.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var Bi=p((fu,Bn)=>{"use strict";c();Bn.exports=S;S.Node=Ft;S.create=S;function S(s){var t=this;if(t instanceof S||(t=new S),t.tail=null,t.head=null,t.length=0,s&&typeof s.forEach=="function")s.forEach(function(r){t.push(r)});else if(arguments.length>0)for(var e=0,i=arguments.length;e<i;e++)t.push(arguments[e]);return t}S.prototype.removeNode=function(s){if(s.list!==this)throw new Error("removing node which does not belong to this list");var t=s.next,e=s.prev;return t&&(t.prev=e),e&&(e.next=t),s===this.head&&(this.head=t),s===this.tail&&(this.tail=e),s.list.length--,s.next=null,s.prev=null,s.list=null,t};S.prototype.unshiftNode=function(s){if(s!==this.head){s.list&&s.list.removeNode(s);var t=this.head;s.list=this,s.next=t,t&&(t.prev=s),this.head=s,this.tail||(this.tail=s),this.length++}};S.prototype.pushNode=function(s){if(s!==this.tail){s.list&&s.list.removeNode(s);var t=this.tail;s.list=this,s.prev=t,t&&(t.next=s),this.tail=s,this.head||(this.head=s),this.length++}};S.prototype.push=function(){for(var s=0,t=arguments.length;s<t;s++)Nl(this,arguments[s]);return this.length};S.prototype.unshift=function(){for(var s=0,t=arguments.length;s<t;s++)Il(this,arguments[s]);return this.length};S.prototype.pop=function(){if(this.tail){var s=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,s}};S.prototype.shift=function(){if(this.head){var s=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,s}};S.prototype.forEach=function(s,t){t=t||this;for(var e=this.head,i=0;e!==null;i++)s.call(t,e.value,i,this),e=e.next};S.prototype.forEachReverse=function(s,t){t=t||this;for(var e=this.tail,i=this.length-1;e!==null;i--)s.call(t,e.value,i,this),e=e.prev};S.prototype.get=function(s){for(var t=0,e=this.head;e!==null&&t<s;t++)e=e.next;if(t===s&&e!==null)return e.value};S.prototype.getReverse=function(s){for(var t=0,e=this.tail;e!==null&&t<s;t++)e=e.prev;if(t===s&&e!==null)return e.value};S.prototype.map=function(s,t){t=t||this;for(var e=new S,i=this.head;i!==null;)e.push(s.call(t,i.value,this)),i=i.next;return e};S.prototype.mapReverse=function(s,t){t=t||this;for(var e=new S,i=this.tail;i!==null;)e.push(s.call(t,i.value,this)),i=i.prev;return e};S.prototype.reduce=function(s,t){var e,i=this.head;if(arguments.length>1)e=t;else if(this.head)i=this.head.next,e=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=0;i!==null;r++)e=s(e,i.value,r),i=i.next;return e};S.prototype.reduceReverse=function(s,t){var e,i=this.tail;if(arguments.length>1)e=t;else if(this.tail)i=this.tail.prev,e=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=this.length-1;i!==null;r--)e=s(e,i.value,r),i=i.prev;return e};S.prototype.toArray=function(){for(var s=new Array(this.length),t=0,e=this.head;e!==null;t++)s[t]=e.value,e=e.next;return s};S.prototype.toArrayReverse=function(){for(var s=new Array(this.length),t=0,e=this.tail;e!==null;t++)s[t]=e.value,e=e.prev;return s};S.prototype.slice=function(s,t){t=t||this.length,t<0&&(t+=this.length),s=s||0,s<0&&(s+=this.length);var e=new S;if(t<s||t<0)return e;s<0&&(s=0),t>this.length&&(t=this.length);for(var i=0,r=this.head;r!==null&&i<s;i++)r=r.next;for(;r!==null&&i<t;i++,r=r.next)e.push(r.value);return e};S.prototype.sliceReverse=function(s,t){t=t||this.length,t<0&&(t+=this.length),s=s||0,s<0&&(s+=this.length);var e=new S;if(t<s||t<0)return e;s<0&&(s=0),t>this.length&&(t=this.length);for(var i=this.length,r=this.tail;r!==null&&i>t;i--)r=r.prev;for(;r!==null&&i>s;i--,r=r.prev)e.push(r.value);return e};S.prototype.splice=function(s,t,...e){s>this.length&&(s=this.length-1),s<0&&(s=this.length+s);for(var i=0,r=this.head;r!==null&&i<s;i++)r=r.next;for(var n=[],i=0;r&&i<t;i++)n.push(r.value),r=this.removeNode(r);r===null&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(var i=0;i<e.length;i++)r=Al(this,r,e[i]);return n};S.prototype.reverse=function(){for(var s=this.head,t=this.tail,e=s;e!==null;e=e.prev){var i=e.prev;e.prev=e.next,e.next=i}return this.head=t,this.tail=s,this};function Al(s,t,e){var i=t===s.head?new Ft(e,null,t,s):new Ft(e,t,t.next,s);return i.next===null&&(s.tail=i),i.prev===null&&(s.head=i),s.length++,i}function Nl(s,t){s.tail=new Ft(t,s.tail,null,s),s.head||(s.head=s.tail),s.length++}function Il(s,t){s.head=new Ft(t,null,s.head,s),s.tail||(s.tail=s.head),s.length++}function Ft(s,t,e,i){if(!(this instanceof Ft))return new Ft(s,t,e,i);this.list=i,this.value=s,t?(t.next=this,this.prev=t):this.prev=null,e?(e.prev=this,this.next=e):this.next=null}try{Fn()(S)}catch{}});var us=p((pu,Gn)=>{"use strict";c();var as=class{constructor(t,e){this.path=t||"./",this.absolute=e,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:xl}=qe(),Pn=mi(),vl=Ve(),Yi=Fi(),Cl=Yi.Sync,Ml=Yi.Tar,Fl=Bi(),kn=Buffer.alloc(1024),ns=Symbol("onStat"),is=Symbol("ended"),tt=Symbol("queue"),Jt=Symbol("current"),Bt=Symbol("process"),rs=Symbol("processing"),qn=Symbol("processJob"),et=Symbol("jobs"),Pi=Symbol("jobDone"),hs=Symbol("addFSEntry"),zn=Symbol("addTarEntry"),Ui=Symbol("stat"),Hi=Symbol("readdir"),os=Symbol("onreaddir"),ls=Symbol("pipe"),Un=Symbol("entry"),ki=Symbol("entryOpt"),Wi=Symbol("writeEntryClass"),Wn=Symbol("write"),qi=Symbol("ondrain"),cs=m("fs"),Hn=m("path"),Bl=Je(),zi=Zt(),Ki=Bl(class extends xl{constructor(t){if(super(t),t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=zi(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[Wi]=Yi,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip||t.brotli){if(t.gzip&&t.brotli)throw new TypeError("gzip and brotli are mutually exclusive");t.gzip&&(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new Pn.Gzip(t.gzip)),t.brotli&&(typeof t.brotli!="object"&&(t.brotli={}),this.zip=new Pn.BrotliCompress(t.brotli)),this.zip.on("data",e=>super.write(e)),this.zip.on("end",e=>super.end()),this.zip.on("drain",e=>this[qi]()),this.on("resume",e=>this.zip.resume())}else this.on("drain",this[qi]);this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:e=>!0,this[tt]=new Fl,this[et]=0,this.jobs=+t.jobs||4,this[rs]=!1,this[is]=!1}[Wn](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[is]=!0,this[Bt](),this}write(t){if(this[is])throw new Error("write after end");return t instanceof vl?this[zn](t):this[hs](t),this.flowing}[zn](t){let e=zi(Hn.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let i=new as(t.path,e,!1);i.entry=new Ml(t,this[ki](i)),i.entry.on("end",r=>this[Pi](i)),this[et]+=1,this[tt].push(i)}this[Bt]()}[hs](t){let e=zi(Hn.resolve(this.cwd,t));this[tt].push(new as(t,e)),this[Bt]()}[Ui](t){t.pending=!0,this[et]+=1;let e=this.follow?"stat":"lstat";cs[e](t.absolute,(i,r)=>{t.pending=!1,this[et]-=1,i?this.emit("error",i):this[ns](t,r)})}[ns](t,e){this.statCache.set(t.absolute,e),t.stat=e,this.filter(t.path,e)||(t.ignore=!0),this[Bt]()}[Hi](t){t.pending=!0,this[et]+=1,cs.readdir(t.absolute,(e,i)=>{if(t.pending=!1,this[et]-=1,e)return this.emit("error",e);this[os](t,i)})}[os](t,e){this.readdirCache.set(t.absolute,e),t.readdir=e,this[Bt]()}[Bt](){if(!this[rs]){this[rs]=!0;for(let t=this[tt].head;t!==null&&this[et]<this.jobs;t=t.next)if(this[qn](t.value),t.value.ignore){let e=t.next;this[tt].removeNode(t),t.next=e}this[rs]=!1,this[is]&&!this[tt].length&&this[et]===0&&(this.zip?this.zip.end(kn):(super.write(kn),super.end()))}}get[Jt](){return this[tt]&&this[tt].head&&this[tt].head.value}[Pi](t){this[tt].shift(),this[et]-=1,this[Bt]()}[qn](t){if(!t.pending){if(t.entry){t===this[Jt]&&!t.piped&&this[ls](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[ns](t,this.statCache.get(t.absolute)):this[Ui](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[os](t,this.readdirCache.get(t.absolute)):this[Hi](t),!t.readdir))){if(t.entry=this[Un](t),!t.entry){t.ignore=!0;return}t===this[Jt]&&!t.piped&&this[ls](t)}}}[ki](t){return{onwarn:(e,i,r)=>this.warn(e,i,r),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[Un](t){this[et]+=1;try{return new this[Wi](t.path,this[ki](t)).on("end",()=>this[Pi](t)).on("error",e=>this.emit("error",e))}catch(e){this.emit("error",e)}}[qi](){this[Jt]&&this[Jt].entry&&this[Jt].entry.resume()}[ls](t){t.piped=!0,t.readdir&&t.readdir.forEach(r=>{let n=t.path,h=n==="./"?"":n.replace(/\/*$/,"/");this[hs](h+r)});let e=t.entry,i=this.zip;i?e.on("data",r=>{i.write(r)||e.pause()}):e.on("data",r=>{super.write(r)||e.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Gi=class extends Ki{constructor(t){super(t),this[Wi]=Cl}pause(){}resume(){}[Ui](t){let e=this.follow?"statSync":"lstatSync";this[ns](t,cs[e](t.absolute))}[Hi](t,e){this[os](t,cs.readdirSync(t.absolute))}[ls](t){let e=t.entry,i=this.zip;t.readdir&&t.readdir.forEach(r=>{let n=t.path,h=n==="./"?"":n.replace(/\/*$/,"/");this[hs](h+r)}),i?e.on("data",r=>{i.write(r)}):e.on("data",r=>{super[Wn](r)})}};Ki.Sync=Gi;Gn.exports=Ki});var ne=p(_e=>{"use strict";c();var Pl=js(),kl=m("events").EventEmitter,k=m("fs"),Xi=k.writev;if(!Xi){let s=process.binding("fs"),t=s.FSReqWrap||s.FSReqCallback;Xi=(e,i,r,n)=>{let h=(a,l)=>n(a,l,i),o=new t;o.oncomplete=h,s.writeBuffers(e,i,r,o)}}var ie=Symbol("_autoClose"),V=Symbol("_close"),Re=Symbol("_ended"),R=Symbol("_fd"),Yn=Symbol("_finished"),bt=Symbol("_flags"),Zi=Symbol("_flush"),$i=Symbol("_handleChunk"),Ji=Symbol("_makeBuf"),Es=Symbol("_mode"),fs=Symbol("_needDrain"),ee=Symbol("_onerror"),re=Symbol("_onopen"),Vi=Symbol("_onread"),Qt=Symbol("_onwrite"),Ot=Symbol("_open"),ft=Symbol("_path"),Pt=Symbol("_pos"),st=Symbol("_queue"),te=Symbol("_read"),Kn=Symbol("_readSize"),gt=Symbol("_reading"),ds=Symbol("_remain"),Zn=Symbol("_size"),ms=Symbol("_write"),jt=Symbol("_writing"),ps=Symbol("_defaultFlag"),se=Symbol("_errored"),ys=class extends Pl{constructor(t,e){if(e=e||{},super(e),this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[se]=!1,this[R]=typeof e.fd=="number"?e.fd:null,this[ft]=t,this[Kn]=e.readSize||16*1024*1024,this[gt]=!1,this[Zn]=typeof e.size=="number"?e.size:1/0,this[ds]=this[Zn],this[ie]=typeof e.autoClose=="boolean"?e.autoClose:!0,typeof this[R]=="number"?this[te]():this[Ot]()}get fd(){return this[R]}get path(){return this[ft]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Ot](){k.open(this[ft],"r",(t,e)=>this[re](t,e))}[re](t,e){t?this[ee](t):(this[R]=e,this.emit("open",e),this[te]())}[Ji](){return Buffer.allocUnsafe(Math.min(this[Kn],this[ds]))}[te](){if(!this[gt]){this[gt]=!0;let t=this[Ji]();if(t.length===0)return process.nextTick(()=>this[Vi](null,0,t));k.read(this[R],t,0,t.length,null,(e,i,r)=>this[Vi](e,i,r))}}[Vi](t,e,i){this[gt]=!1,t?this[ee](t):this[$i](e,i)&&this[te]()}[V](){if(this[ie]&&typeof this[R]=="number"){let t=this[R];this[R]=null,k.close(t,e=>e?this.emit("error",e):this.emit("close"))}}[ee](t){this[gt]=!0,this[V](),this.emit("error",t)}[$i](t,e){let i=!1;return this[ds]-=t,t>0&&(i=super.write(t<e.length?e.slice(0,t):e)),(t===0||this[ds]<=0)&&(i=!1,this[V](),super.end()),i}emit(t,e){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[R]=="number"&&this[te]();break;case"error":return this[se]?void 0:(this[se]=!0,super.emit(t,e));default:return super.emit(t,e)}}},ji=class extends ys{[Ot](){let t=!0;try{this[re](null,k.openSync(this[ft],"r")),t=!1}finally{t&&this[V]()}}[te](){let t=!0;try{if(!this[gt]){this[gt]=!0;do{let e=this[Ji](),i=e.length===0?0:k.readSync(this[R],e,0,e.length,null);if(!this[$i](i,e))break}while(!0);this[gt]=!1}t=!1}finally{t&&this[V]()}}[V](){if(this[ie]&&typeof this[R]=="number"){let t=this[R];this[R]=null,k.closeSync(t),this.emit("close")}}},Ss=class extends kl{constructor(t,e){e=e||{},super(e),this.readable=!1,this.writable=!0,this[se]=!1,this[jt]=!1,this[Re]=!1,this[fs]=!1,this[st]=[],this[ft]=t,this[R]=typeof e.fd=="number"?e.fd:null,this[Es]=e.mode===void 0?438:e.mode,this[Pt]=typeof e.start=="number"?e.start:null,this[ie]=typeof e.autoClose=="boolean"?e.autoClose:!0;let i=this[Pt]!==null?"r+":"w";this[ps]=e.flags===void 0,this[bt]=this[ps]?i:e.flags,this[R]===null&&this[Ot]()}emit(t,e){if(t==="error"){if(this[se])return;this[se]=!0}return super.emit(t,e)}get fd(){return this[R]}get path(){return this[ft]}[ee](t){this[V](),this[jt]=!0,this.emit("error",t)}[Ot](){k.open(this[ft],this[bt],this[Es],(t,e)=>this[re](t,e))}[re](t,e){this[ps]&&this[bt]==="r+"&&t&&t.code==="ENOENT"?(this[bt]="w",this[Ot]()):t?this[ee](t):(this[R]=e,this.emit("open",e),this[Zi]())}end(t,e){return t&&this.write(t,e),this[Re]=!0,!this[jt]&&!this[st].length&&typeof this[R]=="number"&&this[Qt](null,0),this}write(t,e){return typeof t=="string"&&(t=Buffer.from(t,e)),this[Re]?(this.emit("error",new Error("write() after end()")),!1):this[R]===null||this[jt]||this[st].length?(this[st].push(t),this[fs]=!0,!1):(this[jt]=!0,this[ms](t),!0)}[ms](t){k.write(this[R],t,0,t.length,this[Pt],(e,i)=>this[Qt](e,i))}[Qt](t,e){t?this[ee](t):(this[Pt]!==null&&(this[Pt]+=e),this[st].length?this[Zi]():(this[jt]=!1,this[Re]&&!this[Yn]?(this[Yn]=!0,this[V](),this.emit("finish")):this[fs]&&(this[fs]=!1,this.emit("drain"))))}[Zi](){if(this[st].length===0)this[Re]&&this[Qt](null,0);else if(this[st].length===1)this[ms](this[st].pop());else{let t=this[st];this[st]=[],Xi(this[R],t,this[Pt],(e,i)=>this[Qt](e,i))}}[V](){if(this[ie]&&typeof this[R]=="number"){let t=this[R];this[R]=null,k.close(t,e=>e?this.emit("error",e):this.emit("close"))}}},Qi=class extends Ss{[Ot](){let t;if(this[ps]&&this[bt]==="r+")try{t=k.openSync(this[ft],this[bt],this[Es])}catch(e){if(e.code==="ENOENT")return this[bt]="w",this[Ot]();throw e}else t=k.openSync(this[ft],this[bt],this[Es]);this[re](null,t)}[V](){if(this[ie]&&typeof this[R]=="number"){let t=this[R];this[R]=null,k.closeSync(t),this.emit("close")}}[ms](t){let e=!0;try{this[Qt](null,k.writeSync(this[R],t,0,t.length,this[Pt])),e=!1}finally{if(e)try{this[V]()}catch{}}}};_e.ReadStream=ys;_e.ReadStreamSync=ji;_e.WriteStream=Ss;_e.WriteStreamSync=Qi});var Ts=p((Ru,ih)=>{"use strict";c();var ql=Je(),Vn=Xt(),zl=m("events"),Ul=Bi(),Hl=1024*1024,Wl=Ve(),Xn=$e(),$n=mi(),{nextTick:Gl}=m("process"),tr=Buffer.from([31,139]),H=Symbol("state"),kt=Symbol("writeEntry"),dt=Symbol("readEntry"),er=Symbol("nextEntry"),Jn=Symbol("processEntry"),W=Symbol("extendedHeader"),ge=Symbol("globalExtendedHeader"),Tt=Symbol("meta"),jn=Symbol("emitMeta"),g=Symbol("buffer"),mt=Symbol("queue"),Lt=Symbol("ended"),Qn=Symbol("emittedEnd"),qt=Symbol("emit"),I=Symbol("unzip"),ws=Symbol("consumeChunk"),Rs=Symbol("consumeChunkSub"),sr=Symbol("consumeBody"),th=Symbol("consumeMeta"),eh=Symbol("consumeHeader"),_s=Symbol("consuming"),ir=Symbol("bufferConcat"),rr=Symbol("maybeEnd"),be=Symbol("writing"),Dt=Symbol("aborted"),gs=Symbol("onDone"),zt=Symbol("sawValidEntry"),bs=Symbol("sawNullBlock"),Os=Symbol("sawEOF"),sh=Symbol("closeStream"),Yl=s=>!0;ih.exports=ql(class extends zl{constructor(t){t=t||{},super(t),this.file=t.file||"",this[zt]=null,this.on(gs,i=>{(this[H]==="begin"||this[zt]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(gs,t.ondone):this.on(gs,i=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||Hl,this.filter=typeof t.filter=="function"?t.filter:Yl;let e=t.file&&(t.file.endsWith(".tar.br")||t.file.endsWith(".tbr"));this.brotli=!t.gzip&&t.brotli!==void 0?t.brotli:e?void 0:!1,this.writable=!0,this.readable=!1,this[mt]=new Ul,this[g]=null,this[dt]=null,this[kt]=null,this[H]="begin",this[Tt]="",this[W]=null,this[ge]=null,this[Lt]=!1,this[I]=null,this[Dt]=!1,this[bs]=!1,this[Os]=!1,this.on("end",()=>this[sh]()),typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[eh](t,e){this[zt]===null&&(this[zt]=!1);let i;try{i=new Vn(t,e,this[W],this[ge])}catch(r){return this.warn("TAR_ENTRY_INVALID",r)}if(i.nullBlock)this[bs]?(this[Os]=!0,this[H]==="begin"&&(this[H]="header"),this[qt]("eof")):(this[bs]=!0,this[qt]("nullBlock"));else if(this[bs]=!1,!i.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:i});else if(!i.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:i});else{let r=i.type;if(/^(Symbolic)?Link$/.test(r)&&!i.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:i});else if(!/^(Symbolic)?Link$/.test(r)&&i.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:i});else{let n=this[kt]=new Wl(i,this[W],this[ge]);if(!this[zt])if(n.remain){let h=()=>{n.invalid||(this[zt]=!0)};n.on("end",h)}else this[zt]=!0;n.meta?n.size>this.maxMetaEntrySize?(n.ignore=!0,this[qt]("ignoredEntry",n),this[H]="ignore",n.resume()):n.size>0&&(this[Tt]="",n.on("data",h=>this[Tt]+=h),this[H]="meta"):(this[W]=null,n.ignore=n.ignore||!this.filter(n.path,n),n.ignore?(this[qt]("ignoredEntry",n),this[H]=n.remain?"ignore":"header",n.resume()):(n.remain?this[H]="body":(this[H]="header",n.end()),this[dt]?this[mt].push(n):(this[mt].push(n),this[er]())))}}}[sh](){Gl(()=>this.emit("close"))}[Jn](t){let e=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[dt]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",i=>this[er]()),e=!1)):(this[dt]=null,e=!1),e}[er](){do;while(this[Jn](this[mt].shift()));if(!this[mt].length){let t=this[dt];!t||t.flowing||t.size===t.remain?this[be]||this.emit("drain"):t.once("drain",i=>this.emit("drain"))}}[sr](t,e){let i=this[kt],r=i.blockRemain,n=r>=t.length&&e===0?t:t.slice(e,e+r);return i.write(n),i.blockRemain||(this[H]="header",this[kt]=null,i.end()),n.length}[th](t,e){let i=this[kt],r=this[sr](t,e);return this[kt]||this[jn](i),r}[qt](t,e,i){!this[mt].length&&!this[dt]?this.emit(t,e,i):this[mt].push([t,e,i])}[jn](t){switch(this[qt]("meta",this[Tt]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[W]=Xn.parse(this[Tt],this[W],!1);break;case"GlobalExtendedHeader":this[ge]=Xn.parse(this[Tt],this[ge],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[W]=this[W]||Object.create(null),this[W].path=this[Tt].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[W]=this[W]||Object.create(null),this[W].linkpath=this[Tt].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[Dt]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[Dt])return;if((this[I]===null||this.brotli===void 0&&this[I]===!1)&&t){if(this[g]&&(t=Buffer.concat([this[g],t]),this[g]=null),t.length<tr.length)return this[g]=t,!0;for(let n=0;this[I]===null&&n<tr.length;n++)t[n]!==tr[n]&&(this[I]=!1);let r=this.brotli===void 0;if(this[I]===!1&&r)if(t.length<512)if(this[Lt])this.brotli=!0;else return this[g]=t,!0;else try{new Vn(t.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[I]===null||this[I]===!1&&this.brotli){let n=this[Lt];this[Lt]=!1,this[I]=this[I]===null?new $n.Unzip:new $n.BrotliDecompress,this[I].on("data",o=>this[ws](o)),this[I].on("error",o=>this.abort(o)),this[I].on("end",o=>{this[Lt]=!0,this[ws]()}),this[be]=!0;let h=this[I][n?"end":"write"](t);return this[be]=!1,h}}this[be]=!0,this[I]?this[I].write(t):this[ws](t),this[be]=!1;let i=this[mt].length?!1:this[dt]?this[dt].flowing:!0;return!i&&!this[mt].length&&this[dt].once("drain",r=>this.emit("drain")),i}[ir](t){t&&!this[Dt]&&(this[g]=this[g]?Buffer.concat([this[g],t]):t)}[rr](){if(this[Lt]&&!this[Qn]&&!this[Dt]&&!this[_s]){this[Qn]=!0;let t=this[kt];if(t&&t.blockRemain){let e=this[g]?this[g].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${e} available)`,{entry:t}),this[g]&&t.write(this[g]),t.end()}this[qt](gs)}}[ws](t){if(this[_s])this[ir](t);else if(!t&&!this[g])this[rr]();else{if(this[_s]=!0,this[g]){this[ir](t);let e=this[g];this[g]=null,this[Rs](e)}else this[Rs](t);for(;this[g]&&this[g].length>=512&&!this[Dt]&&!this[Os];){let e=this[g];this[g]=null,this[Rs](e)}this[_s]=!1}(!this[g]||this[Lt])&&this[rr]()}[Rs](t){let e=0,i=t.length;for(;e+512<=i&&!this[Dt]&&!this[Os];)switch(this[H]){case"begin":case"header":this[eh](t,e),e+=512;break;case"ignore":case"body":e+=this[sr](t,e);break;case"meta":e+=this[th](t,e);break;default:throw new Error("invalid state: "+this[H])}e<i&&(this[g]?this[g]=Buffer.concat([t.slice(e),this[g]]):this[g]=t.slice(e))}end(t){this[Dt]||(this[I]?this[I].end(t):(this[Lt]=!0,this.brotli===void 0&&(t=t||Buffer.alloc(0)),this.write(t)))}})});var Ls=p((gu,oh)=>{"use strict";c();var Kl=Ht(),nh=Ts(),he=m("fs"),Zl=ne(),rh=m("path"),nr=$t();oh.exports=(s,t,e)=>{typeof s=="function"?(e=s,t=null,s={}):Array.isArray(s)&&(t=s,s={}),typeof t=="function"&&(e=t,t=null),t?t=Array.from(t):t=[];let i=Kl(s);if(i.sync&&typeof e=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof e=="function")throw new TypeError("callback only supported with file option");return t.length&&Xl(i,t),i.noResume||Vl(i),i.file&&i.sync?$l(i):i.file?Jl(i,e):hh(i)};var Vl=s=>{let t=s.onentry;s.onentry=t?e=>{t(e),e.resume()}:e=>e.resume()},Xl=(s,t)=>{let e=new Map(t.map(n=>[nr(n),!0])),i=s.filter,r=(n,h)=>{let o=h||rh.parse(n).root||".",a=n===o?!1:e.has(n)?e.get(n):r(rh.dirname(n),o);return e.set(n,a),a};s.filter=i?(n,h)=>i(n,h)&&r(nr(n)):n=>r(nr(n))},$l=s=>{let t=hh(s),e=s.file,i=!0,r;try{let n=he.statSync(e),h=s.maxReadSize||16*1024*1024;if(n.size<h)t.end(he.readFileSync(e));else{let o=0,a=Buffer.allocUnsafe(h);for(r=he.openSync(e,"r");o<n.size;){let l=he.readSync(r,a,0,h,o);o+=l,t.write(a.slice(0,l))}t.end()}i=!1}finally{if(i&&r)try{he.closeSync(r)}catch{}}},Jl=(s,t)=>{let e=new nh(s),i=s.maxReadSize||16*1024*1024,r=s.file,n=new Promise((h,o)=>{e.on("error",o),e.on("end",h),he.stat(r,(a,l)=>{if(a)o(a);else{let u=new Zl.ReadStream(r,{readSize:i,size:l.size});u.on("error",o),u.pipe(e)}})});return t?n.then(t,t):n},hh=s=>new nh(s)});var dh=p((Ou,fh)=>{"use strict";c();var jl=Ht(),Ds=us(),lh=ne(),ah=Ls(),ch=m("path");fh.exports=(s,t,e)=>{if(typeof t=="function"&&(e=t),Array.isArray(s)&&(t=s,s={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let i=jl(s);if(i.sync&&typeof e=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof e=="function")throw new TypeError("callback only supported with file option");return i.file&&i.sync?Ql(i,t):i.file?ta(i,t,e):i.sync?ea(i,t):sa(i,t)};var Ql=(s,t)=>{let e=new Ds.Sync(s),i=new lh.WriteStreamSync(s.file,{mode:s.mode||438});e.pipe(i),uh(e,t)},ta=(s,t,e)=>{let i=new Ds(s),r=new lh.WriteStream(s.file,{mode:s.mode||438});i.pipe(r);let n=new Promise((h,o)=>{r.on("error",o),r.on("close",h),i.on("error",o)});return hr(i,t),e?n.then(e,e):n},uh=(s,t)=>{t.forEach(e=>{e.charAt(0)==="@"?ah({file:ch.resolve(s.cwd,e.slice(1)),sync:!0,noResume:!0,onentry:i=>s.add(i)}):s.add(e)}),s.end()},hr=(s,t)=>{for(;t.length;){let e=t.shift();if(e.charAt(0)==="@")return ah({file:ch.resolve(s.cwd,e.slice(1)),noResume:!0,onentry:i=>s.add(i)}).then(i=>hr(s,t));s.add(e)}s.end()},ea=(s,t)=>{let e=new Ds.Sync(s);return uh(e,t),e},sa=(s,t)=>{let e=new Ds(s);return hr(e,t),e}});var or=p((Lu,Rh)=>{"use strict";c();var ia=Ht(),mh=us(),U=m("fs"),ph=ne(),Eh=Ls(),yh=m("path"),Sh=Xt();Rh.exports=(s,t,e)=>{let i=ia(s);if(!i.file)throw new TypeError("file is required");if(i.gzip||i.brotli||i.file.endsWith(".br")||i.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),i.sync?ra(i,t):ha(i,t,e)};var ra=(s,t)=>{let e=new mh.Sync(s),i=!0,r,n;try{try{r=U.openSync(s.file,"r+")}catch(a){if(a.code==="ENOENT")r=U.openSync(s.file,"w+");else throw a}let h=U.fstatSync(r),o=Buffer.alloc(512);t:for(n=0;n<h.size;n+=512){for(let u=0,f=0;u<512;u+=f){if(f=U.readSync(r,o,u,o.length-u,n+u),n===0&&o[0]===31&&o[1]===139)throw new Error("cannot append to compressed archives");if(!f)break t}let a=new Sh(o);if(!a.cksumValid)break;let l=512*Math.ceil(a.size/512);if(n+l+512>h.size)break;n+=l,s.mtimeCache&&s.mtimeCache.set(a.path,a.mtime)}i=!1,na(s,e,n,r,t)}finally{if(i)try{U.closeSync(r)}catch{}}},na=(s,t,e,i,r)=>{let n=new ph.WriteStreamSync(s.file,{fd:i,start:e});t.pipe(n),oa(t,r)},ha=(s,t,e)=>{t=Array.from(t);let i=new mh(s),r=(h,o,a)=>{let l=(y,v)=>{y?U.close(h,b=>a(y)):a(null,v)},u=0;if(o===0)return l(null,0);let f=0,d=Buffer.alloc(512),E=(y,v)=>{if(y)return l(y);if(f+=v,f<512&&v)return U.read(h,d,f,d.length-f,u+f,E);if(u===0&&d[0]===31&&d[1]===139)return l(new Error("cannot append to compressed archives"));if(f<512)return l(null,u);let b=new Sh(d);if(!b.cksumValid)return l(null,u);let O=512*Math.ceil(b.size/512);if(u+O+512>o||(u+=O+512,u>=o))return l(null,u);s.mtimeCache&&s.mtimeCache.set(b.path,b.mtime),f=0,U.read(h,d,0,512,u,E)};U.read(h,d,0,512,u,E)},n=new Promise((h,o)=>{i.on("error",o);let a="r+",l=(u,f)=>{if(u&&u.code==="ENOENT"&&a==="r+")return a="w+",U.open(s.file,a,l);if(u)return o(u);U.fstat(f,(d,E)=>{if(d)return U.close(f,()=>o(d));r(f,E.size,(y,v)=>{if(y)return o(y);let b=new ph.WriteStream(s.file,{fd:f,start:v});i.pipe(b),b.on("error",o),b.on("close",h),wh(i,t)})})};U.open(s.file,a,l)});return e?n.then(e,e):n},oa=(s,t)=>{t.forEach(e=>{e.charAt(0)==="@"?Eh({file:yh.resolve(s.cwd,e.slice(1)),sync:!0,noResume:!0,onentry:i=>s.add(i)}):s.add(e)}),s.end()},wh=(s,t)=>{for(;t.length;){let e=t.shift();if(e.charAt(0)==="@")return Eh({file:yh.resolve(s.cwd,e.slice(1)),noResume:!0,onentry:i=>s.add(i)}).then(i=>wh(s,t));s.add(e)}s.end()}});var gh=p((Au,_h)=>{"use strict";c();var la=Ht(),aa=or();_h.exports=(s,t,e)=>{let i=la(s);if(!i.file)throw new TypeError("file is required");if(i.gzip||i.brotli||i.file.endsWith(".br")||i.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),ca(i),aa(i,t,e)};var ca=s=>{let t=s.filter;s.mtimeCache||(s.mtimeCache=new Map),s.filter=t?(e,i)=>t(e,i)&&!(s.mtimeCache.get(e)>i.mtime):(e,i)=>!(s.mtimeCache.get(e)>i.mtime)}});var Th=p((Iu,Oh)=>{"use strict";c();var{promisify:bh}=m("util"),At=m("fs"),ua=s=>{if(!s)s={mode:511,fs:At};else if(typeof s=="object")s={mode:511,fs:At,...s};else if(typeof s=="number")s={mode:s,fs:At};else if(typeof s=="string")s={mode:parseInt(s,8),fs:At};else throw new TypeError("invalid options argument");return s.mkdir=s.mkdir||s.fs.mkdir||At.mkdir,s.mkdirAsync=bh(s.mkdir),s.stat=s.stat||s.fs.stat||At.stat,s.statAsync=bh(s.stat),s.statSync=s.statSync||s.fs.statSync||At.statSync,s.mkdirSync=s.mkdirSync||s.fs.mkdirSync||At.mkdirSync,s};Oh.exports=ua});var Dh=p((vu,Lh)=>{"use strict";c();var fa=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:da,parse:ma}=m("path"),pa=s=>{if(/\0/.test(s))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:s,code:"ERR_INVALID_ARG_VALUE"});if(s=da(s),fa==="win32"){let t=/[*|"<>?:]/,{root:e}=ma(s);if(t.test(s.substr(e.length)))throw Object.assign(new Error("Illegal characters in path."),{path:s,code:"EINVAL"})}return s};Lh.exports=pa});var vh=p((Mu,xh)=>{"use strict";c();var{dirname:Ah}=m("path"),Nh=(s,t,e=void 0)=>e===t?Promise.resolve():s.statAsync(t).then(i=>i.isDirectory()?e:void 0,i=>i.code==="ENOENT"?Nh(s,Ah(t),t):void 0),Ih=(s,t,e=void 0)=>{if(e!==t)try{return s.statSync(t).isDirectory()?e:void 0}catch(i){return i.code==="ENOENT"?Ih(s,Ah(t),t):void 0}};xh.exports={findMade:Nh,findMadeSync:Ih}});var cr=p((Bu,Mh)=>{"use strict";c();var{dirname:Ch}=m("path"),lr=(s,t,e)=>{t.recursive=!1;let i=Ch(s);return i===s?t.mkdirAsync(s,t).catch(r=>{if(r.code!=="EISDIR")throw r}):t.mkdirAsync(s,t).then(()=>e||s,r=>{if(r.code==="ENOENT")return lr(i,t).then(n=>lr(s,t,n));if(r.code!=="EEXIST"&&r.code!=="EROFS")throw r;return t.statAsync(s).then(n=>{if(n.isDirectory())return e;throw r},()=>{throw r})})},ar=(s,t,e)=>{let i=Ch(s);if(t.recursive=!1,i===s)try{return t.mkdirSync(s,t)}catch(r){if(r.code!=="EISDIR")throw r;return}try{return t.mkdirSync(s,t),e||s}catch(r){if(r.code==="ENOENT")return ar(s,t,ar(i,t,e));if(r.code!=="EEXIST"&&r.code!=="EROFS")throw r;try{if(!t.statSync(s).isDirectory())throw r}catch{throw r}}};Mh.exports={mkdirpManual:lr,mkdirpManualSync:ar}});var Ph=p((ku,Bh)=>{"use strict";c();var{dirname:Fh}=m("path"),{findMade:Ea,findMadeSync:ya}=vh(),{mkdirpManual:Sa,mkdirpManualSync:wa}=cr(),Ra=(s,t)=>(t.recursive=!0,Fh(s)===s?t.mkdirAsync(s,t):Ea(t,s).then(i=>t.mkdirAsync(s,t).then(()=>i).catch(r=>{if(r.code==="ENOENT")return Sa(s,t);throw r}))),_a=(s,t)=>{if(t.recursive=!0,Fh(s)===s)return t.mkdirSync(s,t);let i=ya(t,s);try{return t.mkdirSync(s,t),i}catch(r){if(r.code==="ENOENT")return wa(s,t);throw r}};Bh.exports={mkdirpNative:Ra,mkdirpNativeSync:_a}});var Uh=p((zu,zh)=>{"use strict";c();var kh=m("fs"),ga=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,ur=ga.replace(/^v/,"").split("."),qh=+ur[0]>10||+ur[0]==10&&+ur[1]>=12,ba=qh?s=>s.mkdir===kh.mkdir:()=>!1,Oa=qh?s=>s.mkdirSync===kh.mkdirSync:()=>!1;zh.exports={useNative:ba,useNativeSync:Oa}});var Zh=p((Hu,Kh)=>{"use strict";c();var oe=Th(),le=Dh(),{mkdirpNative:Hh,mkdirpNativeSync:Wh}=Ph(),{mkdirpManual:Gh,mkdirpManualSync:Yh}=cr(),{useNative:Ta,useNativeSync:La}=Uh(),ae=(s,t)=>(s=le(s),t=oe(t),Ta(t)?Hh(s,t):Gh(s,t)),Da=(s,t)=>(s=le(s),t=oe(t),La(t)?Wh(s,t):Yh(s,t));ae.sync=Da;ae.native=(s,t)=>Hh(le(s),oe(t));ae.manual=(s,t)=>Gh(le(s),oe(t));ae.nativeSync=(s,t)=>Wh(le(s),oe(t));ae.manualSync=(s,t)=>Yh(le(s),oe(t));Kh.exports=ae});var to=p((Gu,Qh)=>{"use strict";c();var G=m("fs"),Ut=m("path"),Aa=G.lchown?"lchown":"chown",Na=G.lchownSync?"lchownSync":"chownSync",Xh=G.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),Vh=(s,t,e)=>{try{return G[Na](s,t,e)}catch(i){if(i.code!=="ENOENT")throw i}},Ia=(s,t,e)=>{try{return G.chownSync(s,t,e)}catch(i){if(i.code!=="ENOENT")throw i}},xa=Xh?(s,t,e,i)=>r=>{!r||r.code!=="EISDIR"?i(r):G.chown(s,t,e,i)}:(s,t,e,i)=>i,fr=Xh?(s,t,e)=>{try{return Vh(s,t,e)}catch(i){if(i.code!=="EISDIR")throw i;Ia(s,t,e)}}:(s,t,e)=>Vh(s,t,e),va=process.version,$h=(s,t,e)=>G.readdir(s,t,e),Ca=(s,t)=>G.readdirSync(s,t);/^v4\./.test(va)&&($h=(s,t,e)=>G.readdir(s,e));var As=(s,t,e,i)=>{G[Aa](s,t,e,xa(s,t,e,r=>{i(r&&r.code!=="ENOENT"?r:null)}))},Jh=(s,t,e,i,r)=>{if(typeof t=="string")return G.lstat(Ut.resolve(s,t),(n,h)=>{if(n)return r(n.code!=="ENOENT"?n:null);h.name=t,Jh(s,h,e,i,r)});if(t.isDirectory())dr(Ut.resolve(s,t.name),e,i,n=>{if(n)return r(n);let h=Ut.resolve(s,t.name);As(h,e,i,r)});else{let n=Ut.resolve(s,t.name);As(n,e,i,r)}},dr=(s,t,e,i)=>{$h(s,{withFileTypes:!0},(r,n)=>{if(r){if(r.code==="ENOENT")return i();if(r.code!=="ENOTDIR"&&r.code!=="ENOTSUP")return i(r)}if(r||!n.length)return As(s,t,e,i);let h=n.length,o=null,a=l=>{if(!o){if(l)return i(o=l);if(--h===0)return As(s,t,e,i)}};n.forEach(l=>Jh(s,l,t,e,a))})},Ma=(s,t,e,i)=>{if(typeof t=="string")try{let r=G.lstatSync(Ut.resolve(s,t));r.name=t,t=r}catch(r){if(r.code==="ENOENT")return;throw r}t.isDirectory()&&jh(Ut.resolve(s,t.name),e,i),fr(Ut.resolve(s,t.name),e,i)},jh=(s,t,e)=>{let i;try{i=Ca(s,{withFileTypes:!0})}catch(r){if(r.code==="ENOENT")return;if(r.code==="ENOTDIR"||r.code==="ENOTSUP")return fr(s,t,e);throw r}return i&&i.length&&i.forEach(r=>Ma(s,r,t,e)),fr(s,t,e)};Qh.exports=dr;dr.sync=jh});var ro=p((Ku,mr)=>{"use strict";c();var eo=Zh(),Y=m("fs"),Ns=m("path"),so=to(),X=Zt(),Is=class extends Error{constructor(t,e){super("Cannot extract through symbolic link"),this.path=e,this.symlink=t}get name(){return"SylinkError"}},xs=class extends Error{constructor(t,e){super(e+": Cannot cd into '"+t+"'"),this.path=t,this.code=e}get name(){return"CwdError"}},vs=(s,t)=>s.get(X(t)),Oe=(s,t,e)=>s.set(X(t),e),Fa=(s,t)=>{Y.stat(s,(e,i)=>{(e||!i.isDirectory())&&(e=new xs(s,e&&e.code||"ENOTDIR")),t(e)})};mr.exports=(s,t,e)=>{s=X(s);let i=t.umask,r=t.mode|448,n=(r&i)!==0,h=t.uid,o=t.gid,a=typeof h=="number"&&typeof o=="number"&&(h!==t.processUid||o!==t.processGid),l=t.preserve,u=t.unlink,f=t.cache,d=X(t.cwd),E=(b,O)=>{b?e(b):(Oe(f,s,!0),O&&a?so(O,h,o,Dr=>E(Dr)):n?Y.chmod(s,r,e):e())};if(f&&vs(f,s)===!0)return E();if(s===d)return Fa(s,E);if(l)return eo(s,{mode:r}).then(b=>E(null,b),E);let v=X(Ns.relative(d,s)).split("/");Cs(d,v,r,f,u,d,null,E)};var Cs=(s,t,e,i,r,n,h,o)=>{if(!t.length)return o(null,h);let a=t.shift(),l=X(Ns.resolve(s+"/"+a));if(vs(i,l))return Cs(l,t,e,i,r,n,h,o);Y.mkdir(l,e,io(l,t,e,i,r,n,h,o))},io=(s,t,e,i,r,n,h,o)=>a=>{a?Y.lstat(s,(l,u)=>{if(l)l.path=l.path&&X(l.path),o(l);else if(u.isDirectory())Cs(s,t,e,i,r,n,h,o);else if(r)Y.unlink(s,f=>{if(f)return o(f);Y.mkdir(s,e,io(s,t,e,i,r,n,h,o))});else{if(u.isSymbolicLink())return o(new Is(s,s+"/"+t.join("/")));o(a)}}):(h=h||s,Cs(s,t,e,i,r,n,h,o))},Ba=s=>{let t=!1,e="ENOTDIR";try{t=Y.statSync(s).isDirectory()}catch(i){e=i.code}finally{if(!t)throw new xs(s,e)}};mr.exports.sync=(s,t)=>{s=X(s);let e=t.umask,i=t.mode|448,r=(i&e)!==0,n=t.uid,h=t.gid,o=typeof n=="number"&&typeof h=="number"&&(n!==t.processUid||h!==t.processGid),a=t.preserve,l=t.unlink,u=t.cache,f=X(t.cwd),d=b=>{Oe(u,s,!0),b&&o&&so.sync(b,n,h),r&&Y.chmodSync(s,i)};if(u&&vs(u,s)===!0)return d();if(s===f)return Ba(f),d();if(a)return d(eo.sync(s,i));let y=X(Ns.relative(f,s)).split("/"),v=null;for(let b=y.shift(),O=f;b&&(O+="/"+b);b=y.shift())if(O=X(Ns.resolve(O)),!vs(u,O))try{Y.mkdirSync(O,i),v=v||O,Oe(u,O,!0)}catch{let Ar=Y.lstatSync(O);if(Ar.isDirectory()){Oe(u,O,!0);continue}else if(l){Y.unlinkSync(O),Y.mkdirSync(O,i),v=v||O,Oe(u,O,!0);continue}else if(Ar.isSymbolicLink())return new Is(O,O+"/"+y.join("/"))}return d(v)}});var Er=p((Vu,no)=>{"use strict";c();var pr=Object.create(null),{hasOwnProperty:Pa}=Object.prototype;no.exports=s=>(Pa.call(pr,s)||(pr[s]=s.normalize("NFD")),pr[s])});var ao=p(($u,lo)=>{"use strict";c();var ho=m("assert"),ka=Er(),qa=$t(),{join:oo}=m("path"),za=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Ua=za==="win32";lo.exports=()=>{let s=new Map,t=new Map,e=l=>l.split("/").slice(0,-1).reduce((f,d)=>(f.length&&(d=oo(f[f.length-1],d)),f.push(d||"/"),f),[]),i=new Set,r=l=>{let u=t.get(l);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(f=>s.get(f)),dirs:[...u.dirs].map(f=>s.get(f))}},n=l=>{let{paths:u,dirs:f}=r(l);return u.every(d=>d[0]===l)&&f.every(d=>d[0]instanceof Set&&d[0].has(l))},h=l=>i.has(l)||!n(l)?!1:(i.add(l),l(()=>o(l)),!0),o=l=>{if(!i.has(l))return!1;let{paths:u,dirs:f}=t.get(l),d=new Set;return u.forEach(E=>{let y=s.get(E);ho.equal(y[0],l),y.length===1?s.delete(E):(y.shift(),typeof y[0]=="function"?d.add(y[0]):y[0].forEach(v=>d.add(v)))}),f.forEach(E=>{let y=s.get(E);ho(y[0]instanceof Set),y[0].size===1&&y.length===1?s.delete(E):y[0].size===1?(y.shift(),d.add(y[0])):y[0].delete(l)}),i.delete(l),d.forEach(E=>h(E)),!0};return{check:n,reserve:(l,u)=>{l=Ua?["win32 parallelization disabled"]:l.map(d=>qa(oo(ka(d))).toLowerCase());let f=new Set(l.map(d=>e(d)).reduce((d,E)=>d.concat(E)));return t.set(u,{dirs:f,paths:l}),l.forEach(d=>{let E=s.get(d);E?E.push(u):s.set(d,[u])}),f.forEach(d=>{let E=s.get(d);E?E[E.length-1]instanceof Set?E[E.length-1].add(u):E.push(new Set([u])):s.set(d,[new Set([u])])}),h(u)}}}});var fo=p((ju,uo)=>{"use strict";c();var Ha=process.env.__FAKE_PLATFORM__||process.platform,Wa=Ha==="win32",Ga=global.__FAKE_TESTING_FS__||m("fs"),{O_CREAT:Ya,O_TRUNC:Ka,O_WRONLY:Za,UV_FS_O_FILEMAP:co=0}=Ga.constants,Va=Wa&&!!co,Xa=512*1024,$a=co|Ka|Ya|Za;uo.exports=Va?s=>s<Xa?$a:"w":()=>"w"});var Tr=p((tf,Do)=>{"use strict";c();var Ja=m("assert"),ja=Ts(),w=m("fs"),Qa=ne(),pt=m("path"),Oo=ro(),mo=Oi(),tc=ao(),ec=Ti(),K=Zt(),sc=$t(),ic=Er(),po=Symbol("onEntry"),wr=Symbol("checkFs"),Eo=Symbol("checkFs2"),Bs=Symbol("pruneCache"),Rr=Symbol("isReusable"),Z=Symbol("makeFs"),_r=Symbol("file"),gr=Symbol("directory"),Ps=Symbol("link"),yo=Symbol("symlink"),So=Symbol("hardlink"),wo=Symbol("unsupported"),Ro=Symbol("checkPath"),Nt=Symbol("mkdir"),F=Symbol("onError"),Ms=Symbol("pending"),_o=Symbol("pend"),ce=Symbol("unpend"),yr=Symbol("ended"),Sr=Symbol("maybeClose"),br=Symbol("skip"),Te=Symbol("doChown"),Le=Symbol("uid"),De=Symbol("gid"),Ae=Symbol("checkedCwd"),To=m("crypto"),Lo=fo(),rc=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Ne=rc==="win32",nc=1024,hc=(s,t)=>{if(!Ne)return w.unlink(s,t);let e=s+".DELETE."+To.randomBytes(16).toString("hex");w.rename(s,e,i=>{if(i)return t(i);w.unlink(e,t)})},oc=s=>{if(!Ne)return w.unlinkSync(s);let t=s+".DELETE."+To.randomBytes(16).toString("hex");w.renameSync(s,t),w.unlinkSync(t)},go=(s,t,e)=>s===s>>>0?s:t===t>>>0?t:e,bo=s=>sc(K(ic(s))).toLowerCase(),lc=(s,t)=>{t=bo(t);for(let e of s.keys()){let i=bo(e);(i===t||i.indexOf(t+"/")===0)&&s.delete(e)}},ac=s=>{for(let t of s.keys())s.delete(t)},Ie=class extends ja{constructor(t){if(t||(t={}),t.ondone=e=>{this[yr]=!0,this[Sr]()},super(t),this[Ae]=!1,this.reservations=tc(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[Ms]=0,this[yr]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof t.maxDepth=="number"?t.maxDepth:nc,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||Ne,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=K(pt.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",e=>this[po](e))}warn(t,e,i={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(i.recoverable=!1),super.warn(t,e,i)}[Sr](){this[yr]&&this[Ms]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[Ro](t){let e=K(t.path),i=e.split("/");if(this.strip){if(i.length<this.strip)return!1;if(t.type==="Link"){let r=K(t.linkpath).split("/");if(r.length>=this.strip)t.linkpath=r.slice(this.strip).join("/");else return!1}i.splice(0,this.strip),t.path=i.join("/")}if(isFinite(this.maxDepth)&&i.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:t,path:e,depth:i.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(i.includes("..")||Ne&&/^[a-z]:\.\.$/i.test(i[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:e}),!1;let[r,n]=ec(e);r&&(t.path=n,this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:t,path:e}))}if(pt.isAbsolute(t.path)?t.absolute=K(pt.resolve(t.path)):t.absolute=K(pt.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:K(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=pt.win32.parse(t.absolute);t.absolute=r+mo.encode(t.absolute.slice(r.length));let{root:n}=pt.win32.parse(t.path);t.path=n+mo.encode(t.path.slice(n.length))}return!0}[po](t){if(!this[Ro](t))return t.resume();switch(Ja.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[wr](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[wo](t)}}[F](t,e){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:e}),this[ce](),e.resume())}[Nt](t,e,i){Oo(K(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:e,noChmod:this.noChmod},i)}[Te](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Le](t){return go(this.uid,t.uid,this.processUid)}[De](t){return go(this.gid,t.gid,this.processGid)}[_r](t,e){let i=t.mode&4095||this.fmode,r=new Qa.WriteStream(t.absolute,{flags:Lo(t.size),mode:i,autoClose:!1});r.on("error",a=>{r.fd&&w.close(r.fd,()=>{}),r.write=()=>!0,this[F](a,t),e()});let n=1,h=a=>{if(a){r.fd&&w.close(r.fd,()=>{}),this[F](a,t),e();return}--n===0&&w.close(r.fd,l=>{l?this[F](l,t):this[ce](),e()})};r.on("finish",a=>{let l=t.absolute,u=r.fd;if(t.mtime&&!this.noMtime){n++;let f=t.atime||new Date,d=t.mtime;w.futimes(u,f,d,E=>E?w.utimes(l,f,d,y=>h(y&&E)):h())}if(this[Te](t)){n++;let f=this[Le](t),d=this[De](t);w.fchown(u,f,d,E=>E?w.chown(l,f,d,y=>h(y&&E)):h())}h()});let o=this.transform&&this.transform(t)||t;o!==t&&(o.on("error",a=>{this[F](a,t),e()}),t.pipe(o)),o.pipe(r)}[gr](t,e){let i=t.mode&4095||this.dmode;this[Nt](t.absolute,i,r=>{if(r){this[F](r,t),e();return}let n=1,h=o=>{--n===0&&(e(),this[ce](),t.resume())};t.mtime&&!this.noMtime&&(n++,w.utimes(t.absolute,t.atime||new Date,t.mtime,h)),this[Te](t)&&(n++,w.chown(t.absolute,this[Le](t),this[De](t),h)),h()})}[wo](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[yo](t,e){this[Ps](t,t.linkpath,"symlink",e)}[So](t,e){let i=K(pt.resolve(this.cwd,t.linkpath));this[Ps](t,i,"link",e)}[_o](){this[Ms]++}[ce](){this[Ms]--,this[Sr]()}[br](t){this[ce](),t.resume()}[Rr](t,e){return t.type==="File"&&!this.unlink&&e.isFile()&&e.nlink<=1&&!Ne}[wr](t){this[_o]();let e=[t.path];t.linkpath&&e.push(t.linkpath),this.reservations.reserve(e,i=>this[Eo](t,i))}[Bs](t){t.type==="SymbolicLink"?ac(this.dirCache):t.type!=="Directory"&&lc(this.dirCache,t.absolute)}[Eo](t,e){this[Bs](t);let i=o=>{this[Bs](t),e(o)},r=()=>{this[Nt](this.cwd,this.dmode,o=>{if(o){this[F](o,t),i();return}this[Ae]=!0,n()})},n=()=>{if(t.absolute!==this.cwd){let o=K(pt.dirname(t.absolute));if(o!==this.cwd)return this[Nt](o,this.dmode,a=>{if(a){this[F](a,t),i();return}h()})}h()},h=()=>{w.lstat(t.absolute,(o,a)=>{if(a&&(this.keep||this.newer&&a.mtime>t.mtime)){this[br](t),i();return}if(o||this[Rr](t,a))return this[Z](null,t,i);if(a.isDirectory()){if(t.type==="Directory"){let l=!this.noChmod&&t.mode&&(a.mode&4095)!==t.mode,u=f=>this[Z](f,t,i);return l?w.chmod(t.absolute,t.mode,u):u()}if(t.absolute!==this.cwd)return w.rmdir(t.absolute,l=>this[Z](l,t,i))}if(t.absolute===this.cwd)return this[Z](null,t,i);hc(t.absolute,l=>this[Z](l,t,i))})};this[Ae]?n():r()}[Z](t,e,i){if(t){this[F](t,e),i();return}switch(e.type){case"File":case"OldFile":case"ContiguousFile":return this[_r](e,i);case"Link":return this[So](e,i);case"SymbolicLink":return this[yo](e,i);case"Directory":case"GNUDumpDir":return this[gr](e,i)}}[Ps](t,e,i,r){w[i](e,t.absolute,n=>{n?this[F](n,t):(this[ce](),t.resume()),r()})}},Fs=s=>{try{return[null,s()]}catch(t){return[t,null]}},Or=class extends Ie{[Z](t,e){return super[Z](t,e,()=>{})}[wr](t){if(this[Bs](t),!this[Ae]){let n=this[Nt](this.cwd,this.dmode);if(n)return this[F](n,t);this[Ae]=!0}if(t.absolute!==this.cwd){let n=K(pt.dirname(t.absolute));if(n!==this.cwd){let h=this[Nt](n,this.dmode);if(h)return this[F](h,t)}}let[e,i]=Fs(()=>w.lstatSync(t.absolute));if(i&&(this.keep||this.newer&&i.mtime>t.mtime))return this[br](t);if(e||this[Rr](t,i))return this[Z](null,t);if(i.isDirectory()){if(t.type==="Directory"){let h=!this.noChmod&&t.mode&&(i.mode&4095)!==t.mode,[o]=h?Fs(()=>{w.chmodSync(t.absolute,t.mode)}):[];return this[Z](o,t)}let[n]=Fs(()=>w.rmdirSync(t.absolute));this[Z](n,t)}let[r]=t.absolute===this.cwd?[]:Fs(()=>oc(t.absolute));this[Z](r,t)}[_r](t,e){let i=t.mode&4095||this.fmode,r=o=>{let a;try{w.closeSync(n)}catch(l){a=l}(o||a)&&this[F](o||a,t),e()},n;try{n=w.openSync(t.absolute,Lo(t.size),i)}catch(o){return r(o)}let h=this.transform&&this.transform(t)||t;h!==t&&(h.on("error",o=>this[F](o,t)),t.pipe(h)),h.on("data",o=>{try{w.writeSync(n,o,0,o.length)}catch(a){r(a)}}),h.on("end",o=>{let a=null;if(t.mtime&&!this.noMtime){let l=t.atime||new Date,u=t.mtime;try{w.futimesSync(n,l,u)}catch(f){try{w.utimesSync(t.absolute,l,u)}catch{a=f}}}if(this[Te](t)){let l=this[Le](t),u=this[De](t);try{w.fchownSync(n,l,u)}catch(f){try{w.chownSync(t.absolute,l,u)}catch{a=a||f}}}r(a)})}[gr](t,e){let i=t.mode&4095||this.dmode,r=this[Nt](t.absolute,i);if(r){this[F](r,t),e();return}if(t.mtime&&!this.noMtime)try{w.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[Te](t))try{w.chownSync(t.absolute,this[Le](t),this[De](t))}catch{}e(),t.resume()}[Nt](t,e){try{return Oo.sync(K(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:e})}catch(i){return i}}[Ps](t,e,i,r){try{w[i+"Sync"](e,t.absolute),r(),t.resume()}catch(n){return this[F](n,t)}}};Ie.Sync=Or;Do.exports=Ie});var vo=p((sf,xo)=>{"use strict";c();var cc=Ht(),ks=Tr(),No=m("fs"),Io=ne(),Ao=m("path"),Lr=$t();xo.exports=(s,t,e)=>{typeof s=="function"?(e=s,t=null,s={}):Array.isArray(s)&&(t=s,s={}),typeof t=="function"&&(e=t,t=null),t?t=Array.from(t):t=[];let i=cc(s);if(i.sync&&typeof e=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof e=="function")throw new TypeError("callback only supported with file option");return t.length&&uc(i,t),i.file&&i.sync?fc(i):i.file?dc(i,e):i.sync?mc(i):pc(i)};var uc=(s,t)=>{let e=new Map(t.map(n=>[Lr(n),!0])),i=s.filter,r=(n,h)=>{let o=h||Ao.parse(n).root||".",a=n===o?!1:e.has(n)?e.get(n):r(Ao.dirname(n),o);return e.set(n,a),a};s.filter=i?(n,h)=>i(n,h)&&r(Lr(n)):n=>r(Lr(n))},fc=s=>{let t=new ks.Sync(s),e=s.file,i=No.statSync(e),r=s.maxReadSize||16*1024*1024;new Io.ReadStreamSync(e,{readSize:r,size:i.size}).pipe(t)},dc=(s,t)=>{let e=new ks(s),i=s.maxReadSize||16*1024*1024,r=s.file,n=new Promise((h,o)=>{e.on("error",o),e.on("close",h),No.stat(r,(a,l)=>{if(a)o(a);else{let u=new Io.ReadStream(r,{readSize:i,size:l.size});u.on("error",o),u.pipe(e)}})});return t?n.then(t,t):n},mc=s=>new ks.Sync(s),pc=s=>new ks(s)});var Co=p(D=>{"use strict";c();D.c=D.create=dh();D.r=D.replace=or();D.t=D.list=Ls();D.u=D.update=gh();D.x=D.extract=vo();D.Pack=us();D.Unpack=Tr();D.Parse=Ts();D.ReadEntry=Ve();D.WriteEntry=Fi();D.Header=Xt();D.Pax=$e();D.types=yi()});c();var wc=Nr(Co(),1),Rc=Nr(Po(),1);import{access as Ec,readFile as yc,writeFile as Mo,mkdir as Fo,stat as lf}from"node:fs/promises";import{dirname as Bo,join as cf}from"node:path";import{EOL as Sc}from"node:os";function _c(s,t){return JSON.stringify(s,null,t?.spaces).concat(Sc)}async function df(s,t,e){try{let i=_c(t,e);await Fo(Bo(s),{recursive:!0}),await Mo(s,i,"utf-8")}catch(i){throw new xe({code:ve.FailedToWriteJson({filePath:s,cause:i}),cause:i})}}async function mf(s){let t=null;try{t=await yc(s,"utf-8")}catch(e){throw new xe({code:ve.FailedToReadJson({filePath:s,cause:e})})}try{return JSON.parse(t)}catch(e){throw new xe({code:ve.InvalidJsonFile({filePath:s,cause:e})})}}function pf(s){return Ec(s).then(()=>!0).catch(()=>!1)}async function Ef(s,t){await Fo(Bo(s),{recursive:!0}),await Mo(s,t,"utf-8")}c();import{resolve as gc}from"node:path";import{homedir as bc}from"node:os";function gf(){return Ir().dataDir??gc(bc(),".wix")}export{js as a,mi as b,Zh as c,Co as d,df as e,mf as f,pf as g,Ef as h,gf as i};
//# sourceMappingURL=chunk-FCAB5YK5.js.map