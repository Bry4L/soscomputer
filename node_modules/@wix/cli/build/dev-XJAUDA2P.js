import { createRequire as _createRequire } from 'node:module';
const require = _createRequire(import.meta.url);
import{a as ey,b as Ku}from"./chunk-O7R4JBVC.js";import{a as Uu,b as Mu,d as Fu,e as Vu,h as fo,j as qu}from"./chunk-HRVSIFHF.js";import{a as Si,b as ju}from"./chunk-RJJU2M3A.js";import"./chunk-H7EI5QTD.js";import{a as Hu}from"./chunk-N4QYMUI4.js";import"./chunk-CCZ55TG3.js";import{a as Lu}from"./chunk-3HFDZJBW.js";import"./chunk-XOWZQRGH.js";import"./chunk-2U7VPZZN.js";import"./chunk-PHGH4LDZ.js";import{a as Su,d as Au,f as uo,h as ku,n as po}from"./chunk-NWEJ2BHT.js";import{a as Cu,b as cs,c as wu}from"./chunk-NX7YLKSA.js";import{a as Jg,r as Eu}from"./chunk-TISVPECQ.js";import"./chunk-4YVTD2GL.js";import"./chunk-Z2UWNMEU.js";import"./chunk-ZBJRW65P.js";import"./chunk-G3RJ67HQ.js";import{c as Pu,d as Du}from"./chunk-XKUUBNP5.js";import"./chunk-KGVPDSRT.js";import{a as Ue,e as Ru,f as Iu,g as Bu,h as Nu,i as Ou}from"./chunk-KHHAS67O.js";import"./chunk-YXF3QNRI.js";import{a as xu,b as xa,c as bu,i as os}from"./chunk-3JLE6D3G.js";import{g as ba,h as Tu}from"./chunk-FCAB5YK5.js";import{b as _u}from"./chunk-TEVFRW7G.js";import{c as $t,e as Yt}from"./chunk-JOXYEZYT.js";import{a as oe,b as Zg,c as ie,d as yu,e as Ve,f as Xg,g as __dirname,i as V}from"./chunk-UO4ZAUJK.js";var go=ie((jw,zu)=>{"use strict";V();var ho=class i extends Error{constructor(e){super(i._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,i)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch{return String(e)}}},ty=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],mo=Symbol(".toJSON called"),ry=i=>{i[mo]=!0;let e=i.toJSON();return delete i[mo],e},vo=({from:i,seen:e,to_:t,forceEnumerable:r,maxDepth:s,depth:a})=>{let n=t||(Array.isArray(i)?[]:{});if(e.push(i),a>=s)return n;if(typeof i.toJSON=="function"&&i[mo]!==!0)return ry(i);for(let[c,l]of Object.entries(i)){if(typeof Buffer=="function"&&Buffer.isBuffer(l)){n[c]="[object Buffer]";continue}if(typeof l!="function"){if(!l||typeof l!="object"){n[c]=l;continue}if(!e.includes(i[c])){a++,n[c]=vo({from:i[c],seen:e.slice(),forceEnumerable:r,maxDepth:s,depth:a});continue}n[c]="[Circular]"}}for(let{property:c,enumerable:l}of ty)typeof i[c]=="string"&&Object.defineProperty(n,c,{value:i[c],enumerable:r?!0:l,configurable:!0,writable:!0});return n},iy=(i,e={})=>{let{maxDepth:t=Number.POSITIVE_INFINITY}=e;return typeof i=="object"&&i!==null?vo({from:i,seen:[],forceEnumerable:!0,maxDepth:t,depth:0}):typeof i=="function"?`[Function: ${i.name||"anonymous"}]`:i},sy=(i,e={})=>{let{maxDepth:t=Number.POSITIVE_INFINITY}=e;if(i instanceof Error)return i;if(typeof i=="object"&&i!==null&&!Array.isArray(i)){let r=new Error;return vo({from:i,seen:[],to_:r,maxDepth:t,depth:0}),r}return new ho(i)};zu.exports={serializeError:iy,deserializeError:sy}});var Gu=ie((Kw,ay)=>{ay.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var $u=ie((zw,Wu)=>{"use strict";V();Wu.exports=Gu()});var Zu=ie(Nt=>{"use strict";V();var _a=$u(),ny=oe("path").extname,Yu=/^\s*([^;\s]*)(?:;|\s|$)/,oy=/^text\//i;Nt.charset=Qu;Nt.charsets={lookup:Qu};Nt.contentType=cy;Nt.extension=ly;Nt.extensions=Object.create(null);Nt.lookup=uy;Nt.types=Object.create(null);py(Nt.extensions,Nt.types);function Qu(i){if(!i||typeof i!="string")return!1;var e=Yu.exec(i),t=e&&_a[e[1].toLowerCase()];return t&&t.charset?t.charset:e&&oy.test(e[1])?"UTF-8":!1}function cy(i){if(!i||typeof i!="string")return!1;var e=i.indexOf("/")===-1?Nt.lookup(i):i;if(!e)return!1;if(e.indexOf("charset")===-1){var t=Nt.charset(e);t&&(e+="; charset="+t.toLowerCase())}return e}function ly(i){if(!i||typeof i!="string")return!1;var e=Yu.exec(i),t=e&&Nt.extensions[e[1].toLowerCase()];return!t||!t.length?!1:t[0]}function uy(i){if(!i||typeof i!="string")return!1;var e=ny("x."+i).toLowerCase().substr(1);return e&&Nt.types[e]||!1}function py(i,e){var t=["nginx","apache",void 0,"iana"];Object.keys(_a).forEach(function(s){var a=_a[s],n=a.extensions;if(!(!n||!n.length)){i[s]=n;for(var c=0;c<n.length;c++){var l=n[c];if(e[l]){var o=t.indexOf(_a[e[l]].source),m=t.indexOf(a.source);if(e[l]!=="application/octet-stream"&&(o>m||o===m&&e[l].substr(0,12)==="application/"))continue}e[l]=s}}})}});var Ea=ie((Yw,Xu)=>{"use strict";V();var dy=ey(),fy=Zu();Xu.exports=Vt;function Vt(i){if(!(this instanceof Vt))return new Vt(i);this.headers=i.headers,this.negotiator=new dy(i)}Vt.prototype.type=Vt.prototype.types=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}if(!e||e.length===0)return this.negotiator.mediaTypes();if(!this.headers.accept)return e[0];var r=e.map(hy),s=this.negotiator.mediaTypes(r.filter(my)),a=s[0];return a?e[r.indexOf(a)]:!1};Vt.prototype.encoding=Vt.prototype.encodings=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}return!e||e.length===0?this.negotiator.encodings():this.negotiator.encodings(e)[0]||!1};Vt.prototype.charset=Vt.prototype.charsets=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}return!e||e.length===0?this.negotiator.charsets():this.negotiator.charsets(e)[0]||!1};Vt.prototype.lang=Vt.prototype.langs=Vt.prototype.language=Vt.prototype.languages=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}return!e||e.length===0?this.negotiator.languages():this.negotiator.languages(e)[0]||!1};function hy(i){return i.indexOf("/")===-1?fy.lookup(i):i}function my(i){return typeof i=="string"}});var xo=ie((Ju,ep)=>{"use strict";V();var ls=oe("crypto"),yo=function(){};yo.prototype.getRandomBytes=function(i){var e=4096,t=this;if(i=i||12,i>e)return ls.randomBytes(i);var r=parseInt(e/i),s=parseInt(r*.85);if(!s||(this.bytesBufferIndex==null&&(this.bytesBufferIndex=-1),this.bytesBufferIndex==r&&(this.bytesBuffer=null,this.bytesBufferIndex=-1),(this.bytesBufferIndex==-1||this.bytesBufferIndex>s)&&(this.isGeneratingBytes||(this.isGeneratingBytes=!0,ls.randomBytes(e,function(n,c){t.bytesBuffer=c,t.bytesBufferIndex=0,t.isGeneratingBytes=!1})),this.bytesBufferIndex==-1)))return ls.randomBytes(i);var a=this.bytesBuffer.slice(i*this.bytesBufferIndex,i*(this.bytesBufferIndex+1));return this.bytesBufferIndex++,a};yo.prototype.generateId=function(){var i=Buffer.alloc(15);return i.writeInt32BE?(this.sequenceNumber=this.sequenceNumber+1|0,i.writeInt32BE(this.sequenceNumber,11),ls.randomBytes?this.getRandomBytes(12).copy(i):[0,4,8].forEach(function(e){i.writeInt32BE(Math.random()*Math.pow(2,32)|0,e)}),i.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")):Math.abs(Math.random()*Math.random()*Date.now()|0).toString()+Math.abs(Math.random()*Math.random()*Date.now()|0).toString()};Ju=ep.exports=new yo});var Sa=ie(jr=>{"use strict";V();Object.defineProperty(jr,"__esModule",{value:!0});jr.ERROR_PACKET=jr.PACKET_TYPES_REVERSE=jr.PACKET_TYPES=void 0;var vr=Object.create(null);jr.PACKET_TYPES=vr;vr.open="0";vr.close="1";vr.ping="2";vr.pong="3";vr.message="4";vr.upgrade="5";vr.noop="6";var tp=Object.create(null);jr.PACKET_TYPES_REVERSE=tp;Object.keys(vr).forEach(i=>{tp[vr[i]]=i});var vy={type:"error",data:"parser error"};jr.ERROR_PACKET=vy});var ip=ie(si=>{"use strict";V();Object.defineProperty(si,"__esModule",{value:!0});si.encodePacketToBinary=si.encodePacket=void 0;var gy=Sa(),yy=({type:i,data:e},t,r)=>e instanceof ArrayBuffer||ArrayBuffer.isView(e)?r(t?e:"b"+rp(e,!0).toString("base64")):r(gy.PACKET_TYPES[i]+(e||""));si.encodePacket=yy;var rp=(i,e)=>Buffer.isBuffer(i)||i instanceof Uint8Array&&!e?i:i instanceof ArrayBuffer?Buffer.from(i):Buffer.from(i.buffer,i.byteOffset,i.byteLength),bo;function xy(i,e){if(i.data instanceof ArrayBuffer||ArrayBuffer.isView(i.data))return e(rp(i.data,!1));(0,si.encodePacket)(i,!0,t=>{bo||(bo=new TextEncoder),e(bo.encode(t))})}si.encodePacketToBinary=xy});var ap=ie(wa=>{"use strict";V();Object.defineProperty(wa,"__esModule",{value:!0});wa.decodePacket=void 0;var Ca=Sa(),by=(i,e)=>{if(typeof i!="string")return{type:"message",data:sp(i,e)};let t=i.charAt(0);if(t==="b"){let r=Buffer.from(i.substring(1),"base64");return{type:"message",data:sp(r,e)}}return Ca.PACKET_TYPES_REVERSE[t]?i.length>1?{type:Ca.PACKET_TYPES_REVERSE[t],data:i.substring(1)}:{type:Ca.PACKET_TYPES_REVERSE[t]}:Ca.ERROR_PACKET};wa.decodePacket=by;var sp=(i,e)=>{switch(e){case"arraybuffer":return i instanceof ArrayBuffer?i:Buffer.isBuffer(i)?i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength):i.buffer;case"nodebuffer":default:return Buffer.isBuffer(i)?i:Buffer.from(i)}}});var us=ie(Ct=>{"use strict";V();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.decodePayload=Ct.decodePacket=Ct.encodePayload=Ct.encodePacket=Ct.protocol=Ct.createPacketDecoderStream=Ct.createPacketEncoderStream=void 0;var Eo=ip();Object.defineProperty(Ct,"encodePacket",{enumerable:!0,get:function(){return Eo.encodePacket}});var So=ap();Object.defineProperty(Ct,"decodePacket",{enumerable:!0,get:function(){return So.decodePacket}});var np=Sa(),op="",_y=(i,e)=>{let t=i.length,r=new Array(t),s=0;i.forEach((a,n)=>{(0,Eo.encodePacket)(a,!1,c=>{r[n]=c,++s===t&&e(r.join(op))})})};Ct.encodePayload=_y;var Ey=(i,e)=>{let t=i.split(op),r=[];for(let s=0;s<t.length;s++){let a=(0,So.decodePacket)(t[s],e);if(r.push(a),a.type==="error")break}return r};Ct.decodePayload=Ey;function Sy(){return new TransformStream({transform(i,e){(0,Eo.encodePacketToBinary)(i,t=>{let r=t.length,s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);let a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{s=new Uint8Array(9);let a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}i.data&&typeof i.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}Ct.createPacketEncoderStream=Sy;var _o;function Ta(i){return i.reduce((e,t)=>e+t.length,0)}function Aa(i,e){if(i[0].length===e)return i.shift();let t=new Uint8Array(e),r=0;for(let s=0;s<e;s++)t[s]=i[0][r++],r===i[0].length&&(i.shift(),r=0);return i.length&&r<i[0].length&&(i[0]=i[0].slice(r)),t}function Cy(i,e){_o||(_o=new TextDecoder);let t=[],r=0,s=-1,a=!1;return new TransformStream({transform(n,c){for(t.push(n);;){if(r===0){if(Ta(t)<1)break;let l=Aa(t,1);a=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Ta(t)<2)break;let l=Aa(t,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Ta(t)<8)break;let l=Aa(t,8),o=new DataView(l.buffer,l.byteOffset,l.length),m=o.getUint32(0);if(m>Math.pow(2,21)-1){c.enqueue(np.ERROR_PACKET);break}s=m*Math.pow(2,32)+o.getUint32(4),r=3}else{if(Ta(t)<s)break;let l=Aa(t,s);c.enqueue((0,So.decodePacket)(a?l:_o.decode(l),e)),r=0}if(s===0||s>i){c.enqueue(np.ERROR_PACKET);break}}}})}Ct.createPacketDecoderStream=Cy;Ct.protocol=4});var pp=ie((n2,up)=>{"use strict";V();var Hr=String.fromCharCode;function cp(i){for(var e=[],t=0,r=i.length,s,a;t<r;)s=i.charCodeAt(t++),s>=55296&&s<=56319&&t<r?(a=i.charCodeAt(t++),(a&64512)==56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),t--)):e.push(s);return e}function wy(i){for(var e=i.length,t=-1,r,s="";++t<e;)r=i[t],r>65535&&(r-=65536,s+=Hr(r>>>10&1023|55296),r=56320|r&1023),s+=Hr(r);return s}function lp(i,e){if(i>=55296&&i<=57343){if(e)throw Error("Lone surrogate U+"+i.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Co(i,e){return Hr(i>>e&63|128)}function Ty(i,e){if(!(i&4294967168))return Hr(i);var t="";return i&4294965248?i&4294901760?i&4292870144||(t=Hr(i>>18&7|240),t+=Co(i,12),t+=Co(i,6)):(lp(i,e)||(i=65533),t=Hr(i>>12&15|224),t+=Co(i,6)):t=Hr(i>>6&31|192),t+=Hr(i&63|128),t}function Ay(i,e){e=e||{};for(var t=e.strict!==!1,r=cp(i),s=r.length,a=-1,n,c="";++a<s;)n=r[a],c+=Ty(n,t);return c}function Ci(){if(Kr>=Ra)throw Error("Invalid byte index");var i=ka[Kr]&255;if(Kr++,(i&192)==128)return i&63;throw Error("Invalid continuation byte")}function ky(i){var e,t,r,s,a;if(Kr>Ra)throw Error("Invalid byte index");if(Kr==Ra)return!1;if(e=ka[Kr]&255,Kr++,!(e&128))return e;if((e&224)==192){if(t=Ci(),a=(e&31)<<6|t,a>=128)return a;throw Error("Invalid continuation byte")}if((e&240)==224){if(t=Ci(),r=Ci(),a=(e&15)<<12|t<<6|r,a>=2048)return lp(a,i)?a:65533;throw Error("Invalid continuation byte")}if((e&248)==240&&(t=Ci(),r=Ci(),s=Ci(),a=(e&7)<<18|t<<12|r<<6|s,a>=65536&&a<=1114111))return a;throw Error("Invalid UTF-8 detected")}var ka,Ra,Kr;function Ry(i,e){e=e||{};var t=e.strict!==!1;ka=cp(i),Ra=ka.length,Kr=0;for(var r=[],s;(s=ky(t))!==!1;)r.push(s);return wy(r)}up.exports={version:"2.1.2",encode:Ay,decode:Ry}});var xp=ie(Me=>{"use strict";V();Object.defineProperty(Me,"__esModule",{value:!0});Me.decodePayloadAsBinary=Me.encodePayloadAsBinary=Me.decodePayload=Me.encodePayload=Me.decodeBase64Packet=Me.decodePacket=Me.encodeBase64Packet=Me.encodePacket=Me.packets=Me.protocol=void 0;var fp=pp();Me.protocol=3;var Iy=i=>{for(let e of i)if(e.data instanceof ArrayBuffer||ArrayBuffer.isView(e.data))return!0;return!1};Me.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var wi=Object.keys(Me.packets),sr={type:"error",data:"parser error"},By=Buffer.concat([]);function wo(i,e,t,r){if(typeof e=="function"&&(r=e,e=null),typeof t=="function"&&(r=t,t=null),Buffer.isBuffer(i.data))return dp(i,e,r);if(i.data&&(i.data.buffer||i.data)instanceof ArrayBuffer)return dp({type:i.type,data:Ao(i.data)},e,r);var s=Me.packets[i.type];return i.data!==void 0&&(s+=t?fp.encode(String(i.data),{strict:!1}):String(i.data)),r(""+s)}Me.encodePacket=wo;function dp(i,e,t){if(!e)return hp(i,t);var r=i.data,s=Buffer.allocUnsafe(1);return s[0]=Me.packets[i.type],t(Buffer.concat([s,r]))}function hp(i,e){var t=Buffer.isBuffer(i.data)?i.data:Ao(i.data),r="b"+Me.packets[i.type];return r+=t.toString("base64"),e(r)}Me.encodeBase64Packet=hp;function To(i,e,t){if(i===void 0)return sr;var r;if(typeof i=="string")return r=i.charAt(0),r==="b"?mp(i.slice(1),e):t&&(i=Ny(i),i===!1)||Number(r)!=r||!wi[r]?sr:i.length>1?{type:wi[r],data:i.slice(1)}:{type:wi[r]};if(e==="arraybuffer"){var s=new Uint8Array(i);return r=s[0],{type:wi[r],data:s.buffer.slice(1)}}return i instanceof ArrayBuffer&&(i=Ao(i)),r=i[0],{type:wi[r],data:i.slice(1)}}Me.decodePacket=To;function Ny(i){try{i=fp.decode(i,{strict:!1})}catch{return!1}return i}function mp(i,e){var t=wi[i.charAt(0)],r=Buffer.from(i.slice(1),"base64");if(e==="arraybuffer"){for(var s=new Uint8Array(r.length),a=0;a<s.length;a++)s[a]=r[a];r=s.buffer}return{type:t,data:r}}Me.decodeBase64Packet=mp;function Oy(i,e,t){if(typeof e=="function"&&(t=e,e=null),e&&Iy(i))return gp(i,t);if(!i.length)return t("0:");function r(s,a){wo(s,e,!1,function(n){a(null,Ly(n))})}vp(i,r,function(s,a){return t(a.join(""))})}Me.encodePayload=Oy;function Ly(i){return i.length+":"+i}function vp(i,e,t){let r=new Array(i.length),s=0;for(let a=0;a<i.length;a++)e(i[a],(n,c)=>{r[a]=c,++s===i.length&&t(null,r)})}function Py(i,e,t){if(typeof i!="string")return yp(i,e,t);if(typeof e=="function"&&(t=e,e=null),i==="")return t(sr,0,1);for(var r="",s,a,n,c=0,l=i.length;c<l;c++){var o=i.charAt(c);if(o!==":"){r+=o;continue}if(r===""||r!=(s=Number(r))||(a=i.slice(c+1,c+1+s),r!=a.length))return t(sr,0,1);if(a.length){if(n=To(a,e,!1),sr.type===n.type&&sr.data===n.data)return t(sr,0,1);var m=t(n,c+s,l);if(m===!1)return}c+=s,r=""}if(r!=="")return t(sr,0,1)}Me.decodePayload=Py;function Dy(i){for(var e="",t=0,r=i.length;t<r;t++)e+=String.fromCharCode(i[t]);return e}function Uy(i){for(var e=Buffer.allocUnsafe(i.length),t=0,r=i.length;t<r;t++)e.writeUInt8(i.charCodeAt(t),t);return e}function Ao(i){var e=i.byteLength||i.length,t=i.byteOffset||0;return Buffer.from(i.buffer||i,t,e)}function gp(i,e){if(!i.length)return e(By);vp(i,My,function(t,r){return e(Buffer.concat(r))})}Me.encodePayloadAsBinary=gp;function My(i,e){function t(r){var s=""+r.length,a;if(typeof r=="string"){a=Buffer.allocUnsafe(s.length+2),a[0]=0;for(var n=0;n<s.length;n++)a[n+1]=parseInt(s[n],10);return a[a.length-1]=255,e(null,Buffer.concat([a,Uy(r)]))}a=Buffer.allocUnsafe(s.length+2),a[0]=1;for(var n=0;n<s.length;n++)a[n+1]=parseInt(s[n],10);a[a.length-1]=255,e(null,Buffer.concat([a,r]))}wo(i,!0,!0,t)}function yp(i,e,t){typeof e=="function"&&(t=e,e=null);for(var r=i,s=[],a;r.length>0;){var n="",c=r[0]===0;for(a=1;r[a]!==255;a++){if(n.length>310)return t(sr,0,1);n+=""+r[a]}r=r.slice(n.length+1);var l=parseInt(n,10),o=r.slice(1,l+1);c&&(o=Dy(o)),s.push(o),r=r.slice(l+1)}var m=s.length;for(a=0;a<m;a++){var d=s[a];t(To(d,e,!0),a,m)}}Me.decodePayloadAsBinary=yp});var ai=ie(Ia=>{"use strict";V();Object.defineProperty(Ia,"__esModule",{value:!0});Ia.Transport=void 0;var Fy=oe("events"),Vy=us(),qy=xp(),jy=Ue(),ko=(0,jy.default)("engine:transport");function Hy(){}var Ro=class extends Fy.EventEmitter{constructor(e){super(),this.readyState="open",this.discarded=!1,this.protocol=e._query.EIO==="4"?4:3,this.parser=this.protocol===4?Vy:qy}get readyState(){return this._readyState}set readyState(e){ko("readyState updated from %s to %s (%s)",this._readyState,e,this.name),this._readyState=e}discard(){this.discarded=!0}onRequest(e){ko("setting request"),this.req=e}close(e){this.readyState==="closed"||this.readyState==="closing"||(this.readyState="closing",this.doClose(e||Hy))}onError(e,t){if(this.listeners("error").length){let r=new Error(e);r.type="TransportError",r.description=t,this.emit("error",r)}else ko("ignored transport error %s (%s)",e,t)}onPacket(e){this.emit("packet",e)}onData(e){this.onPacket(this.parser.decodePacket(e))}onClose(){this.readyState="closed",this.emit("close")}};Ia.Transport=Ro});var Bo=ie(Ba=>{"use strict";V();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.Polling=void 0;var Ky=ai(),bp=oe("zlib"),zy=Ea(),Gy=Ue(),qt=(0,Gy.default)("engine:polling"),Wy={gzip:bp.createGzip,deflate:bp.createDeflate},Io=class extends Ky.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}get supportsFraming(){return!1}onRequest(e){let t=e.res;e.method==="GET"?this.onPollRequest(e,t):e.method==="POST"?this.onDataRequest(e,t):(t.writeHead(500),t.end())}onPollRequest(e,t){if(this.req){qt("request overlap"),this.onError("overlap from client"),t.writeHead(400),t.end();return}qt("setting request"),this.req=e,this.res=t;let r=()=>{this.onError("poll connection closed prematurely")},s=()=>{e.removeListener("close",r),this.req=this.res=null};e.cleanup=s,e.on("close",r),this.writable=!0,this.emit("drain"),this.writable&&this.shouldClose&&(qt("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,t){if(this.dataReq){this.onError("data request overlap from client"),t.writeHead(400),t.end();return}let r=e.headers["content-type"]==="application/octet-stream";if(r&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=t;let s=r?Buffer.concat([]):"",a=()=>{e.removeListener("data",c),e.removeListener("end",l),e.removeListener("close",n),this.dataReq=this.dataRes=s=null},n=()=>{a(),this.onError("data request connection closed prematurely")},c=o=>{let m;r?(s=Buffer.concat([s,o]),m=s.length):(s+=o,m=Buffer.byteLength(s)),m>this.maxHttpBufferSize&&(t.writeHead(413).end(),a())},l=()=>{this.onData(s);let o={"Content-Type":"text/html","Content-Length":2};t.writeHead(200,this.headers(e,o)),t.end("ok"),a()};e.on("close",n),r||e.setEncoding("utf8"),e.on("data",c),e.on("end",l)}onData(e){qt('received "%s"',e);let t=r=>{if(r.type==="close")return qt("got xhr close packet"),this.onClose(),!1;this.onPacket(r)};this.protocol===3?this.parser.decodePayload(e,t):this.parser.decodePayload(e).forEach(t)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(qt("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);let t=r=>{let s=e.some(a=>a.options&&a.options.compress);this.write(r,{compress:s})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,t):this.parser.encodePayload(e,t)}write(e,t){qt('writing "%s"',e),this.doWrite(e,t,()=>{this.req.cleanup()})}doWrite(e,t,r){let s=typeof e=="string",n={"Content-Type":s?"text/plain; charset=UTF-8":"application/octet-stream"},c=m=>{n["Content-Length"]=typeof m=="string"?Buffer.byteLength(m):m.length,this.res.writeHead(200,this.headers(this.req,n)),this.res.end(m),r()};if(!this.httpCompression||!t.compress){c(e);return}if((s?Buffer.byteLength(e):e.length)<this.httpCompression.threshold){c(e);return}let o=zy(this.req).encodings(["gzip","deflate"]);if(!o){c(e);return}this.compress(e,o,(m,d)=>{if(m){this.res.writeHead(500),this.res.end(),r(m);return}n["Content-Encoding"]=o,c(d)})}compress(e,t,r){qt("compressing");let s=[],a=0;Wy[t](this.httpCompression).on("error",r).on("data",function(n){s.push(n),a+=n.length}).on("end",function(){r(null,Buffer.concat(s,a))}).end(e)}doClose(e){qt("closing");let t;this.dataReq&&(qt("aborting ongoing data request"),this.dataReq.destroy());let r=()=>{clearTimeout(t),e(),this.onClose()};this.writable?(qt("transport writable - closing right away"),this.send([{type:"close"}]),r()):this.discarded?(qt("transport discarded - closing right away"),r()):(qt("transport not writable - buffering orderly close"),this.shouldClose=r,t=setTimeout(r,this.closeTimeout))}headers(e,t){t=t||{};let r=e.headers["user-agent"];return r&&(~r.indexOf(";MSIE")||~r.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),this.emit("headers",t,e),t}};Ba.Polling=Io});var _p=ie(Na=>{"use strict";V();Object.defineProperty(Na,"__esModule",{value:!0});Na.JSONP=void 0;var $y=Bo(),Yy=oe("querystring"),Qy=/\\\\n/g,Zy=/(\\)?\\n/g,No=class extends $y.Polling{constructor(e){super(e),this.head="___eio["+(e._query.j||"").replace(/[^0-9]/g,"")+"](",this.foot=");"}onData(e){e=Yy.parse(e).d,typeof e=="string"&&(e=e.replace(Zy,function(t,r){return r?t:`
`}),super.onData(e.replace(Qy,"\\n")))}doWrite(e,t,r){let s=JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029");e=this.head+s+this.foot,super.doWrite(e,t,r)}};Na.JSONP=No});var Ep=ie(Oa=>{"use strict";V();Object.defineProperty(Oa,"__esModule",{value:!0});Oa.WebSocket=void 0;var Xy=ai(),Jy=Ue(),Oo=(0,Jy.default)("engine:ws"),Lo=class extends Xy.Transport{constructor(e){super(e),this.socket=e.websocket,this.socket.on("message",(t,r)=>{let s=r?t:t.toString();Oo('received "%s"',s),super.onData(s)}),this.socket.once("close",this.onClose.bind(this)),this.socket.on("error",this.onError.bind(this)),this.writable=!0,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}get supportsFraming(){return!0}send(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],s=t+1===e.length,a={};r.options&&(a.compress=r.options.compress);let n=l=>{if(l)return this.onError("write error",l.stack);s&&(this.writable=!0,this.emit("drain"))},c=l=>{this.perMessageDeflate&&(typeof l=="string"?Buffer.byteLength(l):l.length)<this.perMessageDeflate.threshold&&(a.compress=!1),Oo('writing "%s"',l),this.socket.send(l,a,n)};r.options&&typeof r.options.wsPreEncoded=="string"?c(r.options.wsPreEncoded):this._canSendPreEncodedFrame(r)?this.socket._sender.sendFrame(r.options.wsPreEncodedFrame,n):this.parser.encodePacket(r,this.supportsBinary,c)}}_canSendPreEncodedFrame(e){var t,r,s;return!this.perMessageDeflate&&typeof((r=(t=this.socket)===null||t===void 0?void 0:t._sender)===null||r===void 0?void 0:r.sendFrame)=="function"&&((s=e.options)===null||s===void 0?void 0:s.wsPreEncodedFrame)!==void 0}doClose(e){Oo("closing"),this.socket.close(),e&&e()}};Oa.WebSocket=Lo});var Do=ie(La=>{"use strict";V();Object.defineProperty(La,"__esModule",{value:!0});La.WebTransport=void 0;var e1=ai(),t1=Ue(),r1=us(),ps=(0,t1.default)("engine:webtransport"),Po=class extends e1.Transport{constructor(e,t,r){super({_query:{EIO:"4"}}),this.session=e;let s=(0,r1.createPacketEncoderStream)();s.readable.pipeTo(t.writable),this.writer=s.writable.getWriter(),(async()=>{try{for(;;){let{value:a,done:n}=await r.read();if(n){ps("session is closed");break}ps("received chunk: %o",a),this.onPacket(a)}}catch(a){ps("error while reading: %s",a.message)}})(),e.closed.then(()=>this.onClose()),this.writable=!0}get name(){return"webtransport"}get supportsFraming(){return!0}async send(e){this.writable=!1;try{for(let t=0;t<e.length;t++){let r=e[t];await this.writer.write(r)}}catch(t){ps("error while writing: %s",t.message)}this.writable=!0,this.emit("drain")}doClose(e){ps("closing WebTransport session"),this.session.close(),e&&e()}};La.WebTransport=Po});var Mo=ie(Uo=>{"use strict";V();Object.defineProperty(Uo,"__esModule",{value:!0});var i1=Bo(),s1=_p(),a1=Ep(),n1=Do();Uo.default={polling:Sp,websocket:a1.WebSocket,webtransport:n1.WebTransport};function Sp(i){return typeof i._query.j=="string"?new s1.JSONP(i):new i1.Polling(i)}Sp.upgradesTo=["websocket","webtransport"]});var Vo=ie(Pa=>{"use strict";V();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.Socket=void 0;var o1=oe("events"),c1=Ue(),wr=oe("timers"),We=(0,c1.default)("engine:socket"),Fo=class extends o1.EventEmitter{constructor(e,t,r,s,a){super(),this.id=e,this.server=t,this.upgrading=!1,this.upgraded=!1,this.readyState="opening",this.writeBuffer=[],this.packetsFn=[],this.sentCallbackFn=[],this.cleanupFn=[],this.request=s,this.protocol=a,s&&(s.websocket&&s.websocket._socket?this.remoteAddress=s.websocket._socket.remoteAddress:this.remoteAddress=s.connection.remoteAddress),this.checkIntervalTimer=null,this.upgradeTimeoutTimer=null,this.pingTimeoutTimer=null,this.pingIntervalTimer=null,this.setTransport(r),this.onOpen()}get readyState(){return this._readyState}set readyState(e){We("readyState updated from %s to %s",this._readyState,e),this._readyState=e}onOpen(){this.readyState="open",this.transport.sid=this.id,this.sendPacket("open",JSON.stringify({sid:this.id,upgrades:this.getAvailableUpgrades(),pingInterval:this.server.opts.pingInterval,pingTimeout:this.server.opts.pingTimeout,maxPayload:this.server.opts.maxHttpBufferSize})),this.server.opts.initialPacket&&this.sendPacket("message",this.server.opts.initialPacket),this.emit("open"),this.protocol===3?this.resetPingTimeout(this.server.opts.pingInterval+this.server.opts.pingTimeout):this.schedulePing()}onPacket(e){if(this.readyState!=="open")return We("packet received with closed socket");switch(We(`received packet ${e.type}`),this.emit("packet",e),this.resetPingTimeout(this.server.opts.pingInterval+this.server.opts.pingTimeout),e.type){case"ping":if(this.transport.protocol!==3){this.onError("invalid heartbeat direction");return}We("got ping"),this.sendPacket("pong"),this.emit("heartbeat");break;case"pong":if(this.transport.protocol===3){this.onError("invalid heartbeat direction");return}We("got pong"),this.pingIntervalTimer.refresh(),this.emit("heartbeat");break;case"error":this.onClose("parse error");break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}}onError(e){We("transport error"),this.onClose("transport error",e)}schedulePing(){this.pingIntervalTimer=(0,wr.setTimeout)(()=>{We("writing ping packet - expecting pong within %sms",this.server.opts.pingTimeout),this.sendPacket("ping"),this.resetPingTimeout(this.server.opts.pingTimeout)},this.server.opts.pingInterval)}resetPingTimeout(e){(0,wr.clearTimeout)(this.pingTimeoutTimer),this.pingTimeoutTimer=(0,wr.setTimeout)(()=>{this.readyState!=="closed"&&this.onClose("ping timeout")},e)}setTransport(e){let t=this.onError.bind(this),r=this.onPacket.bind(this),s=this.flush.bind(this),a=this.onClose.bind(this,"transport close");this.transport=e,this.transport.once("error",t),this.transport.on("packet",r),this.transport.on("drain",s),this.transport.once("close",a),this.setupSendCallback(),this.cleanupFn.push(function(){e.removeListener("error",t),e.removeListener("packet",r),e.removeListener("drain",s),e.removeListener("close",a)})}maybeUpgrade(e){We('might upgrade socket transport from "%s" to "%s"',this.transport.name,e.name),this.upgrading=!0,this.upgradeTimeoutTimer=(0,wr.setTimeout)(()=>{We("client did not complete upgrade - closing transport"),s(),e.readyState==="open"&&e.close()},this.server.opts.upgradeTimeout);let t=l=>{l.type==="ping"&&l.data==="probe"?(We("got probe ping packet, sending pong"),e.send([{type:"pong",data:"probe"}]),this.emit("upgrading",e),clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=setInterval(r,100)):l.type==="upgrade"&&this.readyState!=="closed"?(We("got upgrade packet - upgrading"),s(),this.transport.discard(),this.upgraded=!0,this.clearTransport(),this.setTransport(e),this.emit("upgrade",e),this.flush(),this.readyState==="closing"&&e.close(()=>{this.onClose("forced close")})):(s(),e.close())},r=()=>{this.transport.name==="polling"&&this.transport.writable&&(We("writing a noop packet to polling for fast upgrade"),this.transport.send([{type:"noop"}]))},s=()=>{this.upgrading=!1,clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=null,(0,wr.clearTimeout)(this.upgradeTimeoutTimer),this.upgradeTimeoutTimer=null,e.removeListener("packet",t),e.removeListener("close",n),e.removeListener("error",a),this.removeListener("close",c)},a=l=>{We("client did not complete upgrade - %s",l),s(),e.close(),e=null},n=()=>{a("transport closed")},c=()=>{a("socket closed")};e.on("packet",t),e.once("close",n),e.once("error",a),this.once("close",c)}clearTransport(){let e,t=this.cleanupFn.length;for(let r=0;r<t;r++)e=this.cleanupFn.shift(),e();this.transport.on("error",function(){We("error triggered by discarded transport")}),this.transport.close(),(0,wr.clearTimeout)(this.pingTimeoutTimer)}onClose(e,t){this.readyState!=="closed"&&(this.readyState="closed",(0,wr.clearTimeout)(this.pingIntervalTimer),(0,wr.clearTimeout)(this.pingTimeoutTimer),clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=null,(0,wr.clearTimeout)(this.upgradeTimeoutTimer),process.nextTick(()=>{this.writeBuffer=[]}),this.packetsFn=[],this.sentCallbackFn=[],this.clearTransport(),this.emit("close",e,t))}setupSendCallback(){let e=()=>{if(this.sentCallbackFn.length>0){let t=this.sentCallbackFn.splice(0,1)[0];if(typeof t=="function")We("executing send callback"),t(this.transport);else if(Array.isArray(t)){We("executing batch send callback");let r=t.length,s=0;for(;s<r;s++)typeof t[s]=="function"&&t[s](this.transport)}}};this.transport.on("drain",e),this.cleanupFn.push(()=>{this.transport.removeListener("drain",e)})}send(e,t,r){return this.sendPacket("message",e,t,r),this}write(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r={},s){if(typeof r=="function"&&(s=r,r={}),this.readyState!=="closing"&&this.readyState!=="closed"){We('sending packet "%s" (%s)',e,t),r.compress=r.compress!==!1;let a={type:e,options:r};t&&(a.data=t),this.emit("packetCreate",a),this.writeBuffer.push(a),s&&this.packetsFn.push(s),this.flush()}}flush(){if(this.readyState!=="closed"&&this.transport.writable&&this.writeBuffer.length){We("flushing buffer to transport"),this.emit("flush",this.writeBuffer),this.server.emit("flush",this,this.writeBuffer);let e=this.writeBuffer;this.writeBuffer=[],this.transport.supportsFraming?this.sentCallbackFn.push.apply(this.sentCallbackFn,this.packetsFn):this.sentCallbackFn.push(this.packetsFn),this.packetsFn=[],this.transport.send(e),this.emit("drain"),this.server.emit("drain",this)}}getAvailableUpgrades(){let e=[],t=this.server.upgrades(this.transport.name),r=0,s=t.length;for(;r<s;++r){let a=t[r];this.server.opts.transports.indexOf(a)!==-1&&e.push(a)}return e}close(e){if(this.readyState==="open"){if(this.readyState="closing",this.writeBuffer.length){We("there are %d remaining packets in the buffer, waiting for the 'drain' event",this.writeBuffer.length),this.once("drain",()=>{We("all packets have been sent, closing the transport"),this.closeTransport(e)});return}We("the buffer is empty, closing the transport right away",e),this.closeTransport(e)}}closeTransport(e){We("closing the transport (discard? %s)",e),e&&this.transport.discard(),this.transport.close(this.onClose.bind(this,"forced close"))}};Pa.Socket=Fo});var Cp=ie(qo=>{"use strict";V();qo.parse=p1;qo.serialize=d1;var l1=decodeURIComponent,u1=encodeURIComponent,Da=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function p1(i,e){if(typeof i!="string")throw new TypeError("argument str must be a string");for(var t={},r=e||{},s=i.split(";"),a=r.decode||l1,n=0;n<s.length;n++){var c=s[n],l=c.indexOf("=");if(!(l<0)){var o=c.substring(0,l).trim();if(t[o]==null){var m=c.substring(l+1,c.length).trim();m[0]==='"'&&(m=m.slice(1,-1)),t[o]=f1(m,a)}}}return t}function d1(i,e,t){var r=t||{},s=r.encode||u1;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!Da.test(i))throw new TypeError("argument name is invalid");var a=s(e);if(a&&!Da.test(a))throw new TypeError("argument val is invalid");var n=i+"="+a;if(r.maxAge!=null){var c=r.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");n+="; Max-Age="+Math.floor(c)}if(r.domain){if(!Da.test(r.domain))throw new TypeError("option domain is invalid");n+="; Domain="+r.domain}if(r.path){if(!Da.test(r.path))throw new TypeError("option path is invalid");n+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");n+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(n+="; HttpOnly"),r.secure&&(n+="; Secure"),r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return n}function f1(i,e){try{return e(i)}catch{return i}}});var zr=ie((T2,wp)=>{"use strict";V();wp.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var ds=ie((k2,Ua)=>{"use strict";V();var{EMPTY_BUFFER:h1}=zr();function m1(i,e){if(i.length===0)return h1;if(i.length===1)return i[0];let t=Buffer.allocUnsafe(e),r=0;for(let s=0;s<i.length;s++){let a=i[s];t.set(a,r),r+=a.length}return r<e?t.slice(0,r):t}function Tp(i,e,t,r,s){for(let a=0;a<s;a++)t[r+a]=i[a]^e[a&3]}function Ap(i,e){for(let t=0;t<i.length;t++)i[t]^=e[t&3]}function v1(i){return i.byteLength===i.buffer.byteLength?i.buffer:i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}function jo(i){if(jo.readOnly=!0,Buffer.isBuffer(i))return i;let e;return i instanceof ArrayBuffer?e=Buffer.from(i):ArrayBuffer.isView(i)?e=Buffer.from(i.buffer,i.byteOffset,i.byteLength):(e=Buffer.from(i),jo.readOnly=!1),e}Ua.exports={concat:m1,mask:Tp,toArrayBuffer:v1,toBuffer:jo,unmask:Ap};if(!process.env.WS_NO_BUFFER_UTIL)try{let i=oe("bufferutil");Ua.exports.mask=function(e,t,r,s,a){a<48?Tp(e,t,r,s,a):i.mask(e,t,r,s,a)},Ua.exports.unmask=function(e,t){e.length<32?Ap(e,t):i.unmask(e,t)}}catch{}});var Ip=ie((I2,Rp)=>{"use strict";V();var kp=Symbol("kDone"),Ho=Symbol("kRun"),Ko=class{constructor(e){this[kp]=()=>{this.pending--,this[Ho]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Ho]()}[Ho](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[kp])}}};Rp.exports=Ko});var ms=ie((N2,Lp)=>{"use strict";V();var fs=oe("zlib"),Bp=ds(),g1=Ip(),{kStatusCode:Np}=zr(),y1=Buffer.from([0,0,255,255]),Va=Symbol("permessage-deflate"),Tr=Symbol("total-length"),hs=Symbol("callback"),Gr=Symbol("buffers"),Fa=Symbol("error"),Ma,zo=class{constructor(e,t,r){if(this._maxPayload=r|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!Ma){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Ma=new g1(s)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[hs];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(s=>!(t.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>s.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(r.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?r.client_max_window_bits=t.clientMaxWindowBits:(r.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(r=>{let s=t[r];if(s.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(s=s[0],r==="client_max_window_bits"){if(s!==!0){let a=+s;if(!Number.isInteger(a)||a<8||a>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=a}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else if(r==="server_max_window_bits"){let a=+s;if(!Number.isInteger(a)||a<8||a>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=a}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else throw new Error(`Unknown parameter "${r}"`);t[r]=s})}),e}decompress(e,t,r){Ma.add(s=>{this._decompress(e,t,(a,n)=>{s(),r(a,n)})})}compress(e,t,r){Ma.add(s=>{this._compress(e,t,(a,n)=>{s(),r(a,n)})})}_decompress(e,t,r){let s=this._isServer?"client":"server";if(!this._inflate){let a=`${s}_max_window_bits`,n=typeof this.params[a]!="number"?fs.Z_DEFAULT_WINDOWBITS:this.params[a];this._inflate=fs.createInflateRaw({...this._options.zlibInflateOptions,windowBits:n}),this._inflate[Va]=this,this._inflate[Tr]=0,this._inflate[Gr]=[],this._inflate.on("error",b1),this._inflate.on("data",Op)}this._inflate[hs]=r,this._inflate.write(e),t&&this._inflate.write(y1),this._inflate.flush(()=>{let a=this._inflate[Fa];if(a){this._inflate.close(),this._inflate=null,r(a);return}let n=Bp.concat(this._inflate[Gr],this._inflate[Tr]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Tr]=0,this._inflate[Gr]=[],t&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),r(null,n)})}_compress(e,t,r){let s=this._isServer?"server":"client";if(!this._deflate){let a=`${s}_max_window_bits`,n=typeof this.params[a]!="number"?fs.Z_DEFAULT_WINDOWBITS:this.params[a];this._deflate=fs.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:n}),this._deflate[Tr]=0,this._deflate[Gr]=[],this._deflate.on("data",x1)}this._deflate[hs]=r,this._deflate.write(e),this._deflate.flush(fs.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let a=Bp.concat(this._deflate[Gr],this._deflate[Tr]);t&&(a=a.slice(0,a.length-4)),this._deflate[hs]=null,this._deflate[Tr]=0,this._deflate[Gr]=[],t&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),r(null,a)})}};Lp.exports=zo;function x1(i){this[Gr].push(i),this[Tr]+=i.length}function Op(i){if(this[Tr]+=i.length,this[Va]._maxPayload<1||this[Tr]<=this[Va]._maxPayload){this[Gr].push(i);return}this[Fa]=new RangeError("Max payload size exceeded"),this[Fa].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Fa][Np]=1009,this.removeListener("data",Op),this.reset()}function b1(i){this[Va]._inflate=null,i[Np]=1007,this[hs](i)}});var vs=ie((L2,Go)=>{"use strict";V();var _1=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function E1(i){return i>=1e3&&i<=1014&&i!==1004&&i!==1005&&i!==1006||i>=3e3&&i<=4999}function Pp(i){let e=i.length,t=0;for(;t<e;)if(!(i[t]&128))t++;else if((i[t]&224)===192){if(t+1===e||(i[t+1]&192)!==128||(i[t]&254)===192)return!1;t+=2}else if((i[t]&240)===224){if(t+2>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||i[t]===224&&(i[t+1]&224)===128||i[t]===237&&(i[t+1]&224)===160)return!1;t+=3}else if((i[t]&248)===240){if(t+3>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||(i[t+3]&192)!==128||i[t]===240&&(i[t+1]&240)===128||i[t]===244&&i[t+1]>143||i[t]>244)return!1;t+=4}else return!1;return!0}Go.exports={isValidStatusCode:E1,isValidUTF8:Pp,tokenChars:_1};if(!process.env.WS_NO_UTF_8_VALIDATE)try{let i=oe("utf-8-validate");Go.exports.isValidUTF8=function(e){return e.length<150?Pp(e):i(e)}}catch{}});var qa=ie((D2,jp)=>{"use strict";V();var{Writable:S1}=oe("stream"),Dp=ms(),{BINARY_TYPES:C1,EMPTY_BUFFER:Up,kStatusCode:w1,kWebSocket:T1}=zr(),{concat:Wo,toArrayBuffer:A1,unmask:k1}=ds(),{isValidStatusCode:R1,isValidUTF8:Mp}=vs(),gs=0,Fp=1,Vp=2,qp=3,$o=4,I1=5,Yo=class extends S1{constructor(e={}){super(),this._binaryType=e.binaryType||C1[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[T1]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=gs,this._loop=!1}_write(e,t,r){if(this._opcode===8&&this._state==gs)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let r=this._buffers[0];return this._buffers[0]=r.slice(e),r.slice(0,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],s=t.length-e;e>=r.length?t.set(this._buffers.shift(),s):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),s),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do switch(this._state){case gs:t=this.getInfo();break;case Fp:t=this.getPayloadLength16();break;case Vp:t=this.getPayloadLength64();break;case qp:this.getMask();break;case $o:t=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,tt(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let t=(e[0]&64)===64;if(t&&!this._extensions[Dp.extensionName])return this._loop=!1,tt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(t)return this._loop=!1,tt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,tt(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,tt(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,tt(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,tt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,tt(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,tt(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,tt(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,tt(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Fp;else if(this._payloadLength===127)this._state=Vp;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,tt(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,tt(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=qp:this._state=$o}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=$o}getData(e){let t=Up;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&k1(t,this._mask)}if(this._opcode>7)return this.controlMessage(t);if(this._compressed){this._state=I1,this.decompress(t,e);return}return t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage()}decompress(e,t){this._extensions[Dp.extensionName].decompress(e,this._fin,(s,a)=>{if(s)return t(s);if(a.length){if(this._messageLength+=a.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(tt(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(a)}let n=this.dataMessage();if(n)return t(n);this.startLoop(t)})}dataMessage(){if(this._fin){let e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let r;this._binaryType==="nodebuffer"?r=Wo(t,e):this._binaryType==="arraybuffer"?r=A1(Wo(t,e)):r=t,this.emit("message",r,!0)}else{let r=Wo(t,e);if(!this._skipUTF8Validation&&!Mp(r))return this._loop=!1,tt(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r,!1)}}this._state=gs}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,Up),this.end();else{if(e.length===1)return tt(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let t=e.readUInt16BE(0);if(!R1(t))return tt(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let r=e.slice(2);if(!this._skipUTF8Validation&&!Mp(r))return tt(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,r),this.end()}}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=gs}};jp.exports=Yo;function tt(i,e,t,r,s){let a=new i(t?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(a,tt),a.code=s,a[w1]=r,a}});var ja=ie((V2,zp)=>{"use strict";V();var M2=oe("net"),F2=oe("tls"),{randomFillSync:B1}=oe("crypto"),Hp=ms(),{EMPTY_BUFFER:N1}=zr(),{isValidStatusCode:O1}=vs(),{mask:Kp,toBuffer:Ti}=ds(),ar=Symbol("kByteLength"),L1=Buffer.alloc(4),Qo=class i{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,s=!1,a=2,n=!1;t.mask&&(r=t.maskBuffer||L1,t.generateMask?t.generateMask(r):B1(r,0,4),n=(r[0]|r[1]|r[2]|r[3])===0,a=6);let c;typeof e=="string"?(!t.mask||n)&&t[ar]!==void 0?c=t[ar]:(e=Buffer.from(e),c=e.length):(c=e.length,s=t.mask&&t.readOnly&&!n);let l=c;c>=65536?(a+=8,l=127):c>125&&(a+=2,l=126);let o=Buffer.allocUnsafe(s?c+a:a);return o[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(o[0]|=64),o[1]=l,l===126?o.writeUInt16BE(c,2):l===127&&(o[2]=o[3]=0,o.writeUIntBE(c,4,6)),t.mask?(o[1]|=128,o[a-4]=r[0],o[a-3]=r[1],o[a-2]=r[2],o[a-1]=r[3],n?[o,e]:s?(Kp(e,r,o,a,c),[o]):(Kp(e,r,e,0,c),[o,e])):[o,e]}close(e,t,r,s){let a;if(e===void 0)a=N1;else{if(typeof e!="number"||!O1(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)a=Buffer.allocUnsafe(2),a.writeUInt16BE(e,0);else{let c=Buffer.byteLength(t);if(c>123)throw new RangeError("The message must not be greater than 123 bytes");a=Buffer.allocUnsafe(2+c),a.writeUInt16BE(e,0),typeof t=="string"?a.write(t,2):a.set(t,2)}}let n={[ar]:a.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,a,!1,n,s]):this.sendFrame(i.frame(a,n),s)}ping(e,t,r){let s,a;if(typeof e=="string"?(s=Buffer.byteLength(e),a=!1):(e=Ti(e),s=e.length,a=Ti.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let n={[ar]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:a,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,n,r]):this.sendFrame(i.frame(e,n),r)}pong(e,t,r){let s,a;if(typeof e=="string"?(s=Buffer.byteLength(e),a=!1):(e=Ti(e),s=e.length,a=Ti.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let n={[ar]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:a,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,n,r]):this.sendFrame(i.frame(e,n),r)}send(e,t,r){let s=this._extensions[Hp.extensionName],a=t.binary?2:1,n=t.compress,c,l;if(typeof e=="string"?(c=Buffer.byteLength(e),l=!1):(e=Ti(e),c=e.length,l=Ti.readOnly),this._firstFragment?(this._firstFragment=!1,n&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(n=c>=s._threshold),this._compress=n):(n=!1,a=0),t.fin&&(this._firstFragment=!0),s){let o={[ar]:c,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:l,rsv1:n};this._deflating?this.enqueue([this.dispatch,e,this._compress,o,r]):this.dispatch(e,this._compress,o,r)}else this.sendFrame(i.frame(e,{[ar]:c,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:l,rsv1:!1}),r)}dispatch(e,t,r,s){if(!t){this.sendFrame(i.frame(e,r),s);return}let a=this._extensions[Hp.extensionName];this._bufferedBytes+=r[ar],this._deflating=!0,a.compress(e,r.fin,(n,c)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");typeof s=="function"&&s(l);for(let o=0;o<this._queue.length;o++){let m=this._queue[o],d=m[m.length-1];typeof d=="function"&&d(l)}return}this._bufferedBytes-=r[ar],this._deflating=!1,r.readOnly=!1,this.sendFrame(i.frame(c,r),s),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][ar],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][ar],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};zp.exports=Qo});var ed=ie((j2,Jp)=>{"use strict";V();var{kForOnEventAttribute:ys,kListener:Zo}=zr(),Gp=Symbol("kCode"),Wp=Symbol("kData"),$p=Symbol("kError"),Yp=Symbol("kMessage"),Qp=Symbol("kReason"),Ai=Symbol("kTarget"),Zp=Symbol("kType"),Xp=Symbol("kWasClean"),Ar=class{constructor(e){this[Ai]=null,this[Zp]=e}get target(){return this[Ai]}get type(){return this[Zp]}};Object.defineProperty(Ar.prototype,"target",{enumerable:!0});Object.defineProperty(Ar.prototype,"type",{enumerable:!0});var ni=class extends Ar{constructor(e,t={}){super(e),this[Gp]=t.code===void 0?0:t.code,this[Qp]=t.reason===void 0?"":t.reason,this[Xp]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[Gp]}get reason(){return this[Qp]}get wasClean(){return this[Xp]}};Object.defineProperty(ni.prototype,"code",{enumerable:!0});Object.defineProperty(ni.prototype,"reason",{enumerable:!0});Object.defineProperty(ni.prototype,"wasClean",{enumerable:!0});var ki=class extends Ar{constructor(e,t={}){super(e),this[$p]=t.error===void 0?null:t.error,this[Yp]=t.message===void 0?"":t.message}get error(){return this[$p]}get message(){return this[Yp]}};Object.defineProperty(ki.prototype,"error",{enumerable:!0});Object.defineProperty(ki.prototype,"message",{enumerable:!0});var xs=class extends Ar{constructor(e,t={}){super(e),this[Wp]=t.data===void 0?null:t.data}get data(){return this[Wp]}};Object.defineProperty(xs.prototype,"data",{enumerable:!0});var P1={addEventListener(i,e,t={}){for(let s of this.listeners(i))if(!t[ys]&&s[Zo]===e&&!s[ys])return;let r;if(i==="message")r=function(a,n){let c=new xs("message",{data:n?a:a.toString()});c[Ai]=this,Ha(e,this,c)};else if(i==="close")r=function(a,n){let c=new ni("close",{code:a,reason:n.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});c[Ai]=this,Ha(e,this,c)};else if(i==="error")r=function(a){let n=new ki("error",{error:a,message:a.message});n[Ai]=this,Ha(e,this,n)};else if(i==="open")r=function(){let a=new Ar("open");a[Ai]=this,Ha(e,this,a)};else return;r[ys]=!!t[ys],r[Zo]=e,t.once?this.once(i,r):this.on(i,r)},removeEventListener(i,e){for(let t of this.listeners(i))if(t[Zo]===e&&!t[ys]){this.removeListener(i,t);break}}};Jp.exports={CloseEvent:ni,ErrorEvent:ki,Event:Ar,EventTarget:P1,MessageEvent:xs};function Ha(i,e,t){typeof i=="object"&&i.handleEvent?i.handleEvent.call(i,t):i.call(e,t)}});var Xo=ie((K2,td)=>{"use strict";V();var{tokenChars:bs}=vs();function gr(i,e,t){i[e]===void 0?i[e]=[t]:i[e].push(t)}function D1(i){let e=Object.create(null),t=Object.create(null),r=!1,s=!1,a=!1,n,c,l=-1,o=-1,m=-1,d=0;for(;d<i.length;d++)if(o=i.charCodeAt(d),n===void 0)if(m===-1&&bs[o]===1)l===-1&&(l=d);else if(d!==0&&(o===32||o===9))m===-1&&l!==-1&&(m=d);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);m===-1&&(m=d);let A=i.slice(l,m);o===44?(gr(e,A,t),t=Object.create(null)):n=A,l=m=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(c===void 0)if(m===-1&&bs[o]===1)l===-1&&(l=d);else if(o===32||o===9)m===-1&&l!==-1&&(m=d);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);m===-1&&(m=d),gr(t,i.slice(l,m),!0),o===44&&(gr(e,n,t),t=Object.create(null),n=void 0),l=m=-1}else if(o===61&&l!==-1&&m===-1)c=i.slice(l,d),l=m=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(s){if(bs[o]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);l===-1?l=d:r||(r=!0),s=!1}else if(a)if(bs[o]===1)l===-1&&(l=d);else if(o===34&&l!==-1)a=!1,m=d;else if(o===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(o===34&&i.charCodeAt(d-1)===61)a=!0;else if(m===-1&&bs[o]===1)l===-1&&(l=d);else if(l!==-1&&(o===32||o===9))m===-1&&(m=d);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);m===-1&&(m=d);let A=i.slice(l,m);r&&(A=A.replace(/\\/g,""),r=!1),gr(t,c,A),o===44&&(gr(e,n,t),t=Object.create(null),n=void 0),c=void 0,l=m=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(l===-1||a||o===32||o===9)throw new SyntaxError("Unexpected end of input");m===-1&&(m=d);let y=i.slice(l,m);return n===void 0?gr(e,y,t):(c===void 0?gr(t,y,!0):r?gr(t,c,y.replace(/\\/g,"")):gr(t,c,y),gr(e,n,t)),e}function U1(i){return Object.keys(i).map(e=>{let t=i[e];return Array.isArray(t)||(t=[t]),t.map(r=>[e].concat(Object.keys(r).map(s=>{let a=r[s];return Array.isArray(a)||(a=[a]),a.map(n=>n===!0?s:`${s}=${n}`).join("; ")})).join("; ")).join(", ")}).join(", ")}td.exports={format:U1,parse:D1}});var Wa=ie((W2,dd)=>{"use strict";V();var M1=oe("events"),F1=oe("https"),V1=oe("http"),sd=oe("net"),q1=oe("tls"),{randomBytes:j1,createHash:H1}=oe("crypto"),{Readable:G2}=oe("stream"),{URL:Jo}=oe("url"),Wr=ms(),K1=qa(),z1=ja(),{BINARY_TYPES:rd,EMPTY_BUFFER:Ka,GUID:G1,kForOnEventAttribute:ec,kListener:W1,kStatusCode:$1,kWebSocket:wt,NOOP:ad}=zr(),{EventTarget:{addEventListener:Y1,removeEventListener:Q1}}=ed(),{format:Z1,parse:X1}=Xo(),{toBuffer:J1}=ds(),e0=30*1e3,nd=Symbol("kAborted"),tc=[8,13],kr=["CONNECTING","OPEN","CLOSING","CLOSED"],t0=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Qe=class i extends M1{constructor(e,t,r){super(),this._binaryType=rd[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Ka,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=i.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(r=t,t=[]):t=[t]),od(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){rd.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let s=new K1({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new z1(e,this._extensions,r.generateMask),this._receiver=s,this._socket=e,s[wt]=this,e[wt]=this,s.on("conclude",s0),s.on("drain",a0),s.on("error",n0),s.on("message",o0),s.on("ping",c0),s.on("pong",l0),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",ld),e.on("data",Ga),e.on("end",ud),e.on("error",pd),this._readyState=i.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Wr.extensionName]&&this._extensions[Wr.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING)return jt(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===i.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=i.CLOSING,this._sender.close(e,t,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),e0)}}pause(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){rc(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||Ka,t,r)}pong(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){rc(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||Ka,t,r)}resume(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(r=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){rc(this,e,r);return}let s={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[Wr.extensionName]||(s.compress=!1),this._sender.send(e||Ka,s,r)}terminate(){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING)return jt(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=i.CLOSING,this._socket.destroy())}}};Object.defineProperty(Qe,"CONNECTING",{enumerable:!0,value:kr.indexOf("CONNECTING")});Object.defineProperty(Qe.prototype,"CONNECTING",{enumerable:!0,value:kr.indexOf("CONNECTING")});Object.defineProperty(Qe,"OPEN",{enumerable:!0,value:kr.indexOf("OPEN")});Object.defineProperty(Qe.prototype,"OPEN",{enumerable:!0,value:kr.indexOf("OPEN")});Object.defineProperty(Qe,"CLOSING",{enumerable:!0,value:kr.indexOf("CLOSING")});Object.defineProperty(Qe.prototype,"CLOSING",{enumerable:!0,value:kr.indexOf("CLOSING")});Object.defineProperty(Qe,"CLOSED",{enumerable:!0,value:kr.indexOf("CLOSED")});Object.defineProperty(Qe.prototype,"CLOSED",{enumerable:!0,value:kr.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(i=>{Object.defineProperty(Qe.prototype,i,{enumerable:!0})});["open","error","close","message"].forEach(i=>{Object.defineProperty(Qe.prototype,`on${i}`,{enumerable:!0,get(){for(let e of this.listeners(i))if(e[ec])return e[W1];return null},set(e){for(let t of this.listeners(i))if(t[ec]){this.removeListener(i,t);break}typeof e=="function"&&this.addEventListener(i,e,{[ec]:!0})}})});Qe.prototype.addEventListener=Y1;Qe.prototype.removeEventListener=Q1;dd.exports=Qe;function od(i,e,t,r){let s={protocolVersion:tc[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!tc.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${tc.join(", ")})`);let a;if(e instanceof Jo)a=e,i._url=e.href;else{try{a=new Jo(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i._url=e}let n=a.protocol==="wss:",c=a.protocol==="ws+unix:",l;if(a.protocol!=="ws:"&&!n&&!c?l=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:c&&!a.pathname?l="The URL's pathname is empty":a.hash&&(l="The URL contains a fragment identifier"),l){let h=new SyntaxError(l);if(i._redirects===0)throw h;za(i,h);return}let o=n?443:80,m=j1(16).toString("base64"),d=n?F1.request:V1.request,y=new Set,A;if(s.createConnection=n?i0:r0,s.defaultPort=s.defaultPort||o,s.port=a.port||o,s.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":m,Connection:"Upgrade",Upgrade:"websocket"},s.path=a.pathname+a.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(A=new Wr(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=Z1({[Wr.extensionName]:A.offer()})),t.length){for(let h of t){if(typeof h!="string"||!t0.test(h)||y.has(h))throw new SyntaxError("An invalid or duplicated subprotocol was specified");y.add(h)}s.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(a.username||a.password)&&(s.auth=`${a.username}:${a.password}`),c){let h=s.path.split(":");s.socketPath=h[0],s.path=h[1]}let b;if(s.followRedirects){if(i._redirects===0){i._originalIpc=c,i._originalSecure=n,i._originalHostOrSocketPath=c?s.socketPath:a.host;let h=r&&r.headers;if(r={...r,headers:{}},h)for(let[E,w]of Object.entries(h))r.headers[E.toLowerCase()]=w}else if(i.listenerCount("redirect")===0){let h=c?i._originalIpc?s.socketPath===i._originalHostOrSocketPath:!1:i._originalIpc?!1:a.host===i._originalHostOrSocketPath;(!h||i._originalSecure&&!n)&&(delete s.headers.authorization,delete s.headers.cookie,h||delete s.headers.host,s.auth=void 0)}s.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),b=i._req=d(s),i._redirects&&i.emit("redirect",i.url,b)}else b=i._req=d(s);s.timeout&&b.on("timeout",()=>{jt(i,b,"Opening handshake has timed out")}),b.on("error",h=>{b===null||b[nd]||(b=i._req=null,za(i,h))}),b.on("response",h=>{let E=h.headers.location,w=h.statusCode;if(E&&s.followRedirects&&w>=300&&w<400){if(++i._redirects>s.maxRedirects){jt(i,b,"Maximum redirects exceeded");return}b.abort();let S;try{S=new Jo(E,e)}catch{let _=new SyntaxError(`Invalid URL: ${E}`);za(i,_);return}od(i,S,t,r)}else i.emit("unexpected-response",b,h)||jt(i,b,`Unexpected server response: ${h.statusCode}`)}),b.on("upgrade",(h,E,w)=>{if(i.emit("upgrade",h),i.readyState!==Qe.CONNECTING)return;if(b=i._req=null,h.headers.upgrade.toLowerCase()!=="websocket"){jt(i,E,"Invalid Upgrade header");return}let S=H1("sha1").update(m+G1).digest("base64");if(h.headers["sec-websocket-accept"]!==S){jt(i,E,"Invalid Sec-WebSocket-Accept header");return}let p=h.headers["sec-websocket-protocol"],_;if(p!==void 0?y.size?y.has(p)||(_="Server sent an invalid subprotocol"):_="Server sent a subprotocol but none was requested":y.size&&(_="Server sent no subprotocol"),_){jt(i,E,_);return}p&&(i._protocol=p);let C=h.headers["sec-websocket-extensions"];if(C!==void 0){if(!A){jt(i,E,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let k;try{k=X1(C)}catch{jt(i,E,"Invalid Sec-WebSocket-Extensions header");return}let N=Object.keys(k);if(N.length!==1||N[0]!==Wr.extensionName){jt(i,E,"Server indicated an extension that was not requested");return}try{A.accept(k[Wr.extensionName])}catch{jt(i,E,"Invalid Sec-WebSocket-Extensions header");return}i._extensions[Wr.extensionName]=A}i.setSocket(E,w,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),b.end()}function za(i,e){i._readyState=Qe.CLOSING,i.emit("error",e),i.emitClose()}function r0(i){return i.path=i.socketPath,sd.connect(i)}function i0(i){return i.path=void 0,!i.servername&&i.servername!==""&&(i.servername=sd.isIP(i.host)?"":i.host),q1.connect(i)}function jt(i,e,t){i._readyState=Qe.CLOSING;let r=new Error(t);Error.captureStackTrace(r,jt),e.setHeader?(e[nd]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(za,i,r)):(e.destroy(r),e.once("error",i.emit.bind(i,"error")),e.once("close",i.emitClose.bind(i)))}function rc(i,e,t){if(e){let r=J1(e).length;i._socket?i._sender._bufferedBytes+=r:i._bufferedAmount+=r}if(t){let r=new Error(`WebSocket is not open: readyState ${i.readyState} (${kr[i.readyState]})`);t(r)}}function s0(i,e){let t=this[wt];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=i,t._socket[wt]!==void 0&&(t._socket.removeListener("data",Ga),process.nextTick(cd,t._socket),i===1005?t.close():t.close(i,e))}function a0(){let i=this[wt];i.isPaused||i._socket.resume()}function n0(i){let e=this[wt];e._socket[wt]!==void 0&&(e._socket.removeListener("data",Ga),process.nextTick(cd,e._socket),e.close(i[$1])),e.emit("error",i)}function id(){this[wt].emitClose()}function o0(i,e){this[wt].emit("message",i,e)}function c0(i){let e=this[wt];e.pong(i,!e._isServer,ad),e.emit("ping",i)}function l0(i){this[wt].emit("pong",i)}function cd(i){i.resume()}function ld(){let i=this[wt];this.removeListener("close",ld),this.removeListener("data",Ga),this.removeListener("end",ud),i._readyState=Qe.CLOSING;let e;!this._readableState.endEmitted&&!i._closeFrameReceived&&!i._receiver._writableState.errorEmitted&&(e=i._socket.read())!==null&&i._receiver.write(e),i._receiver.end(),this[wt]=void 0,clearTimeout(i._closeTimer),i._receiver._writableState.finished||i._receiver._writableState.errorEmitted?i.emitClose():(i._receiver.on("error",id),i._receiver.on("finish",id))}function Ga(i){this[wt]._receiver.write(i)||this.pause()}function ud(){let i=this[wt];i._readyState=Qe.CLOSING,i._receiver.end(),this.end()}function pd(){let i=this[wt];this.removeListener("error",pd),this.on("error",ad),i&&(i._readyState=Qe.CLOSING,this.destroy())}});var ic=ie((Y2,md)=>{"use strict";V();var{Duplex:u0}=oe("stream");function fd(i){i.emit("close")}function p0(){!this.destroyed&&this._writableState.finished&&this.destroy()}function hd(i){this.removeListener("error",hd),this.destroy(),this.listenerCount("error")===0&&this.emit("error",i)}function d0(i,e){let t=!0,r=new u0({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return i.on("message",function(a,n){let c=!n&&r._readableState.objectMode?a.toString():a;r.push(c)||i.pause()}),i.once("error",function(a){r.destroyed||(t=!1,r.destroy(a))}),i.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(s,a){if(i.readyState===i.CLOSED){a(s),process.nextTick(fd,r);return}let n=!1;i.once("error",function(l){n=!0,a(l)}),i.once("close",function(){n||a(s),process.nextTick(fd,r)}),t&&i.terminate()},r._final=function(s){if(i.readyState===i.CONNECTING){i.once("open",function(){r._final(s)});return}i._socket!==null&&(i._socket._writableState.finished?(s(),r._readableState.endEmitted&&r.destroy()):(i._socket.once("finish",function(){s()}),i.close()))},r._read=function(){i.isPaused&&i.resume()},r._write=function(s,a,n){if(i.readyState===i.CONNECTING){i.once("open",function(){r._write(s,a,n)});return}i.send(s,n)},r.on("end",p0),r.on("error",hd),r}md.exports=d0});var gd=ie((Z2,vd)=>{"use strict";V();var{tokenChars:f0}=vs();function h0(i){let e=new Set,t=-1,r=-1,s=0;for(s;s<i.length;s++){let n=i.charCodeAt(s);if(r===-1&&f0[n]===1)t===-1&&(t=s);else if(s!==0&&(n===32||n===9))r===-1&&t!==-1&&(r=s);else if(n===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${s}`);r===-1&&(r=s);let c=i.slice(t,r);if(e.has(c))throw new SyntaxError(`The "${c}" subprotocol is duplicated`);e.add(c),t=r=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(t===-1||r!==-1)throw new SyntaxError("Unexpected end of input");let a=i.slice(t,s);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);return e.add(a),e}vd.exports={parse:h0}});var ac=ie((rT,Sd)=>{"use strict";V();var m0=oe("events"),$a=oe("http"),J2=oe("https"),eT=oe("net"),tT=oe("tls"),{createHash:v0}=oe("crypto"),yd=Xo(),oi=ms(),g0=gd(),y0=Wa(),{GUID:x0,kWebSocket:b0}=zr(),_0=/^[+/0-9A-Za-z]{22}==$/,xd=0,bd=1,Ed=2,sc=class extends m0{constructor(e,t){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:y0,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=$a.createServer((r,s)=>{let a=$a.STATUS_CODES[426];s.writeHead(426,{"Content-Length":a.length,"Content-Type":"text/plain"}),s.end(a)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let r=this.emit.bind(this,"connection");this._removeListeners=E0(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,a,n)=>{this.handleUpgrade(s,a,n,r)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=xd}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===Ed){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(_s,this);return}if(e&&this.once("close",e),this._state!==bd)if(this._state=bd,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(_s,this):process.nextTick(_s,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{_s(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,s){t.on("error",_d);let a=e.headers["sec-websocket-key"],n=+e.headers["sec-websocket-version"];if(e.method!=="GET"){ci(this,e,t,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){ci(this,e,t,400,"Invalid Upgrade header");return}if(!a||!_0.test(a)){ci(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(n!==8&&n!==13){ci(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){Es(t,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=g0.parse(c)}catch{ci(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let o=e.headers["sec-websocket-extensions"],m={};if(this.options.perMessageDeflate&&o!==void 0){let d=new oi(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let y=yd.parse(o);y[oi.extensionName]&&(d.accept(y[oi.extensionName]),m[oi.extensionName]=d)}catch{ci(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let d={origin:e.headers[`${n===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(d,(y,A,b,h)=>{if(!y)return Es(t,A||401,b,h);this.completeUpgrade(m,a,l,e,t,r,s)});return}if(!this.options.verifyClient(d))return Es(t,401)}this.completeUpgrade(m,a,l,e,t,r,s)}completeUpgrade(e,t,r,s,a,n,c){if(!a.readable||!a.writable)return a.destroy();if(a[b0])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>xd)return Es(a,503);let o=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${v0("sha1").update(t+x0).digest("base64")}`],m=new this.options.WebSocket(null);if(r.size){let d=this.options.handleProtocols?this.options.handleProtocols(r,s):r.values().next().value;d&&(o.push(`Sec-WebSocket-Protocol: ${d}`),m._protocol=d)}if(e[oi.extensionName]){let d=e[oi.extensionName].params,y=yd.format({[oi.extensionName]:[d]});o.push(`Sec-WebSocket-Extensions: ${y}`),m._extensions=e}this.emit("headers",o,s),a.write(o.concat(`\r
`).join(`\r
`)),a.removeListener("error",_d),m.setSocket(a,n,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(m),m.on("close",()=>{this.clients.delete(m),this._shouldEmitClose&&!this.clients.size&&process.nextTick(_s,this)})),c(m,s)}};Sd.exports=sc;function E0(i,e){for(let t of Object.keys(e))i.on(t,e[t]);return function(){for(let r of Object.keys(e))i.removeListener(r,e[r])}}function _s(i){i._state=Ed,i.emit("close")}function _d(){this.destroy()}function Es(i,e,t,r){t=t||$a.STATUS_CODES[e],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t),...r},i.once("finish",i.destroy),i.end(`HTTP/1.1 ${e} ${$a.STATUS_CODES[e]}\r
`+Object.keys(r).map(s=>`${s}: ${r[s]}`).join(`\r
`)+`\r
\r
`+t)}function ci(i,e,t,r,s){if(i.listenerCount("wsClientError")){let a=new Error(s);Error.captureStackTrace(a,ci),i.emit("wsClientError",a,t,e)}else Es(t,r,s)}});var nc=ie((sT,Cd)=>{"use strict";V();var Rr=Wa();Rr.createWebSocketStream=ic();Rr.Server=ac();Rr.Receiver=qa();Rr.Sender=ja();Rr.WebSocket=Rr;Rr.WebSocketServer=Rr.Server;Cd.exports=Rr});var Ad=ie((nT,Td)=>{"use strict";V();var wd=Object.getOwnPropertySymbols,S0=Object.prototype.hasOwnProperty,C0=Object.prototype.propertyIsEnumerable;function w0(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function T0(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(a){s[a]=a}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Td.exports=T0()?Object.assign:function(i,e){for(var t,r=w0(i),s,a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var n in t)S0.call(t,n)&&(r[n]=t[n]);if(wd){s=wd(t);for(var c=0;c<s.length;c++)C0.call(t,s[c])&&(r[s[c]]=t[s[c]])}}return r}});var Id=ie((cT,oc)=>{"use strict";V();oc.exports=k0;oc.exports.append=Rd;var A0=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function Rd(i,e){if(typeof i!="string")throw new TypeError("header argument is required");if(!e)throw new TypeError("field argument is required");for(var t=Array.isArray(e)?e:kd(String(e)),r=0;r<t.length;r++)if(!A0.test(t[r]))throw new TypeError("field argument contains an invalid header name");if(i==="*")return i;var s=i,a=kd(i.toLowerCase());if(t.indexOf("*")!==-1||a.indexOf("*")!==-1)return"*";for(var n=0;n<t.length;n++){var c=t[n].toLowerCase();a.indexOf(c)===-1&&(a.push(c),s=s?s+", "+t[n]:t[n])}return s}function kd(i){for(var e=0,t=[],r=0,s=0,a=i.length;s<a;s++)switch(i.charCodeAt(s)){case 32:r===e&&(r=e=s+1);break;case 44:t.push(i.substring(r,e)),r=e=s+1;break;default:e=s+1;break}return t.push(i.substring(r,e)),t}function k0(i,e){if(!i||!i.getHeader||!i.setHeader)throw new TypeError("res argument is required");var t=i.getHeader("Vary")||"",r=Array.isArray(t)?t.join(", "):String(t);(t=Rd(r,e))&&i.setHeader("Vary",t)}});var cc=ie((uT,Bd)=>{"use strict";V();(function(){"use strict";var i=Ad(),e=Id(),t={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function r(b){return typeof b=="string"||b instanceof String}function s(b,h){if(Array.isArray(h)){for(var E=0;E<h.length;++E)if(s(b,h[E]))return!0;return!1}else return r(h)?b===h:h instanceof RegExp?h.test(b):!!h}function a(b,h){var E=h.headers.origin,w=[],S;return!b.origin||b.origin==="*"?w.push([{key:"Access-Control-Allow-Origin",value:"*"}]):r(b.origin)?(w.push([{key:"Access-Control-Allow-Origin",value:b.origin}]),w.push([{key:"Vary",value:"Origin"}])):(S=s(E,b.origin),w.push([{key:"Access-Control-Allow-Origin",value:S?E:!1}]),w.push([{key:"Vary",value:"Origin"}])),w}function n(b){var h=b.methods;return h.join&&(h=b.methods.join(",")),{key:"Access-Control-Allow-Methods",value:h}}function c(b){return b.credentials===!0?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function l(b,h){var E=b.allowedHeaders||b.headers,w=[];return E?E.join&&(E=E.join(",")):(E=h.headers["access-control-request-headers"],w.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),E&&E.length&&w.push([{key:"Access-Control-Allow-Headers",value:E}]),w}function o(b){var h=b.exposedHeaders;if(h)h.join&&(h=h.join(","));else return null;return h&&h.length?{key:"Access-Control-Expose-Headers",value:h}:null}function m(b){var h=(typeof b.maxAge=="number"||b.maxAge)&&b.maxAge.toString();return h&&h.length?{key:"Access-Control-Max-Age",value:h}:null}function d(b,h){for(var E=0,w=b.length;E<w;E++){var S=b[E];S&&(Array.isArray(S)?d(S,h):S.key==="Vary"&&S.value?e(h,S.value):S.value&&h.setHeader(S.key,S.value))}}function y(b,h,E,w){var S=[],p=h.method&&h.method.toUpperCase&&h.method.toUpperCase();p==="OPTIONS"?(S.push(a(b,h)),S.push(c(b,h)),S.push(n(b,h)),S.push(l(b,h)),S.push(m(b,h)),S.push(o(b,h)),d(S,E),b.preflightContinue?w():(E.statusCode=b.optionsSuccessStatus,E.setHeader("Content-Length","0"),E.end())):(S.push(a(b,h)),S.push(c(b,h)),S.push(o(b,h)),d(S,E),w())}function A(b){var h=null;return typeof b=="function"?h=b:h=function(E,w){w(null,b)},function(w,S,p){h(w,function(_,C){if(_)p(_);else{var k=i({},t,C),N=null;k.origin&&typeof k.origin=="function"?N=k.origin:k.origin&&(N=function(x,f){f(null,k.origin)}),N?N(w.headers.origin,function(x,f){x||!f?p(x):(k.origin=f,y(k,w,S,p))}):p()}})}}Bd.exports=A})()});var uc=ie(Bi=>{"use strict";V();Object.defineProperty(Bi,"__esModule",{value:!0});Bi.Server=Bi.BaseServer=void 0;var R0=oe("querystring"),I0=oe("url"),Nd=xo(),Ya=Mo(),B0=oe("events"),Od=Vo(),N0=Ue(),O0=Cp(),L0=nc(),Ld=Do(),P0=us(),we=(0,N0.default)("engine"),Ri=Symbol("responseHeaders");function D0(i){try{let e=JSON.parse(i);if(typeof e.sid=="string")return e.sid}catch{}}var Ii=class extends B0.EventEmitter{constructor(e={}){super(),this.middlewares=[],this.clients={},this.clientsCount=0,this.opts=Object.assign({wsEngine:L0.Server,pingTimeout:2e4,pingInterval:25e3,upgradeTimeout:1e4,maxHttpBufferSize:1e6,transports:["polling","websocket"],allowUpgrades:!0,httpCompression:{threshold:1024},cors:!1,allowEIO3:!1},e),e.cookie&&(this.opts.cookie=Object.assign({name:"io",path:"/",httpOnly:e.cookie.path!==!1,sameSite:"lax"},e.cookie)),this.opts.cors&&this.use(cc()(this.opts.cors)),e.perMessageDeflate&&(this.opts.perMessageDeflate=Object.assign({threshold:1024},e.perMessageDeflate)),this.init()}_computePath(e){let t=(e.path||"/engine.io").replace(/\/$/,"");return e.addTrailingSlash!==!1&&(t+="/"),t}upgrades(e){return this.opts.allowUpgrades?Ya.default[e].upgradesTo||[]:[]}verify(e,t,r){let s=e._query.transport;if(!~this.opts.transports.indexOf(s)||s==="webtransport")return we('unknown transport "%s"',s),r(Fe.errors.UNKNOWN_TRANSPORT,{transport:s});if(U0(e.headers.origin)){let c=e.headers.origin;return e.headers.origin=null,we("origin header invalid"),r(Fe.errors.BAD_REQUEST,{name:"INVALID_ORIGIN",origin:c})}let n=e._query.sid;if(n){if(!this.clients.hasOwnProperty(n))return we('unknown sid "%s"',n),r(Fe.errors.UNKNOWN_SID,{sid:n});let c=this.clients[n].transport.name;if(!t&&c!==s)return we("bad request: unexpected transport without upgrade"),r(Fe.errors.BAD_REQUEST,{name:"TRANSPORT_MISMATCH",transport:s,previousTransport:c})}else return e.method!=="GET"?r(Fe.errors.BAD_HANDSHAKE_METHOD,{method:e.method}):s==="websocket"&&!t?(we("invalid transport upgrade"),r(Fe.errors.BAD_REQUEST,{name:"TRANSPORT_HANDSHAKE_ERROR"})):this.opts.allowRequest?this.opts.allowRequest(e,(c,l)=>{if(!l)return r(Fe.errors.FORBIDDEN,{message:c});r()}):r();r()}use(e){this.middlewares.push(e)}_applyMiddlewares(e,t,r){if(this.middlewares.length===0)return we("no middleware to apply, skipping"),r();let s=a=>{we("applying middleware n\xB0%d",a+1),this.middlewares[a](e,t,n=>{if(n)return r(n);a+1<this.middlewares.length?s(a+1):r()})};s(0)}close(){we("closing all open clients");for(let e in this.clients)this.clients.hasOwnProperty(e)&&this.clients[e].close(!0);return this.cleanup(),this}generateId(e){return Nd.generateId()}async handshake(e,t,r){let s=t._query.EIO==="4"?4:3;if(s===3&&!this.opts.allowEIO3){we("unsupported protocol version"),this.emit("connection_error",{req:t,code:Fe.errors.UNSUPPORTED_PROTOCOL_VERSION,message:Fe.errorMessages[Fe.errors.UNSUPPORTED_PROTOCOL_VERSION],context:{protocol:s}}),r(Fe.errors.UNSUPPORTED_PROTOCOL_VERSION);return}let a;try{a=await this.generateId(t)}catch(l){we("error while generating an id"),this.emit("connection_error",{req:t,code:Fe.errors.BAD_REQUEST,message:Fe.errorMessages[Fe.errors.BAD_REQUEST],context:{name:"ID_GENERATION_ERROR",error:l}}),r(Fe.errors.BAD_REQUEST);return}we('handshaking client "%s"',a);try{var n=this.createTransport(e,t);e==="polling"?(n.maxHttpBufferSize=this.opts.maxHttpBufferSize,n.httpCompression=this.opts.httpCompression):e==="websocket"&&(n.perMessageDeflate=this.opts.perMessageDeflate),t._query&&t._query.b64?n.supportsBinary=!1:n.supportsBinary=!0}catch(l){we('error handshaking to transport "%s"',e),this.emit("connection_error",{req:t,code:Fe.errors.BAD_REQUEST,message:Fe.errorMessages[Fe.errors.BAD_REQUEST],context:{name:"TRANSPORT_HANDSHAKE_ERROR",error:l}}),r(Fe.errors.BAD_REQUEST);return}let c=new Od.Socket(a,this,n,t,s);return n.on("headers",(l,o)=>{!o._query.sid&&(this.opts.cookie&&(l["Set-Cookie"]=[(0,O0.serialize)(this.opts.cookie.name,a,this.opts.cookie)]),this.emit("initial_headers",l,o)),this.emit("headers",l,o)}),n.onRequest(t),this.clients[a]=c,this.clientsCount++,c.once("close",()=>{delete this.clients[a],this.clientsCount--}),this.emit("connection",c),n}async onWebTransportSession(e){let t=setTimeout(()=>{we("the client failed to establish a bidirectional stream in the given period"),e.close()},this.opts.upgradeTimeout),s=await e.incomingBidirectionalStreams.getReader().read();if(s.done){we("session is closed");return}let a=s.value,n=(0,P0.createPacketDecoderStream)(this.opts.maxHttpBufferSize,"nodebuffer"),c=a.readable.pipeThrough(n).getReader(),{value:l,done:o}=await c.read();if(o){we("stream is closed");return}if(clearTimeout(t),l.type!=="open")return we("invalid WebTransport handshake"),e.close();if(l.data===void 0){let y=new Ld.WebTransport(e,a,c),A=Nd.generateId();we('handshaking client "%s" (WebTransport)',A);let b=new Od.Socket(A,this,y,null,4);this.clients[A]=b,this.clientsCount++,b.once("close",()=>{delete this.clients[A],this.clientsCount--}),this.emit("connection",b);return}let m=D0(l.data);if(!m)return we("invalid WebTransport handshake"),e.close();let d=this.clients[m];if(!d)we("upgrade attempt for closed client"),e.close();else if(d.upgrading)we("transport has already been trying to upgrade"),e.close();else if(d.upgraded)we("transport had already been upgraded"),e.close();else{we("upgrading existing transport");let y=new Ld.WebTransport(e,a,c);d.maybeUpgrade(y)}}};Bi.BaseServer=Ii;Ii.errors={UNKNOWN_TRANSPORT:0,UNKNOWN_SID:1,BAD_HANDSHAKE_METHOD:2,BAD_REQUEST:3,FORBIDDEN:4,UNSUPPORTED_PROTOCOL_VERSION:5};Ii.errorMessages={0:"Transport unknown",1:"Session ID unknown",2:"Bad handshake method",3:"Bad request",4:"Forbidden",5:"Unsupported protocol version"};var lc=class{constructor(e,t){this.req=e,this.socket=t,e[Ri]={}}setHeader(e,t){this.req[Ri][e]=t}getHeader(e){return this.req[Ri][e]}removeHeader(e){delete this.req[Ri][e]}write(){}writeHead(){}end(){this.socket.destroy()}},Fe=class i extends Ii{init(){~this.opts.transports.indexOf("websocket")&&(this.ws&&this.ws.close(),this.ws=new this.opts.wsEngine({noServer:!0,clientTracking:!1,perMessageDeflate:this.opts.perMessageDeflate,maxPayload:this.opts.maxHttpBufferSize}),typeof this.ws.on=="function"&&this.ws.on("headers",(e,t)=>{let r=t[Ri]||{};delete t[Ri],!t._query.sid&&this.emit("initial_headers",r,t),this.emit("headers",r,t),we("writing headers: %j",r),Object.keys(r).forEach(a=>{e.push(`${a}: ${r[a]}`)})}))}cleanup(){this.ws&&(we("closing webSocketServer"),this.ws.close())}prepare(e){e._query||(e._query=~e.url.indexOf("?")?R0.parse((0,I0.parse)(e.url).query):{})}createTransport(e,t){return new Ya.default[e](t)}handleRequest(e,t){we('handling "%s" http request "%s"',e.method,e.url),this.prepare(e),e.res=t;let r=(s,a)=>{if(s!==void 0){this.emit("connection_error",{req:e,code:s,message:i.errorMessages[s],context:a}),Pd(t,s,a);return}if(e._query.sid)we("setting new request for existing client"),this.clients[e._query.sid].transport.onRequest(e);else{let n=(c,l)=>Pd(t,c,l);this.handshake(e._query.transport,e,n)}};this._applyMiddlewares(e,t,s=>{s?r(i.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!1,r)})}handleUpgrade(e,t,r){this.prepare(e);let s=new lc(e,t),a=(n,c)=>{if(n!==void 0){this.emit("connection_error",{req:e,code:n,message:i.errorMessages[n],context:c}),Dd(t,n,c);return}let l=Buffer.from(r);r=null,s.writeHead(),this.ws.handleUpgrade(e,t,l,o=>{this.onWebSocket(e,t,o)})};this._applyMiddlewares(e,s,n=>{n?a(i.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!0,a)})}onWebSocket(e,t,r){if(r.on("error",a),Ya.default[e._query.transport]!==void 0&&!Ya.default[e._query.transport].prototype.handlesUpgrades){we("transport doesnt handle upgraded requests"),r.close();return}let s=e._query.sid;if(e.websocket=r,s){let n=this.clients[s];if(!n)we("upgrade attempt for closed client"),r.close();else if(n.upgrading)we("transport has already been trying to upgrade"),r.close();else if(n.upgraded)we("transport had already been upgraded"),r.close();else{we("upgrading existing transport"),r.removeListener("error",a);let c=this.createTransport(e._query.transport,e);e._query&&e._query.b64?c.supportsBinary=!1:c.supportsBinary=!0,c.perMessageDeflate=this.opts.perMessageDeflate,n.maybeUpgrade(c)}}else{let n=(c,l)=>Dd(t,c,l);this.handshake(e._query.transport,e,n)}function a(){we("websocket error before upgrade")}}attach(e,t={}){let r=this._computePath(t),s=t.destroyUpgradeTimeout||1e3;function a(c){return r===c.url.slice(0,r.length)}let n=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("close",this.close.bind(this)),e.on("listening",this.init.bind(this)),e.on("request",(c,l)=>{if(a(c))we('intercepting request for path "%s"',r),this.handleRequest(c,l);else{let o=0,m=n.length;for(;o<m;o++)n[o].call(e,c,l)}}),~this.opts.transports.indexOf("websocket")&&e.on("upgrade",(c,l,o)=>{a(c)?this.handleUpgrade(c,l,o):t.destroyUpgrade!==!1&&setTimeout(function(){if(l.writable&&l.bytesWritten<=0)return l.on("error",m=>{we("error while destroying upgrade: %s",m.message)}),l.end()},s)})}};Bi.Server=Fe;function Pd(i,e,t){let r=e===Fe.errors.FORBIDDEN?403:400,s=t&&t.message?t.message:Fe.errorMessages[e];i.writeHead(r,{"Content-Type":"application/json"}),i.end(JSON.stringify({code:e,message:s}))}function Dd(i,e,t={}){if(i.on("error",()=>{we("ignoring error from closed connection")}),i.writable){let r=t.message||Fe.errorMessages[e],s=Buffer.byteLength(r);i.write(`HTTP/1.1 400 Bad Request\r
Connection: close\r
Content-type: text/html\r
Content-Length: `+s+`\r
\r
`+r)}i.destroy()}var Ss=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];function U0(i){if(i+="",i.length<1)return!1;if(!Ss[i.charCodeAt(0)])return we('invalid header, index 0, char "%s"',i.charCodeAt(0)),!0;if(i.length<2)return!1;if(!Ss[i.charCodeAt(1)])return we('invalid header, index 1, char "%s"',i.charCodeAt(1)),!0;if(i.length<3)return!1;if(!Ss[i.charCodeAt(2)])return we('invalid header, index 2, char "%s"',i.charCodeAt(2)),!0;if(i.length<4)return!1;if(!Ss[i.charCodeAt(3)])return we('invalid header, index 3, char "%s"',i.charCodeAt(3)),!0;for(let e=4;e<i.length;++e)if(!Ss[i.charCodeAt(e)])return we('invalid header, index "%i", char "%s"',e,i.charCodeAt(e)),!0;return!1}});var Md=ie(Qa=>{"use strict";V();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.Polling=void 0;var M0=ai(),Ud=oe("zlib"),F0=Ea(),V0=Ue(),Qt=(0,V0.default)("engine:polling"),q0={gzip:Ud.createGzip,deflate:Ud.createDeflate},pc=class extends M0.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}get supportsFraming(){return!1}onRequest(e){let t=e.res;e.getMethod()==="get"?this.onPollRequest(e,t):e.getMethod()==="post"?this.onDataRequest(e,t):(t.writeStatus("500 Internal Server Error"),t.end())}onPollRequest(e,t){if(this.req){Qt("request overlap"),this.onError("overlap from client"),t.writeStatus("500 Internal Server Error"),t.end();return}Qt("setting request"),this.req=e,this.res=t;let r=()=>{this.writable=!1,this.onError("poll connection closed prematurely")},s=()=>{this.req=this.res=null};e.cleanup=s,t.onAborted(r),this.writable=!0,this.emit("drain"),this.writable&&this.shouldClose&&(Qt("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,t){if(this.dataReq){this.onError("data request overlap from client"),t.writeStatus("500 Internal Server Error"),t.end();return}let r=Number(e.headers["content-length"]);if(!r){this.onError("content-length header required"),t.writeStatus("411 Length Required").end();return}if(r>this.maxHttpBufferSize){this.onError("payload too large"),t.writeStatus("413 Payload Too Large").end();return}if(e.headers["content-type"]==="application/octet-stream"&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=t;let a,n=0,c={"Content-Type":"text/html"};this.headers(e,c);for(let o in c)t.writeHeader(o,String(c[o]));let l=o=>{this.onData(o.toString()),this.onDataRequestCleanup(),t.cork(()=>{t.end("ok")})};t.onAborted(()=>{this.onDataRequestCleanup(),this.onError("data request connection closed prematurely")}),t.onData((o,m)=>{let d=n+o.byteLength;if(d>r){this.onError("content-length mismatch"),t.close();return}if(!a){if(m){l(Buffer.from(o));return}a=Buffer.allocUnsafe(r)}if(Buffer.from(o).copy(a,n),m){if(d!=r){this.onError("content-length mismatch"),t.writeStatus("400 Content-Length Mismatch").end(),this.onDataRequestCleanup();return}l(a);return}n=d})}onDataRequestCleanup(){this.dataReq=this.dataRes=null}onData(e){Qt('received "%s"',e);let t=r=>{if(r.type==="close")return Qt("got xhr close packet"),this.onClose(),!1;this.onPacket(r)};this.protocol===3?this.parser.decodePayload(e,t):this.parser.decodePayload(e).forEach(t)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(Qt("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);let t=r=>{let s=e.some(a=>a.options&&a.options.compress);this.write(r,{compress:s})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,t):this.parser.encodePayload(e,t)}write(e,t){Qt('writing "%s"',e),this.doWrite(e,t,()=>{this.req.cleanup()})}doWrite(e,t,r){let s=typeof e=="string",n={"Content-Type":s?"text/plain; charset=UTF-8":"application/octet-stream"},c=m=>{this.headers(this.req,n),this.res.cork(()=>{Object.keys(n).forEach(d=>{this.res.writeHeader(d,String(n[d]))}),this.res.end(m)}),r()};if(!this.httpCompression||!t.compress){c(e);return}if((s?Buffer.byteLength(e):e.length)<this.httpCompression.threshold){c(e);return}let o=F0(this.req).encodings(["gzip","deflate"]);if(!o){c(e);return}this.compress(e,o,(m,d)=>{if(m){this.res.writeStatus("500 Internal Server Error"),this.res.end(),r(m);return}n["Content-Encoding"]=o,c(d)})}compress(e,t,r){Qt("compressing");let s=[],a=0;q0[t](this.httpCompression).on("error",r).on("data",function(n){s.push(n),a+=n.length}).on("end",function(){r(null,Buffer.concat(s,a))}).end(e)}doClose(e){Qt("closing");let t,r=()=>{clearTimeout(t),e(),this.onClose()};this.writable?(Qt("transport writable - closing right away"),this.send([{type:"close"}]),r()):this.discarded?(Qt("transport discarded - closing right away"),r()):(Qt("transport not writable - buffering orderly close"),this.shouldClose=r,t=setTimeout(r,this.closeTimeout))}headers(e,t){t=t||{};let r=e.headers["user-agent"];return r&&(~r.indexOf(";MSIE")||~r.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),this.emit("headers",t,e),t}};Qa.Polling=pc});var Vd=ie(Za=>{"use strict";V();Object.defineProperty(Za,"__esModule",{value:!0});Za.WebSocket=void 0;var j0=ai(),H0=Ue(),Fd=(0,H0.default)("engine:ws"),dc=class extends j0.Transport{constructor(e){super(e),this.writable=!1,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}get supportsFraming(){return!0}send(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],s=t+1===e.length,a=n=>{let c=typeof n!="string",l=this.perMessageDeflate&&Buffer.byteLength(n)>this.perMessageDeflate.threshold;Fd('writing "%s"',n),this.socket.send(n,c,l),s&&(this.writable=!0,this.emit("drain"))};r.options&&typeof r.options.wsPreEncoded=="string"?a(r.options.wsPreEncoded):this.parser.encodePacket(r,this.supportsBinary,a)}}doClose(e){Fd("closing"),e&&e(),this.socket.end()}};Za.WebSocket=dc});var qd=ie(fc=>{"use strict";V();Object.defineProperty(fc,"__esModule",{value:!0});var K0=Md(),z0=Vd();fc.default={polling:K0.Polling,websocket:z0.WebSocket}});var jd=ie(Xa=>{"use strict";V();Object.defineProperty(Xa,"__esModule",{value:!0});Xa.uServer=void 0;var G0=Ue(),li=uc(),W0=qd(),$r=(0,G0.default)("engine:uws"),hc=class extends li.BaseServer{init(){}cleanup(){}prepare(e,t){e.method=e.getMethod().toUpperCase(),e.url=e.getUrl();let r=new URLSearchParams(e.getQuery());e._query=Object.fromEntries(r.entries()),e.headers={},e.forEach((s,a)=>{e.headers[s]=a}),e.connection={remoteAddress:Buffer.from(t.getRemoteAddressAsText()).toString()},t.onAborted(()=>{$r("response has been aborted")})}createTransport(e,t){return new W0.default[e](t)}attach(e,t={}){let r=this._computePath(t);e.any(r,this.handleRequest.bind(this)).ws(r,{compression:t.compression,idleTimeout:t.idleTimeout,maxBackpressure:t.maxBackpressure,maxPayloadLength:this.opts.maxHttpBufferSize,upgrade:this.handleUpgrade.bind(this),open:s=>{let a=s.getUserData().transport;a.socket=s,a.writable=!0,a.emit("drain")},message:(s,a,n)=>{s.getUserData().transport.onData(n?a:Buffer.from(a).toString())},close:(s,a,n)=>{s.getUserData().transport.onClose(a,n)}})}_applyMiddlewares(e,t,r){if(this.middlewares.length===0)return r();e.res=new mc(t),super._applyMiddlewares(e,e.res,s=>{e.res.writeHead(),r(s)})}handleRequest(e,t){$r('handling "%s" http request "%s"',t.getMethod(),t.getUrl()),this.prepare(t,e),t.res=e;let r=(s,a)=>{if(s!==void 0){this.emit("connection_error",{req:t,code:s,message:li.Server.errorMessages[s],context:a}),this.abortRequest(t.res,s,a);return}if(t._query.sid)$r("setting new request for existing client"),this.clients[t._query.sid].transport.onRequest(t);else{let n=(c,l)=>this.abortRequest(e,c,l);this.handshake(t._query.transport,t,n)}};this._applyMiddlewares(t,e,s=>{s?r(li.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(t,!1,r)})}handleUpgrade(e,t,r){$r("on upgrade"),this.prepare(t,e),t.res=e;let s=async(a,n)=>{if(a!==void 0){this.emit("connection_error",{req:t,code:a,message:li.Server.errorMessages[a],context:n}),this.abortRequest(e,a,n);return}let c=t._query.sid,l;if(c){let o=this.clients[c];o?o.upgrading?($r("transport has already been trying to upgrade"),e.close()):o.upgraded?($r("transport had already been upgraded"),e.close()):($r("upgrading existing transport"),l=this.createTransport(t._query.transport,t),o.maybeUpgrade(l)):($r("upgrade attempt for closed client"),e.close())}else if(l=await this.handshake(t._query.transport,t,(o,m)=>this.abortRequest(e,o,m)),!l)return;t.res.writeStatus("101 Switching Protocols"),e.upgrade({transport:l},t.getHeader("sec-websocket-key"),t.getHeader("sec-websocket-protocol"),t.getHeader("sec-websocket-extensions"),r)};this._applyMiddlewares(t,e,a=>{a?s(li.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(t,!0,s)})}abortRequest(e,t,r){let s=t===li.Server.errors.FORBIDDEN?"403 Forbidden":"400 Bad Request",a=r&&r.message?r.message:li.Server.errorMessages[t];e.writeStatus(s),e.writeHeader("Content-Type","application/json"),e.end(JSON.stringify({code:t,message:a}))}};Xa.uServer=hc;var mc=class{constructor(e){this.res=e,this.statusWritten=!1,this.headers=[],this.isAborted=!1}set statusCode(e){e&&this.writeStatus(e===200?"200 OK":"204 No Content")}writeHead(e){this.statusCode=e}setHeader(e,t){Array.isArray(t)?t.forEach(r=>{this.writeHeader(e,r)}):this.writeHeader(e,t)}removeHeader(){}getHeader(){}writeStatus(e){if(!this.isAborted)return this.res.writeStatus(e),this.statusWritten=!0,this.writeBufferedHeaders(),this}writeHeader(e,t){this.isAborted||e!=="Content-Length"&&(this.statusWritten?this.res.writeHeader(e,t):this.headers.push([e,t]))}writeBufferedHeaders(){this.headers.forEach(([e,t])=>{this.res.writeHeader(e,t)})}end(e){this.isAborted||this.res.cork(()=>{this.statusWritten||this.writeBufferedHeaders(),this.res.end(e)})}onData(e){this.isAborted||this.res.onData(e)}onAborted(e){this.isAborted||this.res.onAborted(()=>{this.isAborted=!0,e()})}cork(e){this.isAborted||this.res.cork(e)}}});var Gd=ie(Je=>{"use strict";V();Object.defineProperty(Je,"__esModule",{value:!0});Je.protocol=Je.Transport=Je.Socket=Je.uServer=Je.parser=Je.attach=Je.listen=Je.transports=Je.Server=void 0;var $0=oe("http"),Hd=uc();Object.defineProperty(Je,"Server",{enumerable:!0,get:function(){return Hd.Server}});var Y0=Mo();Je.transports=Y0.default;var Kd=us();Je.parser=Kd;var Q0=jd();Object.defineProperty(Je,"uServer",{enumerable:!0,get:function(){return Q0.uServer}});var Z0=Vo();Object.defineProperty(Je,"Socket",{enumerable:!0,get:function(){return Z0.Socket}});var X0=ai();Object.defineProperty(Je,"Transport",{enumerable:!0,get:function(){return X0.Transport}});Je.protocol=Kd.protocol;function J0(i,e,t){typeof e=="function"&&(t=e,e={});let r=(0,$0.createServer)(function(a,n){n.writeHead(501),n.end("Not Implemented")}),s=zd(r,e);return s.httpServer=r,r.listen(i,t),s}Je.listen=J0;function zd(i,e){let t=new Hd.Server(e);return t.attach(i,e),t}Je.attach=zd});var Wd={};yu(Wd,{Emitter:()=>De});function De(i){if(i)return ex(i)}function ex(i){for(var e in De.prototype)i[e]=De.prototype[e];return i}var Yr=Zg(()=>{"use strict";V();De.prototype.on=De.prototype.addEventListener=function(i,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(e),this};De.prototype.once=function(i,e){function t(){this.off(i,t),e.apply(this,arguments)}return t.fn=e,this.on(i,t),this};De.prototype.off=De.prototype.removeListener=De.prototype.removeAllListeners=De.prototype.removeEventListener=function(i,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+i];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var r,s=0;s<t.length;s++)if(r=t[s],r===e||r.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+i],this};De.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+i],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,s=t.length;r<s;++r)t[r].apply(this,e)}return this};De.prototype.emitReserved=De.prototype.emit;De.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};De.prototype.hasListeners=function(i){return!!this.listeners(i).length}});var vc=ie(Ni=>{"use strict";V();Object.defineProperty(Ni,"__esModule",{value:!0});Ni.hasBinary=Ni.isBinary=void 0;var tx=typeof ArrayBuffer=="function",rx=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,$d=Object.prototype.toString,ix=typeof Blob=="function"||typeof Blob<"u"&&$d.call(Blob)==="[object BlobConstructor]",sx=typeof File=="function"||typeof File<"u"&&$d.call(File)==="[object FileConstructor]";function Yd(i){return tx&&(i instanceof ArrayBuffer||rx(i))||ix&&i instanceof Blob||sx&&i instanceof File}Ni.isBinary=Yd;function Ja(i,e){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let t=0,r=i.length;t<r;t++)if(Ja(i[t]))return!0;return!1}if(Yd(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Ja(i.toJSON(),!0);for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&Ja(i[t]))return!0;return!1}Ni.hasBinary=Ja});var Qd=ie(Oi=>{"use strict";V();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.reconstructPacket=Oi.deconstructPacket=void 0;var ax=vc();function nx(i){let e=[],t=i.data,r=i;return r.data=gc(t,e),r.attachments=e.length,{packet:r,buffers:e}}Oi.deconstructPacket=nx;function gc(i,e){if(!i)return i;if((0,ax.isBinary)(i)){let t={_placeholder:!0,num:e.length};return e.push(i),t}else if(Array.isArray(i)){let t=new Array(i.length);for(let r=0;r<i.length;r++)t[r]=gc(i[r],e);return t}else if(typeof i=="object"&&!(i instanceof Date)){let t={};for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=gc(i[r],e));return t}return i}function ox(i,e){return i.data=yc(i.data,e),delete i.attachments,i}Oi.reconstructPacket=ox;function yc(i,e){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<e.length)return e[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let t=0;t<i.length;t++)i[t]=yc(i[t],e);else if(typeof i=="object")for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&(i[t]=yc(i[t],e));return i}});var Cs=ie(nr=>{"use strict";V();Object.defineProperty(nr,"__esModule",{value:!0});nr.Decoder=nr.Encoder=nr.PacketType=nr.protocol=void 0;var cx=(Yr(),Xg(Wd)),Xd=Qd(),Jd=vc(),lx=Ue(),xc=(0,lx.default)("socket.io-parser"),ux=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];nr.protocol=5;var $e;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})($e=nr.PacketType||(nr.PacketType={}));var bc=class{constructor(e){this.replacer=e}encode(e){return xc("encoding packet %j",e),(e.type===$e.EVENT||e.type===$e.ACK)&&(0,Jd.hasBinary)(e)?this.encodeAsBinary({type:e.type===$e.EVENT?$e.BINARY_EVENT:$e.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===$e.BINARY_EVENT||e.type===$e.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),xc("encoded %j as %s",e,t),t}encodeAsBinary(e){let t=(0,Xd.deconstructPacket)(e),r=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(r),s}};nr.Encoder=bc;function Zd(i){return Object.prototype.toString.call(i)==="[object Object]"}var _c=class i extends cx.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===$e.BINARY_EVENT;r||t.type===$e.BINARY_ACK?(t.type=r?$e.EVENT:$e.ACK,this.reconstructor=new Ec(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if((0,Jd.isBinary)(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if($e[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===$e.BINARY_EVENT||r.type===$e.BINARY_ACK){let a=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let n=e.substring(a,t);if(n!=Number(n)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(n)}if(e.charAt(t+1)==="/"){let a=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(a,t)}else r.nsp="/";let s=e.charAt(t+1);if(s!==""&&Number(s)==s){let a=t+1;for(;++t;){let n=e.charAt(t);if(n==null||Number(n)!=n){--t;break}if(t===e.length)break}r.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){let a=this.tryParse(e.substr(t));if(i.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return xc("decoded %s as %j",e,r),r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case $e.CONNECT:return Zd(t);case $e.DISCONNECT:return t===void 0;case $e.CONNECT_ERROR:return typeof t=="string"||Zd(t);case $e.EVENT:case $e.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&ux.indexOf(t[0])===-1);case $e.ACK:case $e.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};nr.Decoder=_c;var Ec=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=(0,Xd.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var ef=ie(tn=>{"use strict";V();Object.defineProperty(tn,"__esModule",{value:!0});tn.Client=void 0;var en=Cs(),px=Ue(),dx=oe("url"),or=px("socket.io:client"),Sc=class{constructor(e,t){this.sockets=new Map,this.nsps=new Map,this.server=e,this.conn=t,this.encoder=e.encoder,this.decoder=new e._parser.Decoder,this.id=t.id,this.setup()}get request(){return this.conn.request}setup(){this.onclose=this.onclose.bind(this),this.ondata=this.ondata.bind(this),this.onerror=this.onerror.bind(this),this.ondecoded=this.ondecoded.bind(this),this.decoder.on("decoded",this.ondecoded),this.conn.on("data",this.ondata),this.conn.on("error",this.onerror),this.conn.on("close",this.onclose),this.connectTimeout=setTimeout(()=>{this.nsps.size===0?(or("no namespace joined yet, close the client"),this.close()):or("the client has already joined a namespace, nothing to do")},this.server._connectTimeout)}connect(e,t={}){if(this.server._nsps.has(e))return or("connecting to namespace %s",e),this.doConnect(e,t);this.server._checkNamespace(e,t,r=>{r?this.doConnect(e,t):(or("creation of namespace %s was denied",e),this._packet({type:en.PacketType.CONNECT_ERROR,nsp:e,data:{message:"Invalid namespace"}}))})}doConnect(e,t){let r=this.server.of(e);r._add(this,t,s=>{this.sockets.set(s.id,s),this.nsps.set(r.name,s),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)})}_disconnect(){for(let e of this.sockets.values())e.disconnect();this.sockets.clear(),this.close()}_remove(e){if(this.sockets.has(e.id)){let t=this.sockets.get(e.id).nsp.name;this.sockets.delete(e.id),this.nsps.delete(t)}else or("ignoring remove for %s",e.id)}close(){this.conn.readyState==="open"&&(or("forcing transport close"),this.conn.close(),this.onclose("forced server close"))}_packet(e,t={}){if(this.conn.readyState!=="open"){or("ignoring packet write %j",e);return}let r=t.preEncoded?e:this.encoder.encode(e);this.writeToEngine(r,t)}writeToEngine(e,t){if(t.volatile&&!this.conn.transport.writable){or("volatile packet is discarded since the transport is not currently writable");return}let r=Array.isArray(e)?e:[e];for(let s of r)this.conn.write(s,t)}ondata(e){try{this.decoder.add(e)}catch(t){or("invalid packet format"),this.onerror(t)}}ondecoded(e){let t,r;if(this.conn.protocol===3){let a=dx.parse(e.nsp,!0);t=a.pathname,r=a.query}else t=e.nsp,r=e.data;let s=this.nsps.get(t);!s&&e.type===en.PacketType.CONNECT?this.connect(t,r):s&&e.type!==en.PacketType.CONNECT&&e.type!==en.PacketType.CONNECT_ERROR?process.nextTick(function(){s._onpacket(e)}):(or("invalid state (packet type: %s)",e.type),this.close())}onerror(e){for(let t of this.sockets.values())t._onerror(e);this.conn.close()}onclose(e,t){or("client close with reason %s",e),this.destroy();for(let r of this.sockets.values())r._onclose(e,t);this.sockets.clear(),this.decoder.destroy()}destroy(){this.conn.removeListener("data",this.ondata),this.conn.removeListener("error",this.onerror),this.conn.removeListener("close",this.onclose),this.decoder.removeListener("decoded",this.ondecoded),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)}};tn.Client=Sc});var sn=ie(rn=>{"use strict";V();Object.defineProperty(rn,"__esModule",{value:!0});rn.StrictEventEmitter=void 0;var fx=oe("events"),Cc=class extends fx.EventEmitter{on(e,t){return super.on(e,t)}once(e,t){return super.once(e,t)}emit(e,...t){return super.emit(e,...t)}emitReserved(e,...t){return super.emit(e,...t)}emitUntyped(e,...t){return super.emit(e,...t)}listeners(e){return super.listeners(e)}};rn.StrictEventEmitter=Cc});var wc=ie(Li=>{"use strict";V();Object.defineProperty(Li,"__esModule",{value:!0});Li.RemoteSocket=Li.BroadcastOperator=void 0;var tf=ws(),hx=Cs(),an=class i{constructor(e,t=new Set,r=new Set,s={}){this.adapter=e,this.rooms=t,this.exceptRooms=r,this.flags=s}to(e){let t=new Set(this.rooms);return Array.isArray(e)?e.forEach(r=>t.add(r)):t.add(e),new i(this.adapter,t,this.exceptRooms,this.flags)}in(e){return this.to(e)}except(e){let t=new Set(this.exceptRooms);return Array.isArray(e)?e.forEach(r=>t.add(r)):t.add(e),new i(this.adapter,this.rooms,t,this.flags)}compress(e){let t=Object.assign({},this.flags,{compress:e});return new i(this.adapter,this.rooms,this.exceptRooms,t)}get volatile(){let e=Object.assign({},this.flags,{volatile:!0});return new i(this.adapter,this.rooms,this.exceptRooms,e)}get local(){let e=Object.assign({},this.flags,{local:!0});return new i(this.adapter,this.rooms,this.exceptRooms,e)}timeout(e){let t=Object.assign({},this.flags,{timeout:e});return new i(this.adapter,this.rooms,this.exceptRooms,t)}emit(e,...t){if(tf.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);let r=[e,...t],s={type:hx.PacketType.EVENT,data:r};if(!(typeof r[r.length-1]=="function"))return this.adapter.broadcast(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags}),!0;let n=r.pop(),c=!1,l=[],o=setTimeout(()=>{c=!0,n.apply(this,[new Error("operation has timed out"),this.flags.expectSingleResponse?null:l])},this.flags.timeout),m=-1,d=0,y=0,A=()=>{!c&&m===d&&l.length===y&&(clearTimeout(o),n.apply(this,[null,this.flags.expectSingleResponse?l[0]:l]))};return this.adapter.broadcastWithAck(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags},b=>{y+=b,d++,A()},b=>{l.push(b),A()}),this.adapter.serverCount().then(b=>{m=b,A()}),!0}emitWithAck(e,...t){return new Promise((r,s)=>{t.push((a,n)=>a?(a.responses=n,s(a)):r(n)),this.emit(e,...t)})}allSockets(){if(!this.adapter)throw new Error("No adapter for this namespace, are you trying to get the list of clients of a dynamic namespace?");return this.adapter.sockets(this.rooms)}fetchSockets(){return this.adapter.fetchSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags}).then(e=>e.map(t=>t instanceof tf.Socket?t:new nn(this.adapter,t)))}socketsJoin(e){this.adapter.addSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}socketsLeave(e){this.adapter.delSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}disconnectSockets(e=!1){this.adapter.disconnectSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},e)}};Li.BroadcastOperator=an;var nn=class{constructor(e,t){this.id=t.id,this.handshake=t.handshake,this.rooms=new Set(t.rooms),this.data=t.data,this.operator=new an(e,new Set([this.id]),new Set,{expectSingleResponse:!0})}timeout(e){return this.operator.timeout(e)}emit(e,...t){return this.operator.emit(e,...t)}join(e){return this.operator.socketsJoin(e)}leave(e){return this.operator.socketsLeave(e)}disconnect(e=!1){return this.operator.disconnectSockets(e),this}};Li.RemoteSocket=nn});var ws=ie(Ir=>{"use strict";V();var af=Ir&&Ir.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.Socket=Ir.RESERVED_EVENTS=void 0;var Zt=Cs(),mx=af(Ue()),vx=sn(),rf=af(xo()),gx=wc(),Tt=(0,mx.default)("socket.io:socket"),yx=new Set(["transport error","transport close","forced close","ping timeout","server shutting down","forced server close"]);Ir.RESERVED_EVENTS=new Set(["connect","connect_error","disconnect","disconnecting","newListener","removeListener"]);function sf(){}var Tc=class extends vx.StrictEventEmitter{constructor(e,t,r,s){super(),this.nsp=e,this.client=t,this.recovered=!1,this.data={},this.connected=!1,this.acks=new Map,this.fns=[],this.flags={},this.server=e.server,this.adapter=this.nsp.adapter,s?(this.id=s.sid,this.pid=s.pid,s.rooms.forEach(a=>this.join(a)),this.data=s.data,s.missedPackets.forEach(a=>{this.packet({type:Zt.PacketType.EVENT,data:a})}),this.recovered=!0):(t.conn.protocol===3?this.id=e.name!=="/"?e.name+"#"+t.id:t.id:this.id=rf.default.generateId(),this.server._opts.connectionStateRecovery&&(this.pid=rf.default.generateId())),this.handshake=this.buildHandshake(r),this.on("error",sf)}buildHandshake(e){var t,r,s,a;return{headers:((t=this.request)===null||t===void 0?void 0:t.headers)||{},time:new Date+"",address:this.conn.remoteAddress,xdomain:!!(!((r=this.request)===null||r===void 0)&&r.headers.origin),secure:!this.request||!!this.request.connection.encrypted,issued:+new Date,url:(s=this.request)===null||s===void 0?void 0:s.url,query:((a=this.request)===null||a===void 0?void 0:a._query)||{},auth:e}}emit(e,...t){if(Ir.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);let r=[e,...t],s={type:Zt.PacketType.EVENT,data:r};if(typeof r[r.length-1]=="function"){let n=this.nsp._ids++;Tt("emitting packet with ack id %d",n),this.registerAckCallback(n,r.pop()),s.id=n}let a=Object.assign({},this.flags);return this.flags={},this.nsp.server.opts.connectionStateRecovery?this.adapter.broadcast(s,{rooms:new Set([this.id]),except:new Set,flags:a}):(this.notifyOutgoingListeners(s),this.packet(s,a)),!0}emitWithAck(e,...t){let r=this.flags.timeout!==void 0;return new Promise((s,a)=>{t.push((n,c)=>r?n?a(n):s(c):s(n)),this.emit(e,...t)})}registerAckCallback(e,t){let r=this.flags.timeout;if(r===void 0){this.acks.set(e,t);return}let s=setTimeout(()=>{Tt("event with ack id %d has timed out after %d ms",e,r),this.acks.delete(e),t.call(this,new Error("operation has timed out"))},r);this.acks.set(e,(...a)=>{clearTimeout(s),t.apply(this,[null,...a])})}to(e){return this.newBroadcastOperator().to(e)}in(e){return this.newBroadcastOperator().in(e)}except(e){return this.newBroadcastOperator().except(e)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}packet(e,t={}){e.nsp=this.nsp.name,t.compress=t.compress!==!1,this.client._packet(e,t)}join(e){return Tt("join room %s",e),this.adapter.addAll(this.id,new Set(Array.isArray(e)?e:[e]))}leave(e){return Tt("leave room %s",e),this.adapter.del(this.id,e)}leaveAll(){this.adapter.delAll(this.id)}_onconnect(){Tt("socket connected - writing packet"),this.connected=!0,this.join(this.id),this.conn.protocol===3?this.packet({type:Zt.PacketType.CONNECT}):this.packet({type:Zt.PacketType.CONNECT,data:{sid:this.id,pid:this.pid}})}_onpacket(e){switch(Tt("got packet %j",e),e.type){case Zt.PacketType.EVENT:this.onevent(e);break;case Zt.PacketType.BINARY_EVENT:this.onevent(e);break;case Zt.PacketType.ACK:this.onack(e);break;case Zt.PacketType.BINARY_ACK:this.onack(e);break;case Zt.PacketType.DISCONNECT:this.ondisconnect();break}}onevent(e){let t=e.data||[];if(Tt("emitting event %j",t),e.id!=null&&(Tt("attaching ack callback to event"),t.push(this.ack(e.id))),this._anyListeners&&this._anyListeners.length){let r=this._anyListeners.slice();for(let s of r)s.apply(this,t)}this.dispatch(t)}ack(e){let t=this,r=!1;return function(){if(r)return;let s=Array.prototype.slice.call(arguments);Tt("sending ack %j",s),t.packet({id:e,type:Zt.PacketType.ACK,data:s}),r=!0}}onack(e){let t=this.acks.get(e.id);typeof t=="function"?(Tt("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),this.acks.delete(e.id)):Tt("bad ack %s",e.id)}ondisconnect(){Tt("got disconnect packet"),this._onclose("client namespace disconnect")}_onerror(e){this.emitReserved("error",e)}_onclose(e,t){if(!this.connected)return this;Tt("closing socket - reason %s",e),this.emitReserved("disconnecting",e,t),this.server._opts.connectionStateRecovery&&yx.has(e)&&(Tt("connection state recovery is enabled for sid %s",this.id),this.adapter.persistSession({sid:this.id,pid:this.pid,rooms:[...this.rooms],data:this.data})),this._cleanup(),this.client._remove(this),this.connected=!1,this.emitReserved("disconnect",e,t)}_cleanup(){this.leaveAll(),this.nsp._remove(this),this.join=sf}_error(e){this.packet({type:Zt.PacketType.CONNECT_ERROR,data:e})}disconnect(e=!1){return this.connected?(e?this.client._disconnect():(this.packet({type:Zt.PacketType.DISCONNECT}),this._onclose("server namespace disconnect")),this):this}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}get broadcast(){return this.newBroadcastOperator()}get local(){return this.newBroadcastOperator().local}timeout(e){return this.flags.timeout=e,this}dispatch(e){Tt("dispatching an event %j",e),this.run(e,t=>{process.nextTick(()=>{if(t)return this._onerror(t);this.connected?super.emitUntyped.apply(this,e):Tt("ignore packet received after disconnection")})})}use(e){return this.fns.push(e),this}run(e,t){let r=this.fns.slice(0);if(!r.length)return t(null);function s(a){r[a](e,function(n){if(n)return t(n);if(!r[a+1])return t(null);s(a+1)})}s(0)}get disconnected(){return!this.connected}get request(){return this.client.request}get conn(){return this.client.conn}get rooms(){return this.adapter.socketRooms(this.id)||new Set}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}newBroadcastOperator(){let e=Object.assign({},this.flags);return this.flags={},new gx.BroadcastOperator(this.adapter,new Set,new Set([this.id]),e)}};Ir.Socket=Tc});var kc=ie(Br=>{"use strict";V();var xx=Br&&Br.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Br,"__esModule",{value:!0});Br.Namespace=Br.RESERVED_EVENTS=void 0;var nf=ws(),bx=sn(),_x=xx(Ue()),Ht=wc(),Pi=(0,_x.default)("socket.io:namespace");Br.RESERVED_EVENTS=new Set(["connect","connection","new_namespace"]);var Ac=class extends bx.StrictEventEmitter{constructor(e,t){super(),this.sockets=new Map,this._fns=[],this._ids=0,this.server=e,this.name=t,this._initAdapter()}_initAdapter(){this.adapter=new(this.server.adapter())(this)}use(e){return this._fns.push(e),this}run(e,t){let r=this._fns.slice(0);if(!r.length)return t(null);function s(a){r[a](e,function(n){if(n)return t(n);if(!r[a+1])return t(null);s(a+1)})}s(0)}to(e){return new Ht.BroadcastOperator(this.adapter).to(e)}in(e){return new Ht.BroadcastOperator(this.adapter).in(e)}except(e){return new Ht.BroadcastOperator(this.adapter).except(e)}async _add(e,t,r){var s;Pi("adding socket to nsp %s",this.name);let a=await this._createSocket(e,t);if(!((s=this.server.opts.connectionStateRecovery)===null||s===void 0)&&s.skipMiddlewares&&a.recovered&&e.conn.readyState==="open")return this._doConnect(a,r);this.run(a,n=>{process.nextTick(()=>{if(e.conn.readyState!=="open"){Pi("next called after client was closed - ignoring socket"),a._cleanup();return}if(n)return Pi("middleware error, sending CONNECT_ERROR packet to the client"),a._cleanup(),e.conn.protocol===3?a._error(n.data||n.message):a._error({message:n.message,data:n.data});this._doConnect(a,r)})})}async _createSocket(e,t){let r=t.pid,s=t.offset;if(this.server.opts.connectionStateRecovery&&typeof r=="string"&&typeof s=="string"){let a;try{a=await this.adapter.restoreSession(r,s)}catch(n){Pi("error while restoring session: %s",n)}if(a)return Pi("connection state recovered for sid %s",a.sid),new nf.Socket(this,e,t,a)}return new nf.Socket(this,e,t)}_doConnect(e,t){this.sockets.set(e.id,e),e._onconnect(),t&&t(e),this.emitReserved("connect",e),this.emitReserved("connection",e)}_remove(e){this.sockets.has(e.id)?this.sockets.delete(e.id):Pi("ignoring remove for %s",e.id)}emit(e,...t){return new Ht.BroadcastOperator(this.adapter).emit(e,...t)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}serverSideEmit(e,...t){if(Br.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);return t.unshift(e),this.adapter.serverSideEmit(t),!0}serverSideEmitWithAck(e,...t){return new Promise((r,s)=>{t.push((a,n)=>a?(a.responses=n,s(a)):r(n)),this.serverSideEmit(e,...t)})}_onServerSideEmit(e){super.emitUntyped.apply(this,e)}allSockets(){return new Ht.BroadcastOperator(this.adapter).allSockets()}compress(e){return new Ht.BroadcastOperator(this.adapter).compress(e)}get volatile(){return new Ht.BroadcastOperator(this.adapter).volatile}get local(){return new Ht.BroadcastOperator(this.adapter).local}timeout(e){return new Ht.BroadcastOperator(this.adapter).timeout(e)}fetchSockets(){return new Ht.BroadcastOperator(this.adapter).fetchSockets()}socketsJoin(e){return new Ht.BroadcastOperator(this.adapter).socketsJoin(e)}socketsLeave(e){return new Ht.BroadcastOperator(this.adapter).socketsLeave(e)}disconnectSockets(e=!1){return new Ht.BroadcastOperator(this.adapter).disconnectSockets(e)}};Br.Namespace=Ac});var pf=ie(Zr=>{"use strict";V();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.yeast=Zr.decode=Zr.encode=void 0;var lf="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),on=64,uf={},of=0,Qr=0,cf;function Rc(i){let e="";do e=lf[i%on]+e,i=Math.floor(i/on);while(i>0);return e}Zr.encode=Rc;function Ex(i){let e=0;for(Qr=0;Qr<i.length;Qr++)e=e*on+uf[i.charAt(Qr)];return e}Zr.decode=Ex;function Sx(){let i=Rc(+new Date);return i!==cf?(of=0,cf=i):i+"."+Rc(of++)}Zr.yeast=Sx;for(;Qr<on;Qr++)uf[lf[Qr]]=Qr});var un=ie(Di=>{"use strict";V();var Ic;Object.defineProperty(Di,"__esModule",{value:!0});Di.SessionAwareAdapter=Di.Adapter=void 0;var Cx=oe("events"),wx=pf(),cn=nc(),Tx=typeof((Ic=cn?.Sender)===null||Ic===void 0?void 0:Ic.frame)=="function",ln=class extends Cx.EventEmitter{constructor(e){super(),this.nsp=e,this.rooms=new Map,this.sids=new Map,this.encoder=e.server.encoder}init(){}close(){}serverCount(){return Promise.resolve(1)}addAll(e,t){this.sids.has(e)||this.sids.set(e,new Set);for(let r of t)this.sids.get(e).add(r),this.rooms.has(r)||(this.rooms.set(r,new Set),this.emit("create-room",r)),this.rooms.get(r).has(e)||(this.rooms.get(r).add(e),this.emit("join-room",r,e))}del(e,t){this.sids.has(e)&&this.sids.get(e).delete(t),this._del(t,e)}_del(e,t){let r=this.rooms.get(e);r!=null&&(r.delete(t)&&this.emit("leave-room",e,t),r.size===0&&this.rooms.delete(e)&&this.emit("delete-room",e))}delAll(e){if(this.sids.has(e)){for(let t of this.sids.get(e))this._del(t,e);this.sids.delete(e)}}broadcast(e,t){let r=t.flags||{},s={preEncoded:!0,volatile:r.volatile,compress:r.compress};e.nsp=this.nsp.name;let a=this._encode(e,s);this.apply(t,n=>{typeof n.notifyOutgoingListeners=="function"&&n.notifyOutgoingListeners(e),n.client.writeToEngine(a,s)})}broadcastWithAck(e,t,r,s){let a=t.flags||{},n={preEncoded:!0,volatile:a.volatile,compress:a.compress};e.nsp=this.nsp.name,e.id=this.nsp._ids++;let c=this._encode(e,n),l=0;this.apply(t,o=>{l++,o.acks.set(e.id,s),typeof o.notifyOutgoingListeners=="function"&&o.notifyOutgoingListeners(e),o.client.writeToEngine(c,n)}),r(l)}_encode(e,t){let r=this.encoder.encode(e);if(Tx&&r.length===1&&typeof r[0]=="string"){let s=Buffer.from("4"+r[0]);t.wsPreEncodedFrame=cn.Sender.frame(s,{readOnly:!1,mask:!1,rsv1:!1,opcode:1,fin:!0})}return r}sockets(e){let t=new Set;return this.apply({rooms:e},r=>{t.add(r.id)}),Promise.resolve(t)}socketRooms(e){return this.sids.get(e)}fetchSockets(e){let t=[];return this.apply(e,r=>{t.push(r)}),Promise.resolve(t)}addSockets(e,t){this.apply(e,r=>{r.join(t)})}delSockets(e,t){this.apply(e,r=>{t.forEach(s=>r.leave(s))})}disconnectSockets(e,t){this.apply(e,r=>{r.disconnect(t)})}apply(e,t){let r=e.rooms,s=this.computeExceptSids(e.except);if(r.size){let a=new Set;for(let n of r)if(this.rooms.has(n))for(let c of this.rooms.get(n)){if(a.has(c)||s.has(c))continue;let l=this.nsp.sockets.get(c);l&&(t(l),a.add(c))}}else for(let[a]of this.sids){if(s.has(a))continue;let n=this.nsp.sockets.get(a);n&&t(n)}}computeExceptSids(e){let t=new Set;if(e&&e.size>0)for(let r of e)this.rooms.has(r)&&this.rooms.get(r).forEach(s=>t.add(s));return t}serverSideEmit(e){console.warn("this adapter does not support the serverSideEmit() functionality")}persistSession(e){}restoreSession(e,t){return null}};Di.Adapter=ln;var Bc=class extends ln{constructor(e){super(e),this.nsp=e,this.sessions=new Map,this.packets=[],this.maxDisconnectionDuration=e.server.opts.connectionStateRecovery.maxDisconnectionDuration,setInterval(()=>{let r=Date.now()-this.maxDisconnectionDuration;this.sessions.forEach((s,a)=>{s.disconnectedAt<r&&this.sessions.delete(a)});for(let s=this.packets.length-1;s>=0;s--)if(this.packets[s].emittedAt<r){this.packets.splice(0,s+1);break}},60*1e3).unref()}persistSession(e){e.disconnectedAt=Date.now(),this.sessions.set(e.pid,e)}restoreSession(e,t){let r=this.sessions.get(e);if(!r)return null;if(r.disconnectedAt+this.maxDisconnectionDuration<Date.now())return this.sessions.delete(e),null;let a=this.packets.findIndex(c=>c.id===t);if(a===-1)return null;let n=[];for(let c=a+1;c<this.packets.length;c++){let l=this.packets[c];Ax(r.rooms,l.opts)&&n.push(l.data)}return Promise.resolve(Object.assign(Object.assign({},r),{missedPackets:n}))}broadcast(e,t){var r;let s=e.type===2,a=e.id===void 0,n=((r=t.flags)===null||r===void 0?void 0:r.volatile)===void 0;if(s&&a&&n){let c=(0,wx.yeast)();e.data.push(c),this.packets.push({id:c,opts:t,data:e.data,emittedAt:Date.now()})}super.broadcast(e,t)}};Di.SessionAwareAdapter=Bc;function Ax(i,e){let t=e.rooms.size===0||i.some(s=>e.rooms.has(s)),r=i.every(s=>!e.except.has(s));return t&&r}});var hf=ie(Ui=>{"use strict";V();var kx=Ui&&Ui.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.ParentNamespace=void 0;var df=kc(),Rx=un(),Ix=kx(Ue()),ff=(0,Ix.default)("socket.io:parent-namespace"),pn=class i extends df.Namespace{constructor(e){super(e,"/_"+i.count++),this.children=new Set}_initAdapter(){this.adapter=new Nc(this,this.children)}emit(e,...t){return this.children.forEach(r=>{r.emit(e,...t)}),!0}createChild(e){ff("creating child namespace %s",e);let t=new df.Namespace(this.server,e);if(t._fns=this._fns.slice(0),this.listeners("connect").forEach(r=>t.on("connect",r)),this.listeners("connection").forEach(r=>t.on("connection",r)),this.children.add(t),this.server._opts.cleanupEmptyChildNamespaces){let r=t._remove;t._remove=s=>{r.call(t,s),t.sockets.size===0&&(ff("closing child namespace %s",e),t.adapter.close(),this.server._nsps.delete(t.name),this.children.delete(t))}}return this.server._nsps.set(e,t),this.server.sockets.emitReserved("new_namespace",t),t}fetchSockets(){throw new Error("fetchSockets() is not supported on parent namespaces")}};Ui.ParentNamespace=pn;pn.count=0;var Nc=class extends Rx.Adapter{constructor(e,t){super(e),this.children=t}broadcast(e,t){this.children.forEach(r=>{r.adapter.broadcast(e,t)})}}});var bf=ie(yr=>{"use strict";V();var Bx=yr&&yr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yr,"__esModule",{value:!0});yr.serveFile=yr.restoreAdapter=yr.patchAdapter=void 0;var ui=un(),mf=oe("fs"),Nx=Bx(Ue()),dn=(0,Nx.default)("socket.io:adapter-uws"),Oc="",{addAll:gf,del:yf,broadcast:xf}=ui.Adapter.prototype;function Ox(i){ui.Adapter.prototype.addAll=function(e,t){let r=!this.sids.has(e);gf.call(this,e,t);let s=this.nsp.sockets.get(e);if(s){if(s.conn.transport.name==="websocket"){vf(this.nsp.name,s,r,t);return}r&&s.conn.on("upgrade",()=>{let a=this.sids.get(e);a&&vf(this.nsp.name,s,r,a)})}},ui.Adapter.prototype.del=function(e,t){yf.call(this,e,t);let r=this.nsp.sockets.get(e);if(r&&r.conn.transport.name==="websocket"){let s=r.conn.id,a=r.conn.transport.socket,n=`${this.nsp.name}${Oc}${t}`;dn("unsubscribe connection %s from topic %s",s,n),a.unsubscribe(n)}},ui.Adapter.prototype.broadcast=function(e,t){if(!(t.rooms.size<=1&&t.except.size===0)){xf.call(this,e,t);return}let s=t.flags||{},a={preEncoded:!0,volatile:s.volatile,compress:s.compress};e.nsp=this.nsp.name;let n=this.encoder.encode(e),c=t.rooms.size===0?this.nsp.name:`${this.nsp.name}${Oc}${t.rooms.keys().next().value}`;dn("fast publish to %s",c),n.forEach(l=>{let o=typeof l!="string";i.publish(c,o?l:"4"+l,o)}),this.apply(t,l=>{l.conn.transport.name!=="websocket"&&l.client.writeToEngine(n,a)})}}yr.patchAdapter=Ox;function vf(i,e,t,r){let s=e.conn.id,a=e.conn.transport.socket;t&&(dn("subscribe connection %s to topic %s",s,i),a.subscribe(i)),r.forEach(n=>{let c=`${i}${Oc}${n}`;dn("subscribe connection %s to topic %s",s,c),a.subscribe(c)})}function Lx(){ui.Adapter.prototype.addAll=gf,ui.Adapter.prototype.del=yf,ui.Adapter.prototype.broadcast=xf}yr.restoreAdapter=Lx;var Px=i=>{let{buffer:e,byteOffset:t,byteLength:r}=i;return e.slice(t,t+r)};function Dx(i,e){let{size:t}=(0,mf.statSync)(e),r=(0,mf.createReadStream)(e),s=()=>!r.destroyed&&r.destroy(),a=c=>{throw s(),c},n=c=>{let l=Px(c),o=i.getWriteOffset(),[m,d]=i.tryEnd(l,t);!d&&!m&&(r.pause(),i.onWritable(y=>{let[A,b]=i.tryEnd(l.slice(y-o),t);return!b&&A&&r.resume(),A}))};i.onAborted(s),r.on("data",n).on("error",a).on("end",s)}yr.serveFile=Dx});var _f=ie((YT,Ux)=>{Ux.exports={name:"socket.io",version:"4.7.5",description:"node.js realtime framework server",keywords:["realtime","framework","websocket","tcp","events","socket","io"],files:["dist/","client-dist/","wrapper.mjs","!**/*.tsbuildinfo"],directories:{doc:"docs/",example:"example/",lib:"lib/",test:"test/"},type:"commonjs",main:"./dist/index.js",exports:{types:"./dist/index.d.ts",import:"./wrapper.mjs",require:"./dist/index.js"},types:"./dist/index.d.ts",license:"MIT",repository:{type:"git",url:"git://github.com/socketio/socket.io"},scripts:{compile:"rimraf ./dist && tsc",test:"npm run format:check && npm run compile && npm run test:types && npm run test:unit","test:types":"tsd","test:unit":"nyc mocha --require ts-node/register --reporter spec --slow 200 --bail --timeout 10000 test/index.ts","format:check":'prettier --check "lib/**/*.ts" "test/**/*.ts"',"format:fix":'prettier --write "lib/**/*.ts" "test/**/*.ts"',prepack:"npm run compile"},dependencies:{accepts:"~1.3.4",base64id:"~2.0.0",cors:"~2.8.5",debug:"~4.3.2","engine.io":"~6.5.2","socket.io-adapter":"~2.5.2","socket.io-parser":"~4.2.4"},devDependencies:{"@types/mocha":"^9.0.0","expect.js":"0.3.1",mocha:"^10.0.0",nyc:"^15.1.0",prettier:"^2.3.2",rimraf:"^3.0.2","socket.io-client":"4.7.5","socket.io-client-v2":"npm:socket.io-client@^2.4.0",superagent:"^8.0.0",supertest:"^6.1.6","ts-node":"^10.2.1",tsd:"^0.27.0",typescript:"^4.4.2","uWebSockets.js":"github:uNetworking/uWebSockets.js#v20.30.0"},contributors:[{name:"Guillermo Rauch",email:"rauchg@gmail.com"},{name:"Arnout Kazemier",email:"info@3rd-eden.com"},{name:"Vladimir Dronnikov",email:"dronnikov@gmail.com"},{name:"Einar Otto Stangvik",email:"einaros@gmail.com"}],engines:{node:">=10.2.0"},tsd:{directory:"test"}}});var If=ie((At,Ts)=>{"use strict";V();var Mx=At&&At.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,s)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),Fx=At&&At.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),Vx=At&&At.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&Mx(e,i,t);return Fx(e,i),e},kf=At&&At.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(At,"__esModule",{value:!0});At.Namespace=At.Socket=At.Server=void 0;var qx=oe("http"),jx=oe("fs"),Lc=oe("zlib"),Hx=Ea(),fn=oe("stream"),Ef=oe("path"),Sf=Gd(),Kx=ef(),Cf=oe("events"),Dc=kc();Object.defineProperty(At,"Namespace",{enumerable:!0,get:function(){return Dc.Namespace}});var zx=hf(),wf=un(),Gx=Vx(Cs()),Wx=kf(Ue()),Rf=ws();Object.defineProperty(At,"Socket",{enumerable:!0,get:function(){return Rf.Socket}});var $x=sn(),Pc=bf(),Yx=kf(cc()),Ot=(0,Wx.default)("socket.io:server"),Tf=_f().version,Af=/\.map/,Mi=class i extends $x.StrictEventEmitter{constructor(e,t={}){super(),this._nsps=new Map,this.parentNsps=new Map,this.parentNamespacesFromRegExp=new Map,typeof e=="object"&&e instanceof Object&&!e.listen&&(t=e,e=void 0),this.path(t.path||"/socket.io"),this.connectTimeout(t.connectTimeout||45e3),this.serveClient(t.serveClient!==!1),this._parser=t.parser||Gx,this.encoder=new this._parser.Encoder,this.opts=t,t.connectionStateRecovery?(t.connectionStateRecovery=Object.assign({maxDisconnectionDuration:2*60*1e3,skipMiddlewares:!0},t.connectionStateRecovery),this.adapter(t.adapter||wf.SessionAwareAdapter)):this.adapter(t.adapter||wf.Adapter),t.cleanupEmptyChildNamespaces=!!t.cleanupEmptyChildNamespaces,this.sockets=this.of("/"),(e||typeof e=="number")&&this.attach(e),this.opts.cors&&(this._corsMiddleware=(0,Yx.default)(this.opts.cors))}get _opts(){return this.opts}serveClient(e){return arguments.length?(this._serveClient=e,this):this._serveClient}_checkNamespace(e,t,r){if(this.parentNsps.size===0)return r(!1);let s=this.parentNsps.keys(),a=()=>{let n=s.next();if(n.done)return r(!1);n.value(e,t,(c,l)=>{if(c||!l)return a();if(this._nsps.has(e))return Ot("dynamic namespace %s already exists",e),r(this._nsps.get(e));let o=this.parentNsps.get(n.value).createChild(e);Ot("dynamic namespace %s was created",e),r(o)})};a()}path(e){if(!arguments.length)return this._path;this._path=e.replace(/\/$/,"");let t=this._path.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.clientPathRegex=new RegExp("^"+t+"/socket\\.io(\\.msgpack|\\.esm)?(\\.min)?\\.js(\\.map)?(?:\\?|$)"),this}connectTimeout(e){return e===void 0?this._connectTimeout:(this._connectTimeout=e,this)}adapter(e){if(!arguments.length)return this._adapter;this._adapter=e;for(let t of this._nsps.values())t._initAdapter();return this}listen(e,t={}){return this.attach(e,t)}attach(e,t={}){if(typeof e=="function"){let r="You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.";throw new Error(r)}if(Number(e)==e&&(e=Number(e)),typeof e=="number"){Ot("creating http server and binding to %d",e);let r=e;e=qx.createServer((s,a)=>{a.writeHead(404),a.end()}),e.listen(r)}return Object.assign(t,this.opts),t.path=t.path||this._path,this.initEngine(e,t),this}attachApp(e,t={}){Object.assign(t,this.opts),t.path=t.path||this._path,Ot("creating uWebSockets.js-based engine with opts %j",t);let r=new Sf.uServer(t);r.attach(e,t),this.bind(r),this._serveClient&&e.get(`${this._path}/*`,(s,a)=>{if(!this.clientPathRegex.test(a.getUrl())){a.setYield(!0);return}let n=a.getUrl().replace(this._path,"").replace(/\?.*$/,"").replace(/^\//,""),c=Af.test(n),l=c?"map":"source",o='"'+Tf+'"',m="W/"+o,d=a.getHeader("if-none-match");if(d&&(o===d||m===d)){Ot("serve client %s 304",l),s.writeStatus("304 Not Modified"),s.end();return}Ot("serve client %s",l),s.writeHeader("cache-control","public, max-age=0"),s.writeHeader("content-type","application/"+(c?"json":"javascript")+"; charset=utf-8"),s.writeHeader("etag",o);let y=Ef.join(__dirname,"../client-dist/",n);(0,Pc.serveFile)(s,y)}),(0,Pc.patchAdapter)(e)}initEngine(e,t){Ot("creating engine.io instance with opts %j",t),this.eio=(0,Sf.attach)(e,t),this._serveClient&&this.attachServe(e),this.httpServer=e,this.bind(this.eio)}attachServe(e){Ot("attaching client serving req handler");let t=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("request",(r,s)=>{if(this.clientPathRegex.test(r.url))this._corsMiddleware?this._corsMiddleware(r,s,()=>{this.serve(r,s)}):this.serve(r,s);else for(let a=0;a<t.length;a++)t[a].call(e,r,s)})}serve(e,t){let r=e.url.replace(this._path,"").replace(/\?.*$/,""),s=Af.test(r),a=s?"map":"source",n='"'+Tf+'"',c="W/"+n,l=e.headers["if-none-match"];if(l&&(n===l||c===l)){Ot("serve client %s 304",a),t.writeHead(304),t.end();return}Ot("serve client %s",a),t.setHeader("Cache-Control","public, max-age=0"),t.setHeader("Content-Type","application/"+(s?"json":"javascript")+"; charset=utf-8"),t.setHeader("ETag",n),i.sendFile(r,e,t)}static sendFile(e,t,r){let s=(0,jx.createReadStream)(Ef.join(__dirname,"../client-dist/",e)),a=Hx(t).encodings(["br","gzip","deflate"]),n=c=>{c&&r.end()};switch(a){case"br":r.writeHead(200,{"content-encoding":"br"}),(0,fn.pipeline)(s,(0,Lc.createBrotliCompress)(),r,n);break;case"gzip":r.writeHead(200,{"content-encoding":"gzip"}),(0,fn.pipeline)(s,(0,Lc.createGzip)(),r,n);break;case"deflate":r.writeHead(200,{"content-encoding":"deflate"}),(0,fn.pipeline)(s,(0,Lc.createDeflate)(),r,n);break;default:r.writeHead(200),(0,fn.pipeline)(s,r,n)}}bind(e){return this.engine=e,this.engine.on("connection",this.onconnection.bind(this)),this}onconnection(e){Ot("incoming connection with id %s",e.id);let t=new Kx.Client(this,e);return e.protocol===3&&t.connect("/"),this}of(e,t){if(typeof e=="function"||e instanceof RegExp){let s=new zx.ParentNamespace(this);return Ot("initializing parent namespace %s",s.name),typeof e=="function"?this.parentNsps.set(e,s):(this.parentNsps.set((a,n,c)=>c(null,e.test(a)),s),this.parentNamespacesFromRegExp.set(e,s)),t&&s.on("connect",t),s}String(e)[0]!=="/"&&(e="/"+e);let r=this._nsps.get(e);if(!r){for(let[s,a]of this.parentNamespacesFromRegExp)if(s.test(e))return Ot("attaching namespace %s to parent namespace %s",e,s),a.createChild(e);Ot("initializing namespace %s",e),r=new Dc.Namespace(this,e),this._nsps.set(e,r),e!=="/"&&this.sockets.emitReserved("new_namespace",r)}return t&&r.on("connect",t),r}close(e){this._nsps.forEach(t=>{t.sockets.forEach(r=>{r._onclose("server shutting down")}),t.adapter.close()}),this.engine.close(),(0,Pc.restoreAdapter)(),this.httpServer?this.httpServer.close(e):e&&e()}use(e){return this.sockets.use(e),this}to(e){return this.sockets.to(e)}in(e){return this.sockets.in(e)}except(e){return this.sockets.except(e)}send(...e){return this.sockets.emit("message",...e),this}write(...e){return this.sockets.emit("message",...e),this}serverSideEmit(e,...t){return this.sockets.serverSideEmit(e,...t)}serverSideEmitWithAck(e,...t){return this.sockets.serverSideEmitWithAck(e,...t)}allSockets(){return this.sockets.allSockets()}compress(e){return this.sockets.compress(e)}get volatile(){return this.sockets.volatile}get local(){return this.sockets.local}timeout(e){return this.sockets.timeout(e)}fetchSockets(){return this.sockets.fetchSockets()}socketsJoin(e){return this.sockets.socketsJoin(e)}socketsLeave(e){return this.sockets.socketsLeave(e)}disconnectSockets(e=!1){return this.sockets.disconnectSockets(e)}};At.Server=Mi;var Qx=Object.keys(Cf.EventEmitter.prototype).filter(function(i){return typeof Cf.EventEmitter.prototype[i]=="function"});Qx.forEach(function(i){Mi.prototype[i]=function(){return this.sockets[i].apply(this.sockets,arguments)}});Ts.exports=(i,e)=>new Mi(i,e);Ts.exports.Server=Mi;Ts.exports.Namespace=Dc.Namespace;Ts.exports.Socket=Rf.Socket;var QT=ws()});var Zf=ie((IA,Qf)=>{"use strict";V();var Fi=oe("fs"),Yf=oe("url"),ib=oe("child_process").spawn;Qf.exports=jc;jc.XMLHttpRequest=jc;function jc(i){"use strict";i=i||{};var e=this,t=oe("http"),r=oe("https"),s,a,n={},c=!1,l={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},o=Object.assign({},l),m=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],d=["TRACE","TRACK","CONNECT"],y=!1,A=!1,b=!1,h={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var E=function(p){return c||p&&m.indexOf(p.toLowerCase())===-1},w=function(p){return p&&d.indexOf(p)===-1};this.open=function(p,_,C,k,N){if(this.abort(),A=!1,b=!1,!w(p))throw new Error("SecurityError: Request method not allowed");n={method:p,url:_.toString(),async:typeof C!="boolean"?!0:C,user:k||null,password:N||null},S(this.OPENED)},this.setDisableHeaderCheck=function(p){c=p},this.setRequestHeader=function(p,_){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!E(p))return console.warn('Refused to set unsafe header "'+p+'"'),!1;if(y)throw new Error("INVALID_STATE_ERR: send flag is true");return o[p]=_,!0},this.getResponseHeader=function(p){return typeof p=="string"&&this.readyState>this.OPENED&&a.headers[p.toLowerCase()]&&!A?a.headers[p.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||A)return"";var p="";for(var _ in a.headers)_!=="set-cookie"&&_!=="set-cookie2"&&(p+=_+": "+a.headers[_]+`\r
`);return p.substr(0,p.length-2)},this.getRequestHeader=function(p){return typeof p=="string"&&o[p]?o[p]:""},this.send=function(p){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(y)throw new Error("INVALID_STATE_ERR: send has already been called");var _=!1,C=!1,k=Yf.parse(n.url),N;switch(k.protocol){case"https:":_=!0;case"http:":N=k.hostname;break;case"file:":C=!0;break;case void 0:case"":N="localhost";break;default:throw new Error("Protocol not supported.")}if(C){if(n.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(n.async)Fi.readFile(unescape(k.pathname),"utf8",function(se,ge){se?e.handleError(se,se.errno||-1):(e.status=200,e.responseText=ge,S(e.DONE))});else try{this.responseText=Fi.readFileSync(unescape(k.pathname),"utf8"),this.status=200,S(e.DONE)}catch(se){this.handleError(se,se.errno||-1)}return}var x=k.port||(_?443:80),f=k.pathname+(k.search?k.search:"");if(o.Host=N,_&&x===443||x===80||(o.Host+=":"+k.port),n.user){typeof n.password>"u"&&(n.password="");var u=new Buffer(n.user+":"+n.password);o.Authorization="Basic "+u.toString("base64")}n.method==="GET"||n.method==="HEAD"?p=null:p?(o["Content-Length"]=Buffer.isBuffer(p)?p.length:Buffer.byteLength(p),o["Content-Type"]||(o["Content-Type"]="text/plain;charset=UTF-8")):n.method==="POST"&&(o["Content-Length"]=0);var T=i.agent||!1,P={host:N,port:x,path:f,method:n.method,headers:o,agent:T};if(_&&(P.pfx=i.pfx,P.key=i.key,P.passphrase=i.passphrase,P.cert=i.cert,P.ca=i.ca,P.ciphers=i.ciphers,P.rejectUnauthorized=i.rejectUnauthorized!==!1),A=!1,n.async){var q=_?r.request:t.request;y=!0,e.dispatchEvent("readystatechange");var U=function(se){if(a=se,a.statusCode===302||a.statusCode===303||a.statusCode===307){n.url=a.headers.location;var ge=Yf.parse(n.url);N=ge.hostname;var be={hostname:ge.hostname,port:ge.port,path:ge.path,method:a.statusCode===303?"GET":n.method,headers:o};_&&(be.pfx=i.pfx,be.key=i.key,be.passphrase=i.passphrase,be.cert=i.cert,be.ca=i.ca,be.ciphers=i.ciphers,be.rejectUnauthorized=i.rejectUnauthorized!==!1),s=q(be,U).on("error",D),s.end();return}a&&a.setEncoding&&a.setEncoding("utf8"),S(e.HEADERS_RECEIVED),e.status=a.statusCode,a.on("data",function(Ie){Ie&&(e.responseText+=Ie),y&&S(e.LOADING)}),a.on("end",function(){y&&(y=!1,S(e.DONE))}),a.on("error",function(Ie){e.handleError(Ie)})},D=function(se){e.handleError(se)};s=q(P,U).on("error",D),i.autoUnref&&s.on("socket",se=>{se.unref()}),p&&s.write(p),s.end(),e.dispatchEvent("loadstart")}else{var F=".node-xmlhttprequest-content-"+process.pid,K=".node-xmlhttprequest-sync-"+process.pid;Fi.writeFileSync(K,"","utf8");for(var G="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(_?"s":"")+".request;var options = "+JSON.stringify(P)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+F+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+K+"');});response.on('error', function(error) {fs.writeFileSync('"+F+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+K+"');});}).on('error', function(error) {fs.writeFileSync('"+F+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+K+"');});"+(p?"req.write('"+JSON.stringify(p).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",Y=ib(process.argv[0],["-e",G]),J;Fi.existsSync(K););if(e.responseText=Fi.readFileSync(F,"utf8"),Y.stdin.end(),Fi.unlinkSync(F),e.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var re=e.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");e.handleError(re,503)}else e.status=e.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),e.responseText=e.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),S(e.DONE)}},this.handleError=function(p,_){this.status=_||0,this.statusText=p,this.responseText=p.stack,A=!0,S(this.DONE)},this.abort=function(){s&&(s.abort(),s=null),o=Object.assign({},l),this.responseText="",this.responseXML="",A=b=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||y)&&this.readyState!==this.DONE&&(y=!1,S(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(p,_){p in h||(h[p]=[]),h[p].push(_)},this.removeEventListener=function(p,_){p in h&&(h[p]=h[p].filter(function(C){return C!==_}))},this.dispatchEvent=function(p){if(typeof e["on"+p]=="function"&&(this.readyState===this.DONE?setImmediate(function(){e["on"+p]()}):e["on"+p]()),p in h)for(let _=0,C=h[p].length;_<C;_++)this.readyState===this.DONE?setImmediate(function(){h[p][_].call(e)}):h[p][_].call(e)};var S=function(p){if(!(e.readyState===p||e.readyState===e.UNSENT&&b)&&(e.readyState=p,(n.async||e.readyState<e.OPENED||e.readyState===e.DONE)&&e.dispatchEvent("readystatechange"),e.readyState===e.DONE)){let _;b?_="abort":A?_="error":_="load",e.dispatchEvent(_),e.dispatchEvent("loadend")}}}});var aa=ie((SI,xm)=>{"use strict";V();var gE=oe("path"),Er="\\\\/",mm=`[^${Er}]`,Ur="\\.",yE="\\+",xE="\\?",Vn="\\/",bE="(?=.)",vm="[^/]",xl=`(?:${Vn}|$)`,gm=`(?:^|${Vn})`,bl=`${Ur}{1,2}${xl}`,_E=`(?!${Ur})`,EE=`(?!${gm}${bl})`,SE=`(?!${Ur}{0,1}${xl})`,CE=`(?!${bl})`,wE=`[^.${Vn}]`,TE=`${vm}*?`,ym={DOT_LITERAL:Ur,PLUS_LITERAL:yE,QMARK_LITERAL:xE,SLASH_LITERAL:Vn,ONE_CHAR:bE,QMARK:vm,END_ANCHOR:xl,DOTS_SLASH:bl,NO_DOT:_E,NO_DOTS:EE,NO_DOT_SLASH:SE,NO_DOTS_SLASH:CE,QMARK_NO_DOT:wE,STAR:TE,START_ANCHOR:gm},AE={...ym,SLASH_LITERAL:`[${Er}]`,QMARK:mm,STAR:`${mm}*?`,DOTS_SLASH:`${Ur}{1,2}(?:[${Er}]|$)`,NO_DOT:`(?!${Ur})`,NO_DOTS:`(?!(?:^|[${Er}])${Ur}{1,2}(?:[${Er}]|$))`,NO_DOT_SLASH:`(?!${Ur}{0,1}(?:[${Er}]|$))`,NO_DOTS_SLASH:`(?!${Ur}{1,2}(?:[${Er}]|$))`,QMARK_NO_DOT:`[^.${Er}]`,START_ANCHOR:`(?:^|[${Er}])`,END_ANCHOR:`(?:[${Er}]|$)`},kE={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};xm.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:kE,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:gE.sep,extglobChars(i){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${i.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(i){return i===!0?AE:ym}}});var qn=ie(Dt=>{"use strict";V();var RE=oe("path"),IE=process.platform==="win32",{REGEX_BACKSLASH:BE,REGEX_REMOVE_BACKSLASH:NE,REGEX_SPECIAL_CHARS:OE,REGEX_SPECIAL_CHARS_GLOBAL:LE}=aa();Dt.isObject=i=>i!==null&&typeof i=="object"&&!Array.isArray(i);Dt.hasRegexChars=i=>OE.test(i);Dt.isRegexChar=i=>i.length===1&&Dt.hasRegexChars(i);Dt.escapeRegex=i=>i.replace(LE,"\\$1");Dt.toPosixSlashes=i=>i.replace(BE,"/");Dt.removeBackslashes=i=>i.replace(NE,e=>e==="\\"?"":e);Dt.supportsLookbehinds=()=>{let i=process.version.slice(1).split(".").map(Number);return i.length===3&&i[0]>=9||i[0]===8&&i[1]>=10};Dt.isWindows=i=>i&&typeof i.windows=="boolean"?i.windows:IE===!0||RE.sep==="\\";Dt.escapeLast=(i,e,t)=>{let r=i.lastIndexOf(e,t);return r===-1?i:i[r-1]==="\\"?Dt.escapeLast(i,e,r-1):`${i.slice(0,r)}\\${i.slice(r)}`};Dt.removePrefix=(i,e={})=>{let t=i;return t.startsWith("./")&&(t=t.slice(2),e.prefix="./"),t};Dt.wrapOutput=(i,e={},t={})=>{let r=t.contains?"":"^",s=t.contains?"":"$",a=`${r}(?:${i})${s}`;return e.negated===!0&&(a=`(?:^(?!${a}).*$)`),a}});var Am=ie((AI,Tm)=>{"use strict";V();var bm=qn(),{CHAR_ASTERISK:_l,CHAR_AT:PE,CHAR_BACKWARD_SLASH:na,CHAR_COMMA:DE,CHAR_DOT:El,CHAR_EXCLAMATION_MARK:Sl,CHAR_FORWARD_SLASH:wm,CHAR_LEFT_CURLY_BRACE:Cl,CHAR_LEFT_PARENTHESES:wl,CHAR_LEFT_SQUARE_BRACKET:UE,CHAR_PLUS:ME,CHAR_QUESTION_MARK:_m,CHAR_RIGHT_CURLY_BRACE:FE,CHAR_RIGHT_PARENTHESES:Em,CHAR_RIGHT_SQUARE_BRACKET:VE}=aa(),Sm=i=>i===wm||i===na,Cm=i=>{i.isPrefix!==!0&&(i.depth=i.isGlobstar?1/0:1)},qE=(i,e)=>{let t=e||{},r=i.length-1,s=t.parts===!0||t.scanToEnd===!0,a=[],n=[],c=[],l=i,o=-1,m=0,d=0,y=!1,A=!1,b=!1,h=!1,E=!1,w=!1,S=!1,p=!1,_=!1,C=!1,k=0,N,x,f={value:"",depth:0,isGlob:!1},u=()=>o>=r,T=()=>l.charCodeAt(o+1),P=()=>(N=x,l.charCodeAt(++o));for(;o<r;){x=P();let K;if(x===na){S=f.backslashes=!0,x=P(),x===Cl&&(w=!0);continue}if(w===!0||x===Cl){for(k++;u()!==!0&&(x=P());){if(x===na){S=f.backslashes=!0,P();continue}if(x===Cl){k++;continue}if(w!==!0&&x===El&&(x=P())===El){if(y=f.isBrace=!0,b=f.isGlob=!0,C=!0,s===!0)continue;break}if(w!==!0&&x===DE){if(y=f.isBrace=!0,b=f.isGlob=!0,C=!0,s===!0)continue;break}if(x===FE&&(k--,k===0)){w=!1,y=f.isBrace=!0,C=!0;break}}if(s===!0)continue;break}if(x===wm){if(a.push(o),n.push(f),f={value:"",depth:0,isGlob:!1},C===!0)continue;if(N===El&&o===m+1){m+=2;continue}d=o+1;continue}if(t.noext!==!0&&(x===ME||x===PE||x===_l||x===_m||x===Sl)===!0&&T()===wl){if(b=f.isGlob=!0,h=f.isExtglob=!0,C=!0,x===Sl&&o===m&&(_=!0),s===!0){for(;u()!==!0&&(x=P());){if(x===na){S=f.backslashes=!0,x=P();continue}if(x===Em){b=f.isGlob=!0,C=!0;break}}continue}break}if(x===_l){if(N===_l&&(E=f.isGlobstar=!0),b=f.isGlob=!0,C=!0,s===!0)continue;break}if(x===_m){if(b=f.isGlob=!0,C=!0,s===!0)continue;break}if(x===UE){for(;u()!==!0&&(K=P());){if(K===na){S=f.backslashes=!0,P();continue}if(K===VE){A=f.isBracket=!0,b=f.isGlob=!0,C=!0;break}}if(s===!0)continue;break}if(t.nonegate!==!0&&x===Sl&&o===m){p=f.negated=!0,m++;continue}if(t.noparen!==!0&&x===wl){if(b=f.isGlob=!0,s===!0){for(;u()!==!0&&(x=P());){if(x===wl){S=f.backslashes=!0,x=P();continue}if(x===Em){C=!0;break}}continue}break}if(b===!0){if(C=!0,s===!0)continue;break}}t.noext===!0&&(h=!1,b=!1);let q=l,U="",D="";m>0&&(U=l.slice(0,m),l=l.slice(m),d-=m),q&&b===!0&&d>0?(q=l.slice(0,d),D=l.slice(d)):b===!0?(q="",D=l):q=l,q&&q!==""&&q!=="/"&&q!==l&&Sm(q.charCodeAt(q.length-1))&&(q=q.slice(0,-1)),t.unescape===!0&&(D&&(D=bm.removeBackslashes(D)),q&&S===!0&&(q=bm.removeBackslashes(q)));let F={prefix:U,input:i,start:m,base:q,glob:D,isBrace:y,isBracket:A,isGlob:b,isExtglob:h,isGlobstar:E,negated:p,negatedExtglob:_};if(t.tokens===!0&&(F.maxDepth=0,Sm(x)||n.push(f),F.tokens=n),t.parts===!0||t.tokens===!0){let K;for(let G=0;G<a.length;G++){let Y=K?K+1:m,J=a[G],re=i.slice(Y,J);t.tokens&&(G===0&&m!==0?(n[G].isPrefix=!0,n[G].value=U):n[G].value=re,Cm(n[G]),F.maxDepth+=n[G].depth),(G!==0||re!=="")&&c.push(re),K=J}if(K&&K+1<i.length){let G=i.slice(K+1);c.push(G),t.tokens&&(n[n.length-1].value=G,Cm(n[n.length-1]),F.maxDepth+=n[n.length-1].depth)}F.slashes=a,F.parts=c}return F};Tm.exports=qE});var Im=ie((RI,Rm)=>{"use strict";V();var jn=aa(),zt=qn(),{MAX_LENGTH:Hn,POSIX_REGEX_SOURCE:jE,REGEX_NON_SPECIAL_CHARS:HE,REGEX_SPECIAL_CHARS_BACKREF:KE,REPLACEMENTS:km}=jn,zE=(i,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...i,e);i.sort();let t=`[${i.join("-")}]`;try{new RegExp(t)}catch{return i.map(s=>zt.escapeRegex(s)).join("..")}return t},Ji=(i,e)=>`Missing ${i}: "${e}" - use "\\\\${e}" to match literal characters`,Tl=(i,e)=>{if(typeof i!="string")throw new TypeError("Expected a string");i=km[i]||i;let t={...e},r=typeof t.maxLength=="number"?Math.min(Hn,t.maxLength):Hn,s=i.length;if(s>r)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${r}`);let a={type:"bos",value:"",output:t.prepend||""},n=[a],c=t.capture?"":"?:",l=zt.isWindows(e),o=jn.globChars(l),m=jn.extglobChars(o),{DOT_LITERAL:d,PLUS_LITERAL:y,SLASH_LITERAL:A,ONE_CHAR:b,DOTS_SLASH:h,NO_DOT:E,NO_DOT_SLASH:w,NO_DOTS_SLASH:S,QMARK:p,QMARK_NO_DOT:_,STAR:C,START_ANCHOR:k}=o,N=te=>`(${c}(?:(?!${k}${te.dot?h:d}).)*?)`,x=t.dot?"":E,f=t.dot?p:_,u=t.bash===!0?N(t):C;t.capture&&(u=`(${u})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let T={input:i,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:n};i=zt.removePrefix(i,T),s=i.length;let P=[],q=[],U=[],D=a,F,K=()=>T.index===s-1,G=T.peek=(te=1)=>i[T.index+te],Y=T.advance=()=>i[++T.index]||"",J=()=>i.slice(T.index+1),re=(te="",fe=0)=>{T.consumed+=te,T.index+=fe},se=te=>{T.output+=te.output!=null?te.output:te.value,re(te.value)},ge=()=>{let te=1;for(;G()==="!"&&(G(2)!=="("||G(3)==="?");)Y(),T.start++,te++;return te%2===0?!1:(T.negated=!0,T.start++,!0)},be=te=>{T[te]++,U.push(te)},Ie=te=>{T[te]--,U.pop()},$=te=>{if(D.type==="globstar"){let fe=T.braces>0&&(te.type==="comma"||te.type==="brace"),g=te.extglob===!0||P.length&&(te.type==="pipe"||te.type==="paren");te.type!=="slash"&&te.type!=="paren"&&!fe&&!g&&(T.output=T.output.slice(0,-D.output.length),D.type="star",D.value="*",D.output=u,T.output+=D.output)}if(P.length&&te.type!=="paren"&&(P[P.length-1].inner+=te.value),(te.value||te.output)&&se(te),D&&D.type==="text"&&te.type==="text"){D.value+=te.value,D.output=(D.output||"")+te.value;return}te.prev=D,n.push(te),D=te},ke=(te,fe)=>{let g={...m[fe],conditions:1,inner:""};g.prev=D,g.parens=T.parens,g.output=T.output;let L=(t.capture?"(":"")+g.open;be("parens"),$({type:te,value:fe,output:T.output?"":b}),$({type:"paren",extglob:!0,value:Y(),output:L}),P.push(g)},ae=te=>{let fe=te.close+(t.capture?")":""),g;if(te.type==="negate"){let L=u;if(te.inner&&te.inner.length>1&&te.inner.includes("/")&&(L=N(t)),(L!==u||K()||/^\)+$/.test(J()))&&(fe=te.close=`)$))${L}`),te.inner.includes("*")&&(g=J())&&/^\.[^\\/.]+$/.test(g)){let B=Tl(g,{...e,fastpaths:!1}).output;fe=te.close=`)${B})${L})`}te.prev.type==="bos"&&(T.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:F,output:fe}),Ie("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(i)){let te=!1,fe=i.replace(KE,(g,L,B,v,I,H)=>v==="\\"?(te=!0,g):v==="?"?L?L+v+(I?p.repeat(I.length):""):H===0?f+(I?p.repeat(I.length):""):p.repeat(B.length):v==="."?d.repeat(B.length):v==="*"?L?L+v+(I?u:""):u:L?g:`\\${g}`);return te===!0&&(t.unescape===!0?fe=fe.replace(/\\/g,""):fe=fe.replace(/\\+/g,g=>g.length%2===0?"\\\\":g?"\\":"")),fe===i&&t.contains===!0?(T.output=i,T):(T.output=zt.wrapOutput(fe,T,e),T)}for(;!K();){if(F=Y(),F==="\0")continue;if(F==="\\"){let g=G();if(g==="/"&&t.bash!==!0||g==="."||g===";")continue;if(!g){F+="\\",$({type:"text",value:F});continue}let L=/^\\+/.exec(J()),B=0;if(L&&L[0].length>2&&(B=L[0].length,T.index+=B,B%2!==0&&(F+="\\")),t.unescape===!0?F=Y():F+=Y(),T.brackets===0){$({type:"text",value:F});continue}}if(T.brackets>0&&(F!=="]"||D.value==="["||D.value==="[^")){if(t.posix!==!1&&F===":"){let g=D.value.slice(1);if(g.includes("[")&&(D.posix=!0,g.includes(":"))){let L=D.value.lastIndexOf("["),B=D.value.slice(0,L),v=D.value.slice(L+2),I=jE[v];if(I){D.value=B+I,T.backtrack=!0,Y(),!a.output&&n.indexOf(D)===1&&(a.output=b);continue}}}(F==="["&&G()!==":"||F==="-"&&G()==="]")&&(F=`\\${F}`),F==="]"&&(D.value==="["||D.value==="[^")&&(F=`\\${F}`),t.posix===!0&&F==="!"&&D.value==="["&&(F="^"),D.value+=F,se({value:F});continue}if(T.quotes===1&&F!=='"'){F=zt.escapeRegex(F),D.value+=F,se({value:F});continue}if(F==='"'){T.quotes=T.quotes===1?0:1,t.keepQuotes===!0&&$({type:"text",value:F});continue}if(F==="("){be("parens"),$({type:"paren",value:F});continue}if(F===")"){if(T.parens===0&&t.strictBrackets===!0)throw new SyntaxError(Ji("opening","("));let g=P[P.length-1];if(g&&T.parens===g.parens+1){ae(P.pop());continue}$({type:"paren",value:F,output:T.parens?")":"\\)"}),Ie("parens");continue}if(F==="["){if(t.nobracket===!0||!J().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(Ji("closing","]"));F=`\\${F}`}else be("brackets");$({type:"bracket",value:F});continue}if(F==="]"){if(t.nobracket===!0||D&&D.type==="bracket"&&D.value.length===1){$({type:"text",value:F,output:`\\${F}`});continue}if(T.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(Ji("opening","["));$({type:"text",value:F,output:`\\${F}`});continue}Ie("brackets");let g=D.value.slice(1);if(D.posix!==!0&&g[0]==="^"&&!g.includes("/")&&(F=`/${F}`),D.value+=F,se({value:F}),t.literalBrackets===!1||zt.hasRegexChars(g))continue;let L=zt.escapeRegex(D.value);if(T.output=T.output.slice(0,-D.value.length),t.literalBrackets===!0){T.output+=L,D.value=L;continue}D.value=`(${c}${L}|${D.value})`,T.output+=D.value;continue}if(F==="{"&&t.nobrace!==!0){be("braces");let g={type:"brace",value:F,output:"(",outputIndex:T.output.length,tokensIndex:T.tokens.length};q.push(g),$(g);continue}if(F==="}"){let g=q[q.length-1];if(t.nobrace===!0||!g){$({type:"text",value:F,output:F});continue}let L=")";if(g.dots===!0){let B=n.slice(),v=[];for(let I=B.length-1;I>=0&&(n.pop(),B[I].type!=="brace");I--)B[I].type!=="dots"&&v.unshift(B[I].value);L=zE(v,t),T.backtrack=!0}if(g.comma!==!0&&g.dots!==!0){let B=T.output.slice(0,g.outputIndex),v=T.tokens.slice(g.tokensIndex);g.value=g.output="\\{",F=L="\\}",T.output=B;for(let I of v)T.output+=I.output||I.value}$({type:"brace",value:F,output:L}),Ie("braces"),q.pop();continue}if(F==="|"){P.length>0&&P[P.length-1].conditions++,$({type:"text",value:F});continue}if(F===","){let g=F,L=q[q.length-1];L&&U[U.length-1]==="braces"&&(L.comma=!0,g="|"),$({type:"comma",value:F,output:g});continue}if(F==="/"){if(D.type==="dot"&&T.index===T.start+1){T.start=T.index+1,T.consumed="",T.output="",n.pop(),D=a;continue}$({type:"slash",value:F,output:A});continue}if(F==="."){if(T.braces>0&&D.type==="dot"){D.value==="."&&(D.output=d);let g=q[q.length-1];D.type="dots",D.output+=F,D.value+=F,g.dots=!0;continue}if(T.braces+T.parens===0&&D.type!=="bos"&&D.type!=="slash"){$({type:"text",value:F,output:d});continue}$({type:"dot",value:F,output:d});continue}if(F==="?"){if(!(D&&D.value==="(")&&t.noextglob!==!0&&G()==="("&&G(2)!=="?"){ke("qmark",F);continue}if(D&&D.type==="paren"){let L=G(),B=F;if(L==="<"&&!zt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(D.value==="("&&!/[!=<:]/.test(L)||L==="<"&&!/<([!=]|\w+>)/.test(J()))&&(B=`\\${F}`),$({type:"text",value:F,output:B});continue}if(t.dot!==!0&&(D.type==="slash"||D.type==="bos")){$({type:"qmark",value:F,output:_});continue}$({type:"qmark",value:F,output:p});continue}if(F==="!"){if(t.noextglob!==!0&&G()==="("&&(G(2)!=="?"||!/[!=<:]/.test(G(3)))){ke("negate",F);continue}if(t.nonegate!==!0&&T.index===0){ge();continue}}if(F==="+"){if(t.noextglob!==!0&&G()==="("&&G(2)!=="?"){ke("plus",F);continue}if(D&&D.value==="("||t.regex===!1){$({type:"plus",value:F,output:y});continue}if(D&&(D.type==="bracket"||D.type==="paren"||D.type==="brace")||T.parens>0){$({type:"plus",value:F});continue}$({type:"plus",value:y});continue}if(F==="@"){if(t.noextglob!==!0&&G()==="("&&G(2)!=="?"){$({type:"at",extglob:!0,value:F,output:""});continue}$({type:"text",value:F});continue}if(F!=="*"){(F==="$"||F==="^")&&(F=`\\${F}`);let g=HE.exec(J());g&&(F+=g[0],T.index+=g[0].length),$({type:"text",value:F});continue}if(D&&(D.type==="globstar"||D.star===!0)){D.type="star",D.star=!0,D.value+=F,D.output=u,T.backtrack=!0,T.globstar=!0,re(F);continue}let te=J();if(t.noextglob!==!0&&/^\([^?]/.test(te)){ke("star",F);continue}if(D.type==="star"){if(t.noglobstar===!0){re(F);continue}let g=D.prev,L=g.prev,B=g.type==="slash"||g.type==="bos",v=L&&(L.type==="star"||L.type==="globstar");if(t.bash===!0&&(!B||te[0]&&te[0]!=="/")){$({type:"star",value:F,output:""});continue}let I=T.braces>0&&(g.type==="comma"||g.type==="brace"),H=P.length&&(g.type==="pipe"||g.type==="paren");if(!B&&g.type!=="paren"&&!I&&!H){$({type:"star",value:F,output:""});continue}for(;te.slice(0,3)==="/**";){let j=i[T.index+4];if(j&&j!=="/")break;te=te.slice(3),re("/**",3)}if(g.type==="bos"&&K()){D.type="globstar",D.value+=F,D.output=N(t),T.output=D.output,T.globstar=!0,re(F);continue}if(g.type==="slash"&&g.prev.type!=="bos"&&!v&&K()){T.output=T.output.slice(0,-(g.output+D.output).length),g.output=`(?:${g.output}`,D.type="globstar",D.output=N(t)+(t.strictSlashes?")":"|$)"),D.value+=F,T.globstar=!0,T.output+=g.output+D.output,re(F);continue}if(g.type==="slash"&&g.prev.type!=="bos"&&te[0]==="/"){let j=te[1]!==void 0?"|$":"";T.output=T.output.slice(0,-(g.output+D.output).length),g.output=`(?:${g.output}`,D.type="globstar",D.output=`${N(t)}${A}|${A}${j})`,D.value+=F,T.output+=g.output+D.output,T.globstar=!0,re(F+Y()),$({type:"slash",value:"/",output:""});continue}if(g.type==="bos"&&te[0]==="/"){D.type="globstar",D.value+=F,D.output=`(?:^|${A}|${N(t)}${A})`,T.output=D.output,T.globstar=!0,re(F+Y()),$({type:"slash",value:"/",output:""});continue}T.output=T.output.slice(0,-D.output.length),D.type="globstar",D.output=N(t),D.value+=F,T.output+=D.output,T.globstar=!0,re(F);continue}let fe={type:"star",value:F,output:u};if(t.bash===!0){fe.output=".*?",(D.type==="bos"||D.type==="slash")&&(fe.output=x+fe.output),$(fe);continue}if(D&&(D.type==="bracket"||D.type==="paren")&&t.regex===!0){fe.output=F,$(fe);continue}(T.index===T.start||D.type==="slash"||D.type==="dot")&&(D.type==="dot"?(T.output+=w,D.output+=w):t.dot===!0?(T.output+=S,D.output+=S):(T.output+=x,D.output+=x),G()!=="*"&&(T.output+=b,D.output+=b)),$(fe)}for(;T.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ji("closing","]"));T.output=zt.escapeLast(T.output,"["),Ie("brackets")}for(;T.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ji("closing",")"));T.output=zt.escapeLast(T.output,"("),Ie("parens")}for(;T.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ji("closing","}"));T.output=zt.escapeLast(T.output,"{"),Ie("braces")}if(t.strictSlashes!==!0&&(D.type==="star"||D.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${A}?`}),T.backtrack===!0){T.output="";for(let te of T.tokens)T.output+=te.output!=null?te.output:te.value,te.suffix&&(T.output+=te.suffix)}return T};Tl.fastpaths=(i,e)=>{let t={...e},r=typeof t.maxLength=="number"?Math.min(Hn,t.maxLength):Hn,s=i.length;if(s>r)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${r}`);i=km[i]||i;let a=zt.isWindows(e),{DOT_LITERAL:n,SLASH_LITERAL:c,ONE_CHAR:l,DOTS_SLASH:o,NO_DOT:m,NO_DOTS:d,NO_DOTS_SLASH:y,STAR:A,START_ANCHOR:b}=jn.globChars(a),h=t.dot?d:m,E=t.dot?y:m,w=t.capture?"":"?:",S={negated:!1,prefix:""},p=t.bash===!0?".*?":A;t.capture&&(p=`(${p})`);let _=x=>x.noglobstar===!0?p:`(${w}(?:(?!${b}${x.dot?o:n}).)*?)`,C=x=>{switch(x){case"*":return`${h}${l}${p}`;case".*":return`${n}${l}${p}`;case"*.*":return`${h}${p}${n}${l}${p}`;case"*/*":return`${h}${p}${c}${l}${E}${p}`;case"**":return h+_(t);case"**/*":return`(?:${h}${_(t)}${c})?${E}${l}${p}`;case"**/*.*":return`(?:${h}${_(t)}${c})?${E}${p}${n}${l}${p}`;case"**/.*":return`(?:${h}${_(t)}${c})?${n}${l}${p}`;default:{let f=/^(.*?)\.(\w+)$/.exec(x);if(!f)return;let u=C(f[1]);return u?u+n+f[2]:void 0}}},k=zt.removePrefix(i,S),N=C(k);return N&&t.strictSlashes!==!0&&(N+=`${c}?`),N};Rm.exports=Tl});var Nm=ie((BI,Bm)=>{"use strict";V();var GE=oe("path"),WE=Am(),Al=Im(),kl=qn(),$E=aa(),YE=i=>i&&typeof i=="object"&&!Array.isArray(i),Ze=(i,e,t=!1)=>{if(Array.isArray(i)){let m=i.map(y=>Ze(y,e,t));return y=>{for(let A of m){let b=A(y);if(b)return b}return!1}}let r=YE(i)&&i.tokens&&i.input;if(i===""||typeof i!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");let s=e||{},a=kl.isWindows(e),n=r?Ze.compileRe(i,e):Ze.makeRe(i,e,!1,!0),c=n.state;delete n.state;let l=()=>!1;if(s.ignore){let m={...e,ignore:null,onMatch:null,onResult:null};l=Ze(s.ignore,m,t)}let o=(m,d=!1)=>{let{isMatch:y,match:A,output:b}=Ze.test(m,n,e,{glob:i,posix:a}),h={glob:i,state:c,regex:n,posix:a,input:m,output:b,match:A,isMatch:y};return typeof s.onResult=="function"&&s.onResult(h),y===!1?(h.isMatch=!1,d?h:!1):l(m)?(typeof s.onIgnore=="function"&&s.onIgnore(h),h.isMatch=!1,d?h:!1):(typeof s.onMatch=="function"&&s.onMatch(h),d?h:!0)};return t&&(o.state=c),o};Ze.test=(i,e,t,{glob:r,posix:s}={})=>{if(typeof i!="string")throw new TypeError("Expected input to be a string");if(i==="")return{isMatch:!1,output:""};let a=t||{},n=a.format||(s?kl.toPosixSlashes:null),c=i===r,l=c&&n?n(i):i;return c===!1&&(l=n?n(i):i,c=l===r),(c===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?c=Ze.matchBase(i,e,t,s):c=e.exec(l)),{isMatch:!!c,match:c,output:l}};Ze.matchBase=(i,e,t,r=kl.isWindows(t))=>(e instanceof RegExp?e:Ze.makeRe(e,t)).test(GE.basename(i));Ze.isMatch=(i,e,t)=>Ze(e,t)(i);Ze.parse=(i,e)=>Array.isArray(i)?i.map(t=>Ze.parse(t,e)):Al(i,{...e,fastpaths:!1});Ze.scan=(i,e)=>WE(i,e);Ze.compileRe=(i,e,t=!1,r=!1)=>{if(t===!0)return i.output;let s=e||{},a=s.contains?"":"^",n=s.contains?"":"$",c=`${a}(?:${i.output})${n}`;i&&i.negated===!0&&(c=`^(?!${c}).*$`);let l=Ze.toRegex(c,e);return r===!0&&(l.state=i),l};Ze.makeRe=(i,e={},t=!1,r=!1)=>{if(!i||typeof i!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(i[0]==="."||i[0]==="*")&&(s.output=Al.fastpaths(i,e)),s.output||(s=Al(i,e)),Ze.compileRe(s,e,t,r)};Ze.toRegex=(i,e)=>{try{let t=e||{};return new RegExp(i,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}};Ze.constants=$E;Bm.exports=Ze});var Rl=ie((OI,Om)=>{"use strict";V();Om.exports=Nm()});var qm=ie((PI,Vm)=>{"use strict";V();var ca=oe("fs"),{Readable:QE}=oe("stream"),oa=oe("path"),{promisify:Wn}=oe("util"),Il=Rl(),ZE=Wn(ca.readdir),XE=Wn(ca.stat),Lm=Wn(ca.lstat),JE=Wn(ca.realpath),eS="!",Mm="READDIRP_RECURSIVE_ERROR",tS=new Set(["ENOENT","EPERM","EACCES","ELOOP",Mm]),Bl="files",Fm="directories",zn="files_directories",Kn="all",Pm=[Bl,Fm,zn,Kn],rS=i=>tS.has(i.code),[Dm,iS]=process.versions.node.split(".").slice(0,2).map(i=>Number.parseInt(i,10)),sS=process.platform==="win32"&&(Dm>10||Dm===10&&iS>=5),Um=i=>{if(i!==void 0){if(typeof i=="function")return i;if(typeof i=="string"){let e=Il(i.trim());return t=>e(t.basename)}if(Array.isArray(i)){let e=[],t=[];for(let r of i){let s=r.trim();s.charAt(0)===eS?t.push(Il(s.slice(1))):e.push(Il(s))}return t.length>0?e.length>0?r=>e.some(s=>s(r.basename))&&!t.some(s=>s(r.basename)):r=>!t.some(s=>s(r.basename)):r=>e.some(s=>s(r.basename))}}},Gn=class i extends QE{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:Bl,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});let t={...i.defaultOptions,...e},{root:r,type:s}=t;this._fileFilter=Um(t.fileFilter),this._directoryFilter=Um(t.directoryFilter);let a=t.lstat?Lm:XE;sS?this._stat=n=>a(n,{bigint:!0}):this._stat=a,this._maxDepth=t.depth,this._wantsDir=[Fm,zn,Kn].includes(s),this._wantsFile=[Bl,zn,Kn].includes(s),this._wantsEverything=s===Kn,this._root=oa.resolve(r),this._isDirent="Dirent"in ca&&!t.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(r,1)],this.reading=!1,this.parent=void 0}async _read(e){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){let{path:t,depth:r,files:s=[]}=this.parent||{};if(s.length>0){let a=s.splice(0,e).map(n=>this._formatEntry(n,t));for(let n of await Promise.all(a)){if(this.destroyed)return;let c=await this._getEntryType(n);c==="directory"&&this._directoryFilter(n)?(r<=this._maxDepth&&this.parents.push(this._exploreDir(n.fullPath,r+1)),this._wantsDir&&(this.push(n),e--)):(c==="file"||this._includeAsFile(n))&&this._fileFilter(n)&&this._wantsFile&&(this.push(n),e--)}}else{let a=this.parents.pop();if(!a){this.push(null);break}if(this.parent=await a,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}}async _exploreDir(e,t){let r;try{r=await ZE(e,this._rdOptions)}catch(s){this._onError(s)}return{files:r,depth:t,path:e}}async _formatEntry(e,t){let r;try{let s=this._isDirent?e.name:e,a=oa.resolve(oa.join(t,s));r={path:oa.relative(this._root,a),fullPath:a,basename:s},r[this._statsProp]=this._isDirent?e:await this._stat(a)}catch(s){this._onError(s)}return r}_onError(e){rS(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){let t=e&&e[this._statsProp];if(t){if(t.isFile())return"file";if(t.isDirectory())return"directory";if(t&&t.isSymbolicLink()){let r=e.fullPath;try{let s=await JE(r),a=await Lm(s);if(a.isFile())return"file";if(a.isDirectory()){let n=s.length;if(r.startsWith(s)&&r.substr(n,1)===oa.sep){let c=new Error(`Circular symlink detected: "${r}" points to "${s}"`);return c.code=Mm,this._onError(c)}return"directory"}}catch(s){this._onError(s)}}}}_includeAsFile(e){let t=e&&e[this._statsProp];return t&&this._wantsEverything&&!t.isDirectory()}},es=(i,e={})=>{let t=e.entryType||e.type;if(t==="both"&&(t=zn),t&&(e.type=t),i){if(typeof i!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(t&&!Pm.includes(t))throw new Error(`readdirp: Invalid type passed. Use one of ${Pm.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return e.root=i,new Gn(e)},aS=(i,e={})=>new Promise((t,r)=>{let s=[];es(i,e).on("data",a=>s.push(a)).on("end",()=>t(s)).on("error",a=>r(a))});es.promise=aS;es.ReaddirpStream=Gn;es.default=es;Vm.exports=es});var Wm=ie((zm,Gm)=>{"use strict";V();Object.defineProperty(zm,"__esModule",{value:!0});var Km=Rl(),nS=fo(),jm="!",oS={returnIndex:!1},cS=i=>Array.isArray(i)?i:[i],lS=(i,e)=>{if(typeof i=="function")return i;if(typeof i=="string"){let t=Km(i,e);return r=>i===r||t(r)}return i instanceof RegExp?t=>i.test(t):t=>!1},Hm=(i,e,t,r)=>{let s=Array.isArray(t),a=s?t[0]:t;if(!s&&typeof a!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(a));let n=nS(a);for(let l=0;l<e.length;l++){let o=e[l];if(o(n))return r?-1:!1}let c=s&&[n].concat(t.slice(1));for(let l=0;l<i.length;l++){let o=i[l];if(s?o(...c):o(n))return r?l:!0}return r?-1:!1},Nl=(i,e,t=oS)=>{if(i==null)throw new TypeError("anymatch: specify first argument");let r=typeof t=="boolean"?{returnIndex:t}:t,s=r.returnIndex||!1,a=cS(i),n=a.filter(l=>typeof l=="string"&&l.charAt(0)===jm).map(l=>l.slice(1)).map(l=>Km(l,r)),c=a.filter(l=>typeof l!="string"||typeof l=="string"&&l.charAt(0)!==jm).map(l=>lS(l,r));return e==null?(l,o=!1)=>Hm(c,n,l,typeof o=="boolean"?o:!1):Hm(c,n,e,s)};Nl.default=Nl;Gm.exports=Nl});var Ym=ie((MI,$m)=>{"use strict";V();$m.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}});var Ol=ie((VI,Zm)=>{"use strict";V();var uS=Ym(),Qm={"{":"}","(":")","[":"]"},pS=function(i){if(i[0]==="!")return!0;for(var e=0,t=-2,r=-2,s=-2,a=-2,n=-2;e<i.length;){if(i[e]==="*"||i[e+1]==="?"&&/[\].+)]/.test(i[e])||r!==-1&&i[e]==="["&&i[e+1]!=="]"&&(r<e&&(r=i.indexOf("]",e)),r>e&&(n===-1||n>r||(n=i.indexOf("\\",e),n===-1||n>r)))||s!==-1&&i[e]==="{"&&i[e+1]!=="}"&&(s=i.indexOf("}",e),s>e&&(n=i.indexOf("\\",e),n===-1||n>s))||a!==-1&&i[e]==="("&&i[e+1]==="?"&&/[:!=]/.test(i[e+2])&&i[e+3]!==")"&&(a=i.indexOf(")",e),a>e&&(n=i.indexOf("\\",e),n===-1||n>a))||t!==-1&&i[e]==="("&&i[e+1]!=="|"&&(t<e&&(t=i.indexOf("|",e)),t!==-1&&i[t+1]!==")"&&(a=i.indexOf(")",t),a>t&&(n=i.indexOf("\\",t),n===-1||n>a))))return!0;if(i[e]==="\\"){var c=i[e+1];e+=2;var l=Qm[c];if(l){var o=i.indexOf(l,e);o!==-1&&(e=o+1)}if(i[e]==="!")return!0}else e++}return!1},dS=function(i){if(i[0]==="!")return!0;for(var e=0;e<i.length;){if(/[*?{}()[\]]/.test(i[e]))return!0;if(i[e]==="\\"){var t=i[e+1];e+=2;var r=Qm[t];if(r){var s=i.indexOf(r,e);s!==-1&&(e=s+1)}if(i[e]==="!")return!0}else e++}return!1};Zm.exports=function(e,t){if(typeof e!="string"||e==="")return!1;if(uS(e))return!0;var r=pS;return t&&t.strict===!1&&(r=dS),r(e)}});var Jm=ie((jI,Xm)=>{"use strict";V();var fS=Ol(),hS=oe("path").posix.dirname,mS=oe("os").platform()==="win32",Ll="/",vS=/\\/g,gS=/[\{\[].*[\}\]]$/,yS=/(^|[^\\])([\{\[]|\([^\)]+$)/,xS=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Xm.exports=function(e,t){var r=Object.assign({flipBackslashes:!0},t);r.flipBackslashes&&mS&&e.indexOf(Ll)<0&&(e=e.replace(vS,Ll)),gS.test(e)&&(e+=Ll),e+="a";do e=hS(e);while(fS(e)||yS.test(e));return e.replace(xS,"$1")}});var $n=ie(Jt=>{"use strict";V();Jt.isInteger=i=>typeof i=="number"?Number.isInteger(i):typeof i=="string"&&i.trim()!==""?Number.isInteger(Number(i)):!1;Jt.find=(i,e)=>i.nodes.find(t=>t.type===e);Jt.exceedsLimit=(i,e,t=1,r)=>r===!1||!Jt.isInteger(i)||!Jt.isInteger(e)?!1:(Number(e)-Number(i))/Number(t)>=r;Jt.escapeNode=(i,e=0,t)=>{let r=i.nodes[e];r&&(t&&r.type===t||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)};Jt.encloseBrace=i=>i.type!=="brace"||i.commas>>0+i.ranges>>0?!1:(i.invalid=!0,!0);Jt.isInvalidBrace=i=>i.type!=="brace"?!1:i.invalid===!0||i.dollar?!0:!(i.commas>>0+i.ranges>>0)||i.open!==!0||i.close!==!0?(i.invalid=!0,!0):!1;Jt.isOpenOrClose=i=>i.type==="open"||i.type==="close"?!0:i.open===!0||i.close===!0;Jt.reduce=i=>i.reduce((e,t)=>(t.type==="text"&&e.push(t.value),t.type==="range"&&(t.type="text"),e),[]);Jt.flatten=(...i)=>{let e=[],t=r=>{for(let s=0;s<r.length;s++){let a=r[s];if(Array.isArray(a)){t(a);continue}a!==void 0&&e.push(a)}return e};return t(i),e}});var Yn=ie((GI,tv)=>{"use strict";V();var ev=$n();tv.exports=(i,e={})=>{let t=(r,s={})=>{let a=e.escapeInvalid&&ev.isInvalidBrace(s),n=r.invalid===!0&&e.escapeInvalid===!0,c="";if(r.value)return(a||n)&&ev.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(let l of r.nodes)c+=t(l);return c};return t(i)}});var iv=ie(($I,rv)=>{"use strict";V();rv.exports=function(i){return typeof i=="number"?i-i===0:typeof i=="string"&&i.trim()!==""?Number.isFinite?Number.isFinite(+i):isFinite(+i):!1}});var dv=ie((QI,pv)=>{"use strict";V();var sv=iv(),yi=(i,e,t)=>{if(sv(i)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||i===e)return String(i);if(sv(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...t};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let s=String(r.relaxZeros),a=String(r.shorthand),n=String(r.capture),c=String(r.wrap),l=i+":"+e+"="+s+a+n+c;if(yi.cache.hasOwnProperty(l))return yi.cache[l].result;let o=Math.min(i,e),m=Math.max(i,e);if(Math.abs(o-m)===1){let h=i+"|"+e;return r.capture?`(${h})`:r.wrap===!1?h:`(?:${h})`}let d=uv(i)||uv(e),y={min:i,max:e,a:o,b:m},A=[],b=[];if(d&&(y.isPadded=d,y.maxLen=String(y.max).length),o<0){let h=m<0?Math.abs(m):1;b=av(h,Math.abs(o),y,r),o=y.a=0}return m>=0&&(A=av(o,m,y,r)),y.negatives=b,y.positives=A,y.result=bS(b,A,r),r.capture===!0?y.result=`(${y.result})`:r.wrap!==!1&&A.length+b.length>1&&(y.result=`(?:${y.result})`),yi.cache[l]=y,y.result};function bS(i,e,t){let r=Pl(i,e,"-",!1,t)||[],s=Pl(e,i,"",!1,t)||[],a=Pl(i,e,"-?",!0,t)||[];return r.concat(a).concat(s).join("|")}function _S(i,e){let t=1,r=1,s=ov(i,t),a=new Set([e]);for(;i<=s&&s<=e;)a.add(s),t+=1,s=ov(i,t);for(s=cv(e+1,r)-1;i<s&&s<=e;)a.add(s),r+=1,s=cv(e+1,r)-1;return a=[...a],a.sort(CS),a}function ES(i,e,t){if(i===e)return{pattern:i,count:[],digits:0};let r=SS(i,e),s=r.length,a="",n=0;for(let c=0;c<s;c++){let[l,o]=r[c];l===o?a+=l:l!=="0"||o!=="9"?a+=wS(l,o,t):n++}return n&&(a+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:a,count:[n],digits:s}}function av(i,e,t,r){let s=_S(i,e),a=[],n=i,c;for(let l=0;l<s.length;l++){let o=s[l],m=ES(String(n),String(o),r),d="";if(!t.isPadded&&c&&c.pattern===m.pattern){c.count.length>1&&c.count.pop(),c.count.push(m.count[0]),c.string=c.pattern+lv(c.count),n=o+1;continue}t.isPadded&&(d=TS(o,t,r)),m.string=d+m.pattern+lv(m.count),a.push(m),n=o+1,c=m}return a}function Pl(i,e,t,r,s){let a=[];for(let n of i){let{string:c}=n;!r&&!nv(e,"string",c)&&a.push(t+c),r&&nv(e,"string",c)&&a.push(t+c)}return a}function SS(i,e){let t=[];for(let r=0;r<i.length;r++)t.push([i[r],e[r]]);return t}function CS(i,e){return i>e?1:e>i?-1:0}function nv(i,e,t){return i.some(r=>r[e]===t)}function ov(i,e){return Number(String(i).slice(0,-e)+"9".repeat(e))}function cv(i,e){return i-i%Math.pow(10,e)}function lv(i){let[e=0,t=""]=i;return t||e>1?`{${e+(t?","+t:"")}}`:""}function wS(i,e,t){return`[${i}${e-i===1?"":"-"}${e}]`}function uv(i){return/^-?(0+)\d/.test(i)}function TS(i,e,t){if(!e.isPadded)return i;let r=Math.abs(e.maxLen-String(i).length),s=t.relaxZeros!==!1;switch(r){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${r}}`:`0{${r}}`}}yi.cache={};yi.clearCache=()=>yi.cache={};pv.exports=yi});var Ml=ie((XI,xv)=>{"use strict";V();var AS=oe("util"),hv=dv(),fv=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),kS=i=>e=>i===!0?Number(e):String(e),Dl=i=>typeof i=="number"||typeof i=="string"&&i!=="",la=i=>Number.isInteger(+i),Ul=i=>{let e=`${i}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},RS=(i,e,t)=>typeof i=="string"||typeof e=="string"?!0:t.stringify===!0,IS=(i,e,t)=>{if(e>0){let r=i[0]==="-"?"-":"";r&&(i=i.slice(1)),i=r+i.padStart(r?e-1:e,"0")}return t===!1?String(i):i},Zn=(i,e)=>{let t=i[0]==="-"?"-":"";for(t&&(i=i.slice(1),e--);i.length<e;)i="0"+i;return t?"-"+i:i},BS=(i,e,t)=>{i.negatives.sort((c,l)=>c<l?-1:c>l?1:0),i.positives.sort((c,l)=>c<l?-1:c>l?1:0);let r=e.capture?"":"?:",s="",a="",n;return i.positives.length&&(s=i.positives.map(c=>Zn(String(c),t)).join("|")),i.negatives.length&&(a=`-(${r}${i.negatives.map(c=>Zn(String(c),t)).join("|")})`),s&&a?n=`${s}|${a}`:n=s||a,e.wrap?`(${r}${n})`:n},mv=(i,e,t,r)=>{if(t)return hv(i,e,{wrap:!1,...r});let s=String.fromCharCode(i);if(i===e)return s;let a=String.fromCharCode(e);return`[${s}-${a}]`},vv=(i,e,t)=>{if(Array.isArray(i)){let r=t.wrap===!0,s=t.capture?"":"?:";return r?`(${s}${i.join("|")})`:i.join("|")}return hv(i,e,t)},gv=(...i)=>new RangeError("Invalid range arguments: "+AS.inspect(...i)),yv=(i,e,t)=>{if(t.strictRanges===!0)throw gv([i,e]);return[]},NS=(i,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${i}" to be a number`);return[]},OS=(i,e,t=1,r={})=>{let s=Number(i),a=Number(e);if(!Number.isInteger(s)||!Number.isInteger(a)){if(r.strictRanges===!0)throw gv([i,e]);return[]}s===0&&(s=0),a===0&&(a=0);let n=s>a,c=String(i),l=String(e),o=String(t);t=Math.max(Math.abs(t),1);let m=Ul(c)||Ul(l)||Ul(o),d=m?Math.max(c.length,l.length,o.length):0,y=m===!1&&RS(i,e,r)===!1,A=r.transform||kS(y);if(r.toRegex&&t===1)return mv(Zn(i,d),Zn(e,d),!0,r);let b={negatives:[],positives:[]},h=S=>b[S<0?"negatives":"positives"].push(Math.abs(S)),E=[],w=0;for(;n?s>=a:s<=a;)r.toRegex===!0&&t>1?h(s):E.push(IS(A(s,w),d,y)),s=n?s-t:s+t,w++;return r.toRegex===!0?t>1?BS(b,r,d):vv(E,null,{wrap:!1,...r}):E},LS=(i,e,t=1,r={})=>{if(!la(i)&&i.length>1||!la(e)&&e.length>1)return yv(i,e,r);let s=r.transform||(y=>String.fromCharCode(y)),a=`${i}`.charCodeAt(0),n=`${e}`.charCodeAt(0),c=a>n,l=Math.min(a,n),o=Math.max(a,n);if(r.toRegex&&t===1)return mv(l,o,!1,r);let m=[],d=0;for(;c?a>=n:a<=n;)m.push(s(a,d)),a=c?a-t:a+t,d++;return r.toRegex===!0?vv(m,null,{wrap:!1,options:r}):m},Qn=(i,e,t,r={})=>{if(e==null&&Dl(i))return[i];if(!Dl(i)||!Dl(e))return yv(i,e,r);if(typeof t=="function")return Qn(i,e,1,{transform:t});if(fv(t))return Qn(i,e,0,t);let s={...r};return s.capture===!0&&(s.wrap=!0),t=t||s.step||1,la(t)?la(i)&&la(e)?OS(i,e,t,s):LS(i,e,Math.max(Math.abs(t),1),s):t!=null&&!fv(t)?NS(t,s):Qn(i,e,1,t)};xv.exports=Qn});var Ev=ie((e3,_v)=>{"use strict";V();var PS=Ml(),bv=$n(),DS=(i,e={})=>{let t=(r,s={})=>{let a=bv.isInvalidBrace(s),n=r.invalid===!0&&e.escapeInvalid===!0,c=a===!0||n===!0,l=e.escapeInvalid===!0?"\\":"",o="";if(r.isOpen===!0)return l+r.value;if(r.isClose===!0)return console.log("node.isClose",l,r.value),l+r.value;if(r.type==="open")return c?l+r.value:"(";if(r.type==="close")return c?l+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":c?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){let m=bv.reduce(r.nodes),d=PS(...m,{...e,wrap:!1,toRegex:!0,strictZeros:!0});if(d.length!==0)return m.length>1&&d.length>1?`(${d})`:d}if(r.nodes)for(let m of r.nodes)o+=t(m,r);return o};return t(i)};_v.exports=DS});var wv=ie((r3,Cv)=>{"use strict";V();var US=Ml(),Sv=Yn(),ts=$n(),xi=(i="",e="",t=!1)=>{let r=[];if(i=[].concat(i),e=[].concat(e),!e.length)return i;if(!i.length)return t?ts.flatten(e).map(s=>`{${s}}`):e;for(let s of i)if(Array.isArray(s))for(let a of s)r.push(xi(a,e,t));else for(let a of e)t===!0&&typeof a=="string"&&(a=`{${a}}`),r.push(Array.isArray(a)?xi(s,a,t):s+a);return ts.flatten(r)},MS=(i,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,r=(s,a={})=>{s.queue=[];let n=a,c=a.queue;for(;n.type!=="brace"&&n.type!=="root"&&n.parent;)n=n.parent,c=n.queue;if(s.invalid||s.dollar){c.push(xi(c.pop(),Sv(s,e)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){c.push(xi(c.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let d=ts.reduce(s.nodes);if(ts.exceedsLimit(...d,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let y=US(...d,e);y.length===0&&(y=Sv(s,e)),c.push(xi(c.pop(),y)),s.nodes=[];return}let l=ts.encloseBrace(s),o=s.queue,m=s;for(;m.type!=="brace"&&m.type!=="root"&&m.parent;)m=m.parent,o=m.queue;for(let d=0;d<s.nodes.length;d++){let y=s.nodes[d];if(y.type==="comma"&&s.type==="brace"){d===1&&o.push(""),o.push("");continue}if(y.type==="close"){c.push(xi(c.pop(),o,l));continue}if(y.value&&y.type!=="open"){o.push(xi(o.pop(),y.value));continue}y.nodes&&r(y,s)}return o};return ts.flatten(r(i))};Cv.exports=MS});var Av=ie((s3,Tv)=>{"use strict";V();Tv.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Nv=ie((n3,Bv)=>{"use strict";V();var FS=Yn(),{MAX_LENGTH:kv,CHAR_BACKSLASH:Fl,CHAR_BACKTICK:VS,CHAR_COMMA:qS,CHAR_DOT:jS,CHAR_LEFT_PARENTHESES:HS,CHAR_RIGHT_PARENTHESES:KS,CHAR_LEFT_CURLY_BRACE:zS,CHAR_RIGHT_CURLY_BRACE:GS,CHAR_LEFT_SQUARE_BRACKET:Rv,CHAR_RIGHT_SQUARE_BRACKET:Iv,CHAR_DOUBLE_QUOTE:WS,CHAR_SINGLE_QUOTE:$S,CHAR_NO_BREAK_SPACE:YS,CHAR_ZERO_WIDTH_NOBREAK_SPACE:QS}=Av(),ZS=(i,e={})=>{if(typeof i!="string")throw new TypeError("Expected a string");let t=e||{},r=typeof t.maxLength=="number"?Math.min(kv,t.maxLength):kv;if(i.length>r)throw new SyntaxError(`Input length (${i.length}), exceeds max characters (${r})`);let s={type:"root",input:i,nodes:[]},a=[s],n=s,c=s,l=0,o=i.length,m=0,d=0,y,A=()=>i[m++],b=h=>{if(h.type==="text"&&c.type==="dot"&&(c.type="text"),c&&c.type==="text"&&h.type==="text"){c.value+=h.value;return}return n.nodes.push(h),h.parent=n,h.prev=c,c=h,h};for(b({type:"bos"});m<o;)if(n=a[a.length-1],y=A(),!(y===QS||y===YS)){if(y===Fl){b({type:"text",value:(e.keepEscaping?y:"")+A()});continue}if(y===Iv){b({type:"text",value:"\\"+y});continue}if(y===Rv){l++;let h;for(;m<o&&(h=A());){if(y+=h,h===Rv){l++;continue}if(h===Fl){y+=A();continue}if(h===Iv&&(l--,l===0))break}b({type:"text",value:y});continue}if(y===HS){n=b({type:"paren",nodes:[]}),a.push(n),b({type:"text",value:y});continue}if(y===KS){if(n.type!=="paren"){b({type:"text",value:y});continue}n=a.pop(),b({type:"text",value:y}),n=a[a.length-1];continue}if(y===WS||y===$S||y===VS){let h=y,E;for(e.keepQuotes!==!0&&(y="");m<o&&(E=A());){if(E===Fl){y+=E+A();continue}if(E===h){e.keepQuotes===!0&&(y+=E);break}y+=E}b({type:"text",value:y});continue}if(y===zS){d++;let E={type:"brace",open:!0,close:!1,dollar:c.value&&c.value.slice(-1)==="$"||n.dollar===!0,depth:d,commas:0,ranges:0,nodes:[]};n=b(E),a.push(n),b({type:"open",value:y});continue}if(y===GS){if(n.type!=="brace"){b({type:"text",value:y});continue}let h="close";n=a.pop(),n.close=!0,b({type:h,value:y}),d--,n=a[a.length-1];continue}if(y===qS&&d>0){if(n.ranges>0){n.ranges=0;let h=n.nodes.shift();n.nodes=[h,{type:"text",value:FS(n)}]}b({type:"comma",value:y}),n.commas++;continue}if(y===jS&&d>0&&n.commas===0){let h=n.nodes;if(d===0||h.length===0){b({type:"text",value:y});continue}if(c.type==="dot"){if(n.range=[],c.value+=y,c.type="range",n.nodes.length!==3&&n.nodes.length!==5){n.invalid=!0,n.ranges=0,c.type="text";continue}n.ranges++,n.args=[];continue}if(c.type==="range"){h.pop();let E=h[h.length-1];E.value+=c.value+y,c=E,n.ranges--;continue}b({type:"dot",value:y});continue}b({type:"text",value:y})}do if(n=a.pop(),n.type!=="root"){n.nodes.forEach(w=>{w.nodes||(w.type==="open"&&(w.isOpen=!0),w.type==="close"&&(w.isClose=!0),w.nodes||(w.type="text"),w.invalid=!0)});let h=a[a.length-1],E=h.nodes.indexOf(n);h.nodes.splice(E,1,...n.nodes)}while(a.length>0);return b({type:"eos"}),s};Bv.exports=ZS});var Pv=ie((c3,Lv)=>{"use strict";V();var Ov=Yn(),XS=Ev(),JS=wv(),eC=Nv(),Gt=(i,e={})=>{let t=[];if(Array.isArray(i))for(let r of i){let s=Gt.create(r,e);Array.isArray(s)?t.push(...s):t.push(s)}else t=[].concat(Gt.create(i,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};Gt.parse=(i,e={})=>eC(i,e);Gt.stringify=(i,e={})=>Ov(typeof i=="string"?Gt.parse(i,e):i,e);Gt.compile=(i,e={})=>(typeof i=="string"&&(i=Gt.parse(i,e)),XS(i,e));Gt.expand=(i,e={})=>{typeof i=="string"&&(i=Gt.parse(i,e));let t=JS(i,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t};Gt.create=(i,e={})=>i===""||i.length<3?[i]:e.expand!==!0?Gt.compile(i,e):Gt.expand(i,e);Lv.exports=Gt});var Dv=ie((u3,tC)=>{tC.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]});var Mv=ie((p3,Uv)=>{"use strict";V();Uv.exports=Dv()});var Vv=ie((f3,Fv)=>{"use strict";V();var rC=oe("path"),iC=Mv(),sC=new Set(iC);Fv.exports=i=>sC.has(rC.extname(i).slice(1).toLowerCase())});var Xn=ie(ve=>{"use strict";V();var{sep:aC}=oe("path"),{platform:Vl}=process,nC=oe("os");ve.EV_ALL="all";ve.EV_READY="ready";ve.EV_ADD="add";ve.EV_CHANGE="change";ve.EV_ADD_DIR="addDir";ve.EV_UNLINK="unlink";ve.EV_UNLINK_DIR="unlinkDir";ve.EV_RAW="raw";ve.EV_ERROR="error";ve.STR_DATA="data";ve.STR_END="end";ve.STR_CLOSE="close";ve.FSEVENT_CREATED="created";ve.FSEVENT_MODIFIED="modified";ve.FSEVENT_DELETED="deleted";ve.FSEVENT_MOVED="moved";ve.FSEVENT_CLONED="cloned";ve.FSEVENT_UNKNOWN="unknown";ve.FSEVENT_FLAG_MUST_SCAN_SUBDIRS=1;ve.FSEVENT_TYPE_FILE="file";ve.FSEVENT_TYPE_DIRECTORY="directory";ve.FSEVENT_TYPE_SYMLINK="symlink";ve.KEY_LISTENERS="listeners";ve.KEY_ERR="errHandlers";ve.KEY_RAW="rawEmitters";ve.HANDLER_KEYS=[ve.KEY_LISTENERS,ve.KEY_ERR,ve.KEY_RAW];ve.DOT_SLASH=`.${aC}`;ve.BACK_SLASH_RE=/\\/g;ve.DOUBLE_SLASH_RE=/\/\//;ve.SLASH_OR_BACK_SLASH_RE=/[/\\]/;ve.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;ve.REPLACER_RE=/^\.[/\\]/;ve.SLASH="/";ve.SLASH_SLASH="//";ve.BRACE_START="{";ve.BANG="!";ve.ONE_DOT=".";ve.TWO_DOTS="..";ve.STAR="*";ve.GLOBSTAR="**";ve.ROOT_GLOBSTAR="/**/*";ve.SLASH_GLOBSTAR="/**";ve.DIR_SUFFIX="Dir";ve.ANYMATCH_OPTS={dot:!0};ve.STRING_TYPE="string";ve.FUNCTION_TYPE="function";ve.EMPTY_STR="";ve.EMPTY_FN=()=>{};ve.IDENTITY_FN=i=>i;ve.isWindows=Vl==="win32";ve.isMacos=Vl==="darwin";ve.isLinux=Vl==="linux";ve.isIBMi=nC.type()==="OS400"});var Gv=ie((g3,zv)=>{"use strict";V();var Mr=oe("fs"),bt=oe("path"),{promisify:fa}=oe("util"),oC=Vv(),{isWindows:cC,isLinux:lC,EMPTY_FN:uC,EMPTY_STR:pC,KEY_LISTENERS:rs,KEY_ERR:ql,KEY_RAW:ua,HANDLER_KEYS:dC,EV_CHANGE:eo,EV_ADD:Jn,EV_ADD_DIR:fC,EV_ERROR:jv,STR_DATA:hC,STR_END:mC,BRACE_START:vC,STAR:gC}=Xn(),yC="watch",xC=fa(Mr.open),Hv=fa(Mr.stat),bC=fa(Mr.lstat),_C=fa(Mr.close),jl=fa(Mr.realpath),EC={lstat:bC,stat:Hv},Kl=(i,e)=>{i instanceof Set?i.forEach(e):e(i)},pa=(i,e,t)=>{let r=i[e];r instanceof Set||(i[e]=r=new Set([r])),r.add(t)},SC=i=>e=>{let t=i[e];t instanceof Set?t.clear():delete i[e]},da=(i,e,t)=>{let r=i[e];r instanceof Set?r.delete(t):r===t&&delete i[e]},Kv=i=>i instanceof Set?i.size===0:!i,to=new Map;function qv(i,e,t,r,s){let a=(n,c)=>{t(i),s(n,c,{watchedPath:i}),c&&i!==c&&ro(bt.resolve(i,c),rs,bt.join(i,c))};try{return Mr.watch(i,e,a)}catch(n){r(n)}}var ro=(i,e,t,r,s)=>{let a=to.get(i);a&&Kl(a[e],n=>{n(t,r,s)})},CC=(i,e,t,r)=>{let{listener:s,errHandler:a,rawEmitter:n}=r,c=to.get(e),l;if(!t.persistent)return l=qv(i,t,s,a,n),l.close.bind(l);if(c)pa(c,rs,s),pa(c,ql,a),pa(c,ua,n);else{if(l=qv(i,t,ro.bind(null,e,rs),a,ro.bind(null,e,ua)),!l)return;l.on(jv,async o=>{let m=ro.bind(null,e,ql);if(c.watcherUnusable=!0,cC&&o.code==="EPERM")try{let d=await xC(i,"r");await _C(d),m(o)}catch{}else m(o)}),c={listeners:s,errHandlers:a,rawEmitters:n,watcher:l},to.set(e,c)}return()=>{da(c,rs,s),da(c,ql,a),da(c,ua,n),Kv(c.listeners)&&(c.watcher.close(),to.delete(e),dC.forEach(SC(c)),c.watcher=void 0,Object.freeze(c))}},Hl=new Map,wC=(i,e,t,r)=>{let{listener:s,rawEmitter:a}=r,n=Hl.get(e),c=new Set,l=new Set,o=n&&n.options;return o&&(o.persistent<t.persistent||o.interval>t.interval)&&(c=n.listeners,l=n.rawEmitters,Mr.unwatchFile(e),n=void 0),n?(pa(n,rs,s),pa(n,ua,a)):(n={listeners:s,rawEmitters:a,options:t,watcher:Mr.watchFile(e,t,(m,d)=>{Kl(n.rawEmitters,A=>{A(eo,e,{curr:m,prev:d})});let y=m.mtimeMs;(m.size!==d.size||y>d.mtimeMs||y===0)&&Kl(n.listeners,A=>A(i,m))})},Hl.set(e,n)),()=>{da(n,rs,s),da(n,ua,a),Kv(n.listeners)&&(Hl.delete(e),Mr.unwatchFile(e),n.options=n.watcher=void 0,Object.freeze(n))}},zl=class{constructor(e){this.fsw=e,this._boundHandleError=t=>e._handleError(t)}_watchWithNodeFs(e,t){let r=this.fsw.options,s=bt.dirname(e),a=bt.basename(e);this.fsw._getWatchedDir(s).add(a);let c=bt.resolve(e),l={persistent:r.persistent};t||(t=uC);let o;return r.usePolling?(l.interval=r.enableBinaryInterval&&oC(a)?r.binaryInterval:r.interval,o=wC(e,c,l,{listener:t,rawEmitter:this.fsw._emitRaw})):o=CC(e,c,l,{listener:t,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),o}_handleFile(e,t,r){if(this.fsw.closed)return;let s=bt.dirname(e),a=bt.basename(e),n=this.fsw._getWatchedDir(s),c=t;if(n.has(a))return;let l=async(m,d)=>{if(this.fsw._throttle(yC,e,5)){if(!d||d.mtimeMs===0)try{let y=await Hv(e);if(this.fsw.closed)return;let A=y.atimeMs,b=y.mtimeMs;(!A||A<=b||b!==c.mtimeMs)&&this.fsw._emit(eo,e,y),lC&&c.ino!==y.ino?(this.fsw._closeFile(m),c=y,this.fsw._addPathCloser(m,this._watchWithNodeFs(e,l))):c=y}catch{this.fsw._remove(s,a)}else if(n.has(a)){let y=d.atimeMs,A=d.mtimeMs;(!y||y<=A||A!==c.mtimeMs)&&this.fsw._emit(eo,e,d),c=d}}},o=this._watchWithNodeFs(e,l);if(!(r&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(Jn,e,0))return;this.fsw._emit(Jn,e,t)}return o}async _handleSymlink(e,t,r,s){if(this.fsw.closed)return;let a=e.fullPath,n=this.fsw._getWatchedDir(t);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let c;try{c=await jl(r)}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(n.has(s)?this.fsw._symlinkPaths.get(a)!==c&&(this.fsw._symlinkPaths.set(a,c),this.fsw._emit(eo,r,e.stats)):(n.add(s),this.fsw._symlinkPaths.set(a,c),this.fsw._emit(Jn,r,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(a))return!0;this.fsw._symlinkPaths.set(a,!0)}_handleRead(e,t,r,s,a,n,c){if(e=bt.join(e,pC),!r.hasGlob&&(c=this.fsw._throttle("readdir",e,1e3),!c))return;let l=this.fsw._getWatchedDir(r.path),o=new Set,m=this.fsw._readdirp(e,{fileFilter:d=>r.filterPath(d),directoryFilter:d=>r.filterDir(d),depth:0}).on(hC,async d=>{if(this.fsw.closed){m=void 0;return}let y=d.path,A=bt.join(e,y);if(o.add(y),!(d.stats.isSymbolicLink()&&await this._handleSymlink(d,e,A,y))){if(this.fsw.closed){m=void 0;return}(y===s||!s&&!l.has(y))&&(this.fsw._incrReadyCount(),A=bt.join(a,bt.relative(a,A)),this._addToNodeFs(A,t,r,n+1))}}).on(jv,this._boundHandleError);return new Promise(d=>m.once(mC,()=>{if(this.fsw.closed){m=void 0;return}let y=c?c.clear():!1;d(),l.getChildren().filter(A=>A!==e&&!o.has(A)&&(!r.hasGlob||r.filterPath({fullPath:bt.resolve(e,A)}))).forEach(A=>{this.fsw._remove(e,A)}),m=void 0,y&&this._handleRead(e,!1,r,s,a,n,c)}))}async _handleDir(e,t,r,s,a,n,c){let l=this.fsw._getWatchedDir(bt.dirname(e)),o=l.has(bt.basename(e));!(r&&this.fsw.options.ignoreInitial)&&!a&&!o&&(!n.hasGlob||n.globFilter(e))&&this.fsw._emit(fC,e,t),l.add(bt.basename(e)),this.fsw._getWatchedDir(e);let m,d,y=this.fsw.options.depth;if((y==null||s<=y)&&!this.fsw._symlinkPaths.has(c)){if(!a&&(await this._handleRead(e,r,n,a,e,s,m),this.fsw.closed))return;d=this._watchWithNodeFs(e,(A,b)=>{b&&b.mtimeMs===0||this._handleRead(A,!1,n,a,e,s,m)})}return d}async _addToNodeFs(e,t,r,s,a){let n=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return n(),!1;let c=this.fsw._getWatchHelpers(e,s);!c.hasGlob&&r&&(c.hasGlob=r.hasGlob,c.globFilter=r.globFilter,c.filterPath=l=>r.filterPath(l),c.filterDir=l=>r.filterDir(l));try{let l=await EC[c.statMethod](c.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(c.watchPath,l))return n(),!1;let o=this.fsw.options.followSymlinks&&!e.includes(gC)&&!e.includes(vC),m;if(l.isDirectory()){let d=bt.resolve(e),y=o?await jl(e):e;if(this.fsw.closed||(m=await this._handleDir(c.watchPath,l,t,s,a,c,y),this.fsw.closed))return;d!==y&&y!==void 0&&this.fsw._symlinkPaths.set(d,y)}else if(l.isSymbolicLink()){let d=o?await jl(e):e;if(this.fsw.closed)return;let y=bt.dirname(c.watchPath);if(this.fsw._getWatchedDir(y).add(c.watchPath),this.fsw._emit(Jn,c.watchPath,l),m=await this._handleDir(y,l,t,s,e,c,d),this.fsw.closed)return;d!==void 0&&this.fsw._symlinkPaths.set(bt.resolve(e),d)}else m=this._handleFile(c.watchPath,l,t);return n(),this.fsw._addPathCloser(e,m),!1}catch(l){if(this.fsw._handleError(l))return n(),e}}};zv.exports=zl});var Jv=ie((x3,Jl)=>{"use strict";V();var Zl=oe("fs"),_t=oe("path"),{promisify:Xl}=oe("util"),is;try{is=oe("fsevents")}catch(i){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(i)}if(is){let i=process.version.match(/v(\d+)\.(\d+)/);if(i&&i[1]&&i[2]){let e=Number.parseInt(i[1],10),t=Number.parseInt(i[2],10);e===8&&t<16&&(is=void 0)}}var{EV_ADD:Gl,EV_CHANGE:TC,EV_ADD_DIR:Wv,EV_UNLINK:io,EV_ERROR:AC,STR_DATA:kC,STR_END:RC,FSEVENT_CREATED:IC,FSEVENT_MODIFIED:BC,FSEVENT_DELETED:NC,FSEVENT_MOVED:OC,FSEVENT_UNKNOWN:LC,FSEVENT_FLAG_MUST_SCAN_SUBDIRS:PC,FSEVENT_TYPE_FILE:DC,FSEVENT_TYPE_DIRECTORY:ha,FSEVENT_TYPE_SYMLINK:Xv,ROOT_GLOBSTAR:$v,DIR_SUFFIX:UC,DOT_SLASH:Yv,FUNCTION_TYPE:Wl,EMPTY_FN:MC,IDENTITY_FN:FC}=Xn(),VC=i=>isNaN(i)?{}:{depth:i},Yl=Xl(Zl.stat),qC=Xl(Zl.lstat),Qv=Xl(Zl.realpath),jC={stat:Yl,lstat:qC},bi=new Map,HC=10,KC=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),zC=(i,e)=>({stop:is.watch(i,e)});function GC(i,e,t,r){let s=_t.extname(e)?_t.dirname(e):e,a=_t.dirname(s),n=bi.get(s);WC(a)&&(s=a);let c=_t.resolve(i),l=c!==e,o=(d,y,A)=>{l&&(d=d.replace(e,c)),(d===c||!d.indexOf(c+_t.sep))&&t(d,y,A)},m=!1;for(let d of bi.keys())if(e.indexOf(_t.resolve(d)+_t.sep)===0){s=d,n=bi.get(s),m=!0;break}return n||m?n.listeners.add(o):(n={listeners:new Set([o]),rawEmitter:r,watcher:zC(s,(d,y)=>{if(!n.listeners.size||y&PC)return;let A=is.getInfo(d,y);n.listeners.forEach(b=>{b(d,y,A)}),n.rawEmitter(A.event,d,A)})},bi.set(s,n)),()=>{let d=n.listeners;if(d.delete(o),!d.size&&(bi.delete(s),n.watcher))return n.watcher.stop().then(()=>{n.rawEmitter=n.watcher=void 0,Object.freeze(n)})}}var WC=i=>{let e=0;for(let t of bi.keys())if(t.indexOf(i)===0&&(e++,e>=HC))return!0;return!1},$C=()=>is&&bi.size<128,$l=(i,e)=>{let t=0;for(;!i.indexOf(e)&&(i=_t.dirname(i))!==e;)t++;return t},Zv=(i,e)=>i.type===ha&&e.isDirectory()||i.type===Xv&&e.isSymbolicLink()||i.type===DC&&e.isFile(),Ql=class{constructor(e){this.fsw=e}checkIgnored(e,t){let r=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,t))return r.add(e),t&&t.isDirectory()&&r.add(e+$v),!0;r.delete(e),r.delete(e+$v)}addOrChange(e,t,r,s,a,n,c,l){let o=a.has(n)?TC:Gl;this.handleEvent(o,e,t,r,s,a,n,c,l)}async checkExists(e,t,r,s,a,n,c,l){try{let o=await Yl(e);if(this.fsw.closed)return;Zv(c,o)?this.addOrChange(e,t,r,s,a,n,c,l):this.handleEvent(io,e,t,r,s,a,n,c,l)}catch(o){o.code==="EACCES"?this.addOrChange(e,t,r,s,a,n,c,l):this.handleEvent(io,e,t,r,s,a,n,c,l)}}handleEvent(e,t,r,s,a,n,c,l,o){if(!(this.fsw.closed||this.checkIgnored(t)))if(e===io){let m=l.type===ha;(m||n.has(c))&&this.fsw._remove(a,c,m)}else{if(e===Gl){if(l.type===ha&&this.fsw._getWatchedDir(t),l.type===Xv&&o.followSymlinks){let d=o.depth===void 0?void 0:$l(r,s)+1;return this._addToFsEvents(t,!1,!0,d)}this.fsw._getWatchedDir(a).add(c)}let m=l.type===ha?e+UC:e;this.fsw._emit(m,t),m===Wv&&this._addToFsEvents(t,!1,!0)}}_watchWithFsEvents(e,t,r,s){if(this.fsw.closed||this.fsw._isIgnored(e))return;let a=this.fsw.options,c=GC(e,t,async(l,o,m)=>{if(this.fsw.closed||a.depth!==void 0&&$l(l,t)>a.depth)return;let d=r(_t.join(e,_t.relative(e,l)));if(s&&!s(d))return;let y=_t.dirname(d),A=_t.basename(d),b=this.fsw._getWatchedDir(m.type===ha?d:y);if(KC.has(o)||m.event===LC)if(typeof a.ignored===Wl){let h;try{h=await Yl(d)}catch{}if(this.fsw.closed||this.checkIgnored(d,h))return;Zv(m,h)?this.addOrChange(d,l,t,y,b,A,m,a):this.handleEvent(io,d,l,t,y,b,A,m,a)}else this.checkExists(d,l,t,y,b,A,m,a);else switch(m.event){case IC:case BC:return this.addOrChange(d,l,t,y,b,A,m,a);case NC:case OC:return this.checkExists(d,l,t,y,b,A,m,a)}},this.fsw._emitRaw);return this.fsw._emitReady(),c}async _handleFsEventsSymlink(e,t,r,s){if(!(this.fsw.closed||this.fsw._symlinkPaths.has(t))){this.fsw._symlinkPaths.set(t,!0),this.fsw._incrReadyCount();try{let a=await Qv(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(a))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(a||e,n=>{let c=e;return a&&a!==Yv?c=n.replace(a,e):n!==Yv&&(c=_t.join(e,n)),r(c)},!1,s)}catch(a){if(this.fsw._handleError(a))return this.fsw._emitReady()}}}emitAdd(e,t,r,s,a){let n=r(e),c=t.isDirectory(),l=this.fsw._getWatchedDir(_t.dirname(n)),o=_t.basename(n);c&&this.fsw._getWatchedDir(n),!l.has(o)&&(l.add(o),(!s.ignoreInitial||a===!0)&&this.fsw._emit(c?Wv:Gl,n,t))}initWatch(e,t,r,s){if(this.fsw.closed)return;let a=this._watchWithFsEvents(r.watchPath,_t.resolve(e||r.watchPath),s,r.globFilter);this.fsw._addPathCloser(t,a)}async _addToFsEvents(e,t,r,s){if(this.fsw.closed)return;let a=this.fsw.options,n=typeof t===Wl?t:FC,c=this.fsw._getWatchHelpers(e);try{let l=await jC[c.statMethod](c.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(c.watchPath,l))throw null;if(l.isDirectory()){if(c.globFilter||this.emitAdd(n(e),l,n,a,r),s&&s>a.depth)return;this.fsw._readdirp(c.watchPath,{fileFilter:o=>c.filterPath(o),directoryFilter:o=>c.filterDir(o),...VC(a.depth-(s||0))}).on(kC,o=>{if(this.fsw.closed||o.stats.isDirectory()&&!c.filterPath(o))return;let m=_t.join(c.watchPath,o.path),{fullPath:d}=o;if(c.followSymlinks&&o.stats.isSymbolicLink()){let y=a.depth===void 0?void 0:$l(m,_t.resolve(c.watchPath))+1;this._handleFsEventsSymlink(m,d,n,y)}else this.emitAdd(m,o.stats,n,a,r)}).on(AC,MC).on(RC,()=>{this.fsw._emitReady()})}else this.emitAdd(c.watchPath,l,n,a,r),this.fsw._emitReady()}catch(l){(!l||this.fsw._handleError(l))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(a.persistent&&r!==!0)if(typeof t===Wl)this.initWatch(void 0,e,c,n);else{let l;try{l=await Qv(c.watchPath)}catch{}this.initWatch(l,e,c,n)}}};Jl.exports=Ql;Jl.exports.canUse=$C});var mu=ie(hu=>{"use strict";V();var{EventEmitter:YC}=oe("events"),du=oe("fs"),Le=oe("path"),{promisify:ng}=oe("util"),QC=qm(),au=Wm().default,ZC=Jm(),eu=Ol(),XC=Pv(),JC=fo(),ew=Gv(),eg=Jv(),{EV_ALL:tu,EV_READY:tw,EV_ADD:so,EV_CHANGE:ma,EV_UNLINK:tg,EV_ADD_DIR:rw,EV_UNLINK_DIR:iw,EV_RAW:sw,EV_ERROR:ru,STR_CLOSE:aw,STR_END:nw,BACK_SLASH_RE:ow,DOUBLE_SLASH_RE:rg,SLASH_OR_BACK_SLASH_RE:cw,DOT_RE:lw,REPLACER_RE:uw,SLASH:iu,SLASH_SLASH:pw,BRACE_START:dw,BANG:nu,ONE_DOT:og,TWO_DOTS:fw,GLOBSTAR:hw,SLASH_GLOBSTAR:su,ANYMATCH_OPTS:ou,STRING_TYPE:fu,FUNCTION_TYPE:mw,EMPTY_STR:cu,EMPTY_FN:vw,isWindows:gw,isMacos:yw,isIBMi:xw}=Xn(),bw=ng(du.stat),_w=ng(du.readdir),lu=(i=[])=>Array.isArray(i)?i:[i],cg=(i,e=[])=>(i.forEach(t=>{Array.isArray(t)?cg(t,e):e.push(t)}),e),ig=i=>{let e=cg(lu(i));if(!e.every(t=>typeof t===fu))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(lg)},sg=i=>{let e=i.replace(ow,iu),t=!1;for(e.startsWith(pw)&&(t=!0);e.match(rg);)e=e.replace(rg,iu);return t&&(e=iu+e),e},lg=i=>sg(Le.normalize(sg(i))),ag=(i=cu)=>e=>typeof e!==fu?e:lg(Le.isAbsolute(e)?e:Le.join(i,e)),Ew=(i,e)=>Le.isAbsolute(i)?i:i.startsWith(nu)?nu+Le.join(e,i.slice(1)):Le.join(e,i),hr=(i,e)=>i[e]===void 0,uu=class{constructor(e,t){this.path=e,this._removeWatcher=t,this.items=new Set}add(e){let{items:t}=this;t&&e!==og&&e!==fw&&t.add(e)}async remove(e){let{items:t}=this;if(!t||(t.delete(e),t.size>0))return;let r=this.path;try{await _w(r)}catch{this._removeWatcher&&this._removeWatcher(Le.dirname(r),Le.basename(r))}}has(e){let{items:t}=this;if(t)return t.has(e)}getChildren(){let{items:e}=this;if(e)return[...e.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}},Sw="stat",Cw="lstat",pu=class{constructor(e,t,r,s){this.fsw=s,this.path=e=e.replace(uw,cu),this.watchPath=t,this.fullWatchPath=Le.resolve(t),this.hasGlob=t!==e,e===cu&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&r?void 0:!1,this.globFilter=this.hasGlob?au(e,void 0,ou):!1,this.dirParts=this.getDirParts(e),this.dirParts.forEach(a=>{a.length>1&&a.pop()}),this.followSymlinks=r,this.statMethod=r?Sw:Cw}checkGlobSymlink(e){return this.globSymlink===void 0&&(this.globSymlink=e.fullParentDir===this.fullWatchPath?!1:{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return Le.join(this.watchPath,Le.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){let{stats:t}=e;if(t&&t.isSymbolicLink())return this.filterDir(e);let r=this.entryPath(e);return(this.hasGlob&&typeof this.globFilter===mw?this.globFilter(r):!0)&&this.fsw._isntIgnored(r,t)&&this.fsw._hasReadPermissions(t)}getDirParts(e){if(!this.hasGlob)return[];let t=[];return(e.includes(dw)?XC.expand(e):[e]).forEach(s=>{t.push(Le.relative(this.watchPath,s).split(cw))}),t}filterDir(e){if(this.hasGlob){let t=this.getDirParts(this.checkGlobSymlink(e)),r=!1;this.unmatchedGlob=!this.dirParts.some(s=>s.every((a,n)=>(a===hw&&(r=!0),r||!t[0][n]||au(a,t[0][n],ou))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}},ao=class extends YC{constructor(e){super();let t={};e&&Object.assign(t,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,hr(t,"persistent")&&(t.persistent=!0),hr(t,"ignoreInitial")&&(t.ignoreInitial=!1),hr(t,"ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),hr(t,"interval")&&(t.interval=100),hr(t,"binaryInterval")&&(t.binaryInterval=300),hr(t,"disableGlobbing")&&(t.disableGlobbing=!1),t.enableBinaryInterval=t.binaryInterval!==t.interval,hr(t,"useFsEvents")&&(t.useFsEvents=!t.usePolling),eg.canUse()||(t.useFsEvents=!1),hr(t,"usePolling")&&!t.useFsEvents&&(t.usePolling=yw),xw&&(t.usePolling=!0);let s=process.env.CHOKIDAR_USEPOLLING;if(s!==void 0){let l=s.toLowerCase();l==="false"||l==="0"?t.usePolling=!1:l==="true"||l==="1"?t.usePolling=!0:t.usePolling=!!l}let a=process.env.CHOKIDAR_INTERVAL;a&&(t.interval=Number.parseInt(a,10)),hr(t,"atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=new Map),hr(t,"followSymlinks")&&(t.followSymlinks=!0),hr(t,"awaitWriteFinish")&&(t.awaitWriteFinish=!1),t.awaitWriteFinish===!0&&(t.awaitWriteFinish={});let n=t.awaitWriteFinish;n&&(n.stabilityThreshold||(n.stabilityThreshold=2e3),n.pollInterval||(n.pollInterval=100),this._pendingWrites=new Map),t.ignored&&(t.ignored=lu(t.ignored));let c=0;this._emitReady=()=>{c++,c>=this._readyCount&&(this._emitReady=vw,this._readyEmitted=!0,process.nextTick(()=>this.emit(tw)))},this._emitRaw=(...l)=>this.emit(sw,...l),this._readyEmitted=!1,this.options=t,t.useFsEvents?this._fsEventsHandler=new eg(this):this._nodeFsHandler=new ew(this),Object.freeze(t)}add(e,t,r){let{cwd:s,disableGlobbing:a}=this.options;this.closed=!1;let n=ig(e);return s&&(n=n.map(c=>{let l=Ew(c,s);return a||!eu(c)?l:JC(l)})),n=n.filter(c=>c.startsWith(nu)?(this._ignoredPaths.add(c.slice(1)),!1):(this._ignoredPaths.delete(c),this._ignoredPaths.delete(c+su),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=n.length),this.options.persistent&&(this._readyCount+=n.length),n.forEach(c=>this._fsEventsHandler._addToFsEvents(c))):(this._readyCount||(this._readyCount=0),this._readyCount+=n.length,Promise.all(n.map(async c=>{let l=await this._nodeFsHandler._addToNodeFs(c,!r,0,0,t);return l&&this._emitReady(),l})).then(c=>{this.closed||c.filter(l=>l).forEach(l=>{this.add(Le.dirname(l),Le.basename(t||l))})})),this}unwatch(e){if(this.closed)return this;let t=ig(e),{cwd:r}=this.options;return t.forEach(s=>{!Le.isAbsolute(s)&&!this._closers.has(s)&&(r&&(s=Le.join(r,s)),s=Le.resolve(s)),this._closePath(s),this._ignoredPaths.add(s),this._watched.has(s)&&this._ignoredPaths.add(s+su),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();let e=[];return this._closers.forEach(t=>t.forEach(r=>{let s=r();s instanceof Promise&&e.push(s)})),this._streams.forEach(t=>t.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(t=>t.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(t=>{this[`_${t}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){let e={};return this._watched.forEach((t,r)=>{let s=this.options.cwd?Le.relative(this.options.cwd,r):r;e[s||og]=t.getChildren().sort()}),e}emitWithAll(e,t){this.emit(...t),e!==ru&&this.emit(tu,...t)}async _emit(e,t,r,s,a){if(this.closed)return;let n=this.options;gw&&(t=Le.normalize(t)),n.cwd&&(t=Le.relative(n.cwd,t));let c=[e,t];a!==void 0?c.push(r,s,a):s!==void 0?c.push(r,s):r!==void 0&&c.push(r);let l=n.awaitWriteFinish,o;if(l&&(o=this._pendingWrites.get(t)))return o.lastChange=new Date,this;if(n.atomic){if(e===tg)return this._pendingUnlinks.set(t,c),setTimeout(()=>{this._pendingUnlinks.forEach((m,d)=>{this.emit(...m),this.emit(tu,...m),this._pendingUnlinks.delete(d)})},typeof n.atomic=="number"?n.atomic:100),this;e===so&&this._pendingUnlinks.has(t)&&(e=c[0]=ma,this._pendingUnlinks.delete(t))}if(l&&(e===so||e===ma)&&this._readyEmitted){let m=(d,y)=>{d?(e=c[0]=ru,c[1]=d,this.emitWithAll(e,c)):y&&(c.length>2?c[2]=y:c.push(y),this.emitWithAll(e,c))};return this._awaitWriteFinish(t,l.stabilityThreshold,e,m),this}if(e===ma&&!this._throttle(ma,t,50))return this;if(n.alwaysStat&&r===void 0&&(e===so||e===rw||e===ma)){let m=n.cwd?Le.join(n.cwd,t):t,d;try{d=await bw(m)}catch{}if(!d||this.closed)return;c.push(d)}return this.emitWithAll(e,c),this}_handleError(e){let t=e&&e.code;return e&&t!=="ENOENT"&&t!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||t!=="EPERM"&&t!=="EACCES")&&this.emit(ru,e),e||this.closed}_throttle(e,t,r){this._throttled.has(e)||this._throttled.set(e,new Map);let s=this._throttled.get(e),a=s.get(t);if(a)return a.count++,!1;let n,c=()=>{let o=s.get(t),m=o?o.count:0;return s.delete(t),clearTimeout(n),o&&clearTimeout(o.timeoutObject),m};n=setTimeout(c,r);let l={timeoutObject:n,clear:c,count:0};return s.set(t,l),l}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,t,r,s){let a,n=e;this.options.cwd&&!Le.isAbsolute(e)&&(n=Le.join(this.options.cwd,e));let c=new Date,l=o=>{du.stat(n,(m,d)=>{if(m||!this._pendingWrites.has(e)){m&&m.code!=="ENOENT"&&s(m);return}let y=Number(new Date);o&&d.size!==o.size&&(this._pendingWrites.get(e).lastChange=y);let A=this._pendingWrites.get(e);y-A.lastChange>=t?(this._pendingWrites.delete(e),s(void 0,d)):a=setTimeout(l,this.options.awaitWriteFinish.pollInterval,d)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:c,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(a),r)}),a=setTimeout(l,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,t){if(this.options.atomic&&lw.test(e))return!0;if(!this._userIgnored){let{cwd:r}=this.options,s=this.options.ignored,a=s&&s.map(ag(r)),n=lu(a).filter(l=>typeof l===fu&&!eu(l)).map(l=>l+su),c=this._getGlobIgnored().map(ag(r)).concat(a,n);this._userIgnored=au(c,void 0,ou)}return this._userIgnored([e,t])}_isntIgnored(e,t){return!this._isIgnored(e,t)}_getWatchHelpers(e,t){let r=t||this.options.disableGlobbing||!eu(e)?e:ZC(e),s=this.options.followSymlinks;return new pu(e,r,s,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));let t=Le.resolve(e);return this._watched.has(t)||this._watched.set(t,new uu(t,this._boundRemove)),this._watched.get(t)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;let r=(e&&Number.parseInt(e.mode,10))&511;return!!(4&Number.parseInt(r.toString(8)[0],10))}_remove(e,t,r){let s=Le.join(e,t),a=Le.resolve(s);if(r=r??(this._watched.has(s)||this._watched.has(a)),!this._throttle("remove",s,100))return;!r&&!this.options.useFsEvents&&this._watched.size===1&&this.add(e,t,!0),this._getWatchedDir(s).getChildren().forEach(y=>this._remove(s,y));let l=this._getWatchedDir(e),o=l.has(t);l.remove(t),this._symlinkPaths.has(a)&&this._symlinkPaths.delete(a);let m=s;if(this.options.cwd&&(m=Le.relative(this.options.cwd,s)),this.options.awaitWriteFinish&&this._pendingWrites.has(m)&&this._pendingWrites.get(m).cancelWait()===so)return;this._watched.delete(s),this._watched.delete(a);let d=r?iw:tg;o&&!this._isIgnored(s)&&this._emit(d,s),this.options.useFsEvents||this._closePath(s)}_closePath(e){this._closeFile(e);let t=Le.dirname(e);this._getWatchedDir(t).remove(Le.basename(e))}_closeFile(e){let t=this._closers.get(e);t&&(t.forEach(r=>r()),this._closers.delete(e))}_addPathCloser(e,t){if(!t)return;let r=this._closers.get(e);r||(r=[],this._closers.set(e,r)),r.push(t)}_readdirp(e,t){if(this.closed)return;let r={type:tu,alwaysStat:!0,lstat:!0,...t},s=QC(e,r);return this._streams.add(s),s.once(aw,()=>{s=void 0}),s.once(nw,()=>{s&&(this._streams.delete(s),s=void 0)}),s}};hu.FSWatcher=ao;var ww=(i,e)=>{let t=new ao(e);return t.add(i),t};hu.watch=ww});var pg=ie((S3,ug)=>{"use strict";V();var Tw={wait:0,maxWait:1/0,leading:!1,trailing:!0},no=()=>{};ug.exports=Aw;function Aw(i,e={}){if(typeof i!="function")throw new Error("Required: the function to debounce");typeof e=="number"&&(e={wait:e}),e=Object.assign({},Tw,e);let t=[],r={lastCall:new Date(0),lastFlush:new Date},s;return function(...c){clearTimeout(s),t.push(c);let l={now:new Date,...r};if(r.lastCall=l.now,l.sinceLastCall=l.now-l.lastCall,l.sinceLastFlush=l.now-l.lastFlush,no("[0] Data:",{opts:e,vars:l,[`sinceLastFlush (${l.sinceLastFlush}) >= (${e.maxWait}) maxWait`]:l.sinceLastFlush>=e.maxWait,[`sinceLastCall (${l.sinceLastCall}) >= (${e.wait}) wait`]:l.sinceLastCall>=e.wait,[`leading (${e.leading}) && (sinceLastCall >= wait)`]:e.leading&&l.sinceLastCall>=e.wait}),l.sinceLastFlush>=e.maxWait||e.leading&&l.sinceLastCall>=e.wait)return no("[1] Calling now"),i(a(l.now,t));e.trailing!==!1&&(no("[2] Setting timer"),s=setTimeout(()=>(no("[3] Timer launching"),i(a(l.now,t))),e.wait))};function a(n=new Date,c=t){return r.lastFlush=n,c.splice(0,c.length)}}});V();V();V();var Gi=Ve(go(),1);import{createRequire as Eb}from"node:module";import{createServer as qb}from"node:https";import{createServer as jb}from"node:http";import{mkdir as Kb}from"node:fs/promises";import{resolve as zb}from"node:path";import{homedir as Gb}from"node:os";import Wb from"node:process";import{readFile as eE,writeFile as tE,stat as rE}from"node:fs/promises";import iE from"node:path";V();var Bf=Ve(If(),1),{Server:Nf,Namespace:XT,Socket:JT}=Bf.default;var nm=Ve(go(),1);V();V();V();V();V();V();V();V();V();V();var cr=Object.create(null);cr.open="0";cr.close="1";cr.ping="2";cr.pong="3";cr.message="4";cr.upgrade="5";cr.noop="6";var As=Object.create(null);Object.keys(cr).forEach(i=>{As[cr[i]]=i});var ks={type:"error",data:"parser error"};var Rs=({type:i,data:e},t,r)=>e instanceof ArrayBuffer||ArrayBuffer.isView(e)?r(t?e:"b"+Of(e,!0).toString("base64")):r(cr[i]+(e||"")),Of=(i,e)=>Buffer.isBuffer(i)||i instanceof Uint8Array&&!e?i:i instanceof ArrayBuffer?Buffer.from(i):Buffer.from(i.buffer,i.byteOffset,i.byteLength),Uc;function Lf(i,e){if(i.data instanceof ArrayBuffer||ArrayBuffer.isView(i.data))return e(Of(i.data,!1));Rs(i,!0,t=>{Uc||(Uc=new TextEncoder),e(Uc.encode(t))})}V();var Is=(i,e)=>{if(typeof i!="string")return{type:"message",data:Pf(i,e)};let t=i.charAt(0);if(t==="b"){let r=Buffer.from(i.substring(1),"base64");return{type:"message",data:Pf(r,e)}}return As[t]?i.length>1?{type:As[t],data:i.substring(1)}:{type:As[t]}:ks},Pf=(i,e)=>{switch(e){case"arraybuffer":return i instanceof ArrayBuffer?i:Buffer.isBuffer(i)?i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength):i.buffer;case"nodebuffer":default:return Buffer.isBuffer(i)?i:Buffer.from(i)}};var Df="",Uf=(i,e)=>{let t=i.length,r=new Array(t),s=0;i.forEach((a,n)=>{Rs(a,!1,c=>{r[n]=c,++s===t&&e(r.join(Df))})})},Mf=(i,e)=>{let t=i.split(Df),r=[];for(let s=0;s<t.length;s++){let a=Is(t[s],e);if(r.push(a),a.type==="error")break}return r};function Ff(){return new TransformStream({transform(i,e){Lf(i,t=>{let r=t.length,s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);let a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{s=new Uint8Array(9);let a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}i.data&&typeof i.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}var Mc;function hn(i){return i.reduce((e,t)=>e+t.length,0)}function mn(i,e){if(i[0].length===e)return i.shift();let t=new Uint8Array(e),r=0;for(let s=0;s<e;s++)t[s]=i[0][r++],r===i[0].length&&(i.shift(),r=0);return i.length&&r<i[0].length&&(i[0]=i[0].slice(r)),t}function Vf(i,e){Mc||(Mc=new TextDecoder);let t=[],r=0,s=-1,a=!1;return new TransformStream({transform(n,c){for(t.push(n);;){if(r===0){if(hn(t)<1)break;let l=mn(t,1);a=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(hn(t)<2)break;let l=mn(t,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(hn(t)<8)break;let l=mn(t,8),o=new DataView(l.buffer,l.byteOffset,l.length),m=o.getUint32(0);if(m>Math.pow(2,21)-1){c.enqueue(ks);break}s=m*Math.pow(2,32)+o.getUint32(4),r=3}else{if(hn(t)<s)break;let l=mn(t,s);c.enqueue(Is(a?l:Mc.decode(l),e)),r=0}if(s===0||s>i){c.enqueue(ks);break}}}})}var Fc=4;Yr();V();V();var lr=global;function vn(i,...e){return e.reduce((t,r)=>(i.hasOwnProperty(r)&&(t[r]=i[r]),t),{})}var Zx=lr.setTimeout,Xx=lr.clearTimeout;function Nr(i,e){e.useNativeTimers?(i.setTimeoutFn=Zx.bind(lr),i.clearTimeoutFn=Xx.bind(lr)):(i.setTimeoutFn=lr.setTimeout.bind(lr),i.clearTimeoutFn=lr.clearTimeout.bind(lr))}var Jx=1.33;function qf(i){return typeof i=="string"?eb(i):Math.ceil((i.byteLength||i.size)*Jx)}function eb(i){let e=0,t=0;for(let r=0,s=i.length;r<s;r++)e=i.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}var Kf=Ve(Ue(),1);V();function jf(i){let e="";for(let t in i)i.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(i[t]));return e}function Hf(i){let e={},t=i.split("&");for(let r=0,s=t.length;r<s;r++){let a=t[r].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}var tb=(0,Kf.default)("engine.io-client:transport"),Vc=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},Or=class extends De{constructor(e){super(),this.writable=!1,Nr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new Vc(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):tb("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=Is(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=jf(e);return t.length?"?"+t:""}};var eh=Ve(Ue(),1);V();var $f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),qc=64,rb={},zf=0,gn=0,Gf;function Wf(i){let e="";do e=$f[i%qc]+e,i=Math.floor(i/qc);while(i>0);return e}function yn(){let i=Wf(+new Date);return i!==Gf?(zf=0,Gf=i):i+"."+Wf(zf++)}for(;gn<qc;gn++)rb[$f[gn]]=gn;V();var Kc=Ve(Zf(),1),zc=Kc.default||Kc;function Xf(){return new Hc}function sb(i){let e=i.split("; "),t=e[0].indexOf("=");if(t===-1)return;let r=e[0].substring(0,t).trim();if(!r.length)return;let s=e[0].substring(t+1).trim();s.charCodeAt(0)===34&&(s=s.slice(1,-1));let a={name:r,value:s};for(let n=1;n<e.length;n++){let c=e[n].split("=");if(c.length!==2)continue;let l=c[0].trim(),o=c[1].trim();switch(l){case"Expires":a.expires=new Date(o);break;case"Max-Age":let m=new Date;m.setUTCSeconds(m.getUTCSeconds()+parseInt(o,10)),a.expires=m;break;default:}}return a}var Hc=class{constructor(){this.cookies=new Map}parseCookies(e){let t=e.getResponseHeader("set-cookie");t&&t.forEach(r=>{let s=sb(r);s&&this.cookies.set(s.name,s)})}addCookies(e){let t=[];this.cookies.forEach((r,s)=>{var a;((a=r.expires)===null||a===void 0?void 0:a.getTime())<Date.now()?this.cookies.delete(s):t.push(`${s}=${r.value}`)}),t.length&&(e.setDisableHeaderCheck(!0),e.setRequestHeader("cookie",t.join("; ")))}};Yr();var Lt=(0,eh.default)("engine.io-client:polling");function ab(){}var nb=function(){return new zc({xdomain:!1}).responseType!=null}(),xn=class extends Or{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){let r=location.protocol==="https:",s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}let t=e&&e.forceBase64;this.supportsBinary=nb&&!t,this.opts.withCredentials&&(this.cookieJar=Xf())}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let t=()=>{Lt("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(Lt("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){Lt("pre-pause polling complete"),--r||t()})),this.writable||(Lt("we are currently writing - waiting to pause"),r++,this.once("drain",function(){Lt("pre-pause writing complete"),--r||t()}))}else t()}poll(){Lt("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){Lt("polling got data %s",e);let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Mf(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"?this.poll():Lt('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{Lt("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(Lt("transport open - closing"),e()):(Lt("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,Uf(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=yn()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Xr(this.uri(),e)}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){Lt("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},Xr=class i extends De{constructor(e,t){super(),Nr(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;let t=vn(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;let r=this.xhr=new zc(t);try{Lt("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},Lt("xhr data %s",this.data),r.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=i.requestsCount++,i.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ab,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Xr.requestsCount=0;Xr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Jf);else if(typeof addEventListener=="function"){let i="onpagehide"in lr?"pagehide":"unload";addEventListener(i,Jf,!1)}}function Jf(){for(let i in Xr.requests)Xr.requests.hasOwnProperty(i)&&Xr.requests[i].abort()}V();V();V();var ob=Ve(ic(),1),cb=Ve(qa(),1),lb=Ve(ja(),1),th=Ve(Wa(),1),ub=Ve(ac(),1);var rh=th.default;var Bs=rh,bn=!1,ih="nodebuffer",pi=process.nextTick;var ah=Ve(Ue(),1);var pb=(0,ah.default)("engine.io-client:websocket"),sh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",_n=class extends Or{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),t=this.opts.protocols,r=sh?{}:vn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=bn&&!sh?t?new Bs(e,t):new Bs(e):new Bs(e,t,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],s=t===e.length-1;Rs(r,this.supportsBinary,a=>{let n={};bn||(r.options&&(n.compress=r.options.compress),this.opts.perMessageDeflate&&(typeof a=="string"?Buffer.byteLength(a):a.length)<this.opts.perMessageDeflate.threshold&&(n.compress=!1));try{bn?this.ws.send(a):this.ws.send(a,n)}catch{pb("websocket closed before onclose event")}s&&pi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=yn()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Bs}};V();var nh=Ve(Ue(),1),Ns=(0,nh.default)("engine.io-client:webtransport"),En=class extends Or{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{Ns("transport closed gracefully"),this.onClose()}).catch(e=>{Ns("transport closed due to %s",e),this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let t=Vf(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),s=Ff();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();let a=()=>{r.read().then(({done:c,value:l})=>{if(c){Ns("session is closed");return}Ns("received chunk: %o",l),this.onPacket(l),a()}).catch(c=>{Ns("an error occurred while reading: %s",c)})};a();let n={type:"open"};this.query.sid&&(n.data=`{"sid":"${this.query.sid}"}`),this.writer.write(n).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],s=t===e.length-1;this.writer.write(r).then(()=>{s&&pi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}};var Gc={websocket:_n,webtransport:En,polling:xn};V();var db=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,fb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Vi(i){let e=i,t=i.indexOf("["),r=i.indexOf("]");t!=-1&&r!=-1&&(i=i.substring(0,t)+i.substring(t,r).replace(/:/g,";")+i.substring(r,i.length));let s=db.exec(i||""),a={},n=14;for(;n--;)a[fb[n]]=s[n]||"";return t!=-1&&r!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=hb(a,a.path),a.queryKey=mb(a,a.query),a}function hb(i,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function mb(i,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,a){s&&(t[s]=a)}),t}var oh=Ve(Ue(),1);Yr();var He=(0,oh.default)("engine.io-client:socket"),di=class i extends De{constructor(e,t={}){super(),this.binaryType=ih,this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=Vi(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Vi(t.host).host),Nr(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Hf(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){He('creating transport "%s"',e);let t=Object.assign({},this.opts.query);t.EIO=Fc,t.transport=e,this.id&&(t.sid=this.id);let r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return He("options: %j",r),new Gc[e](r)}open(){let e;if(this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(t){He("error while creating transport: %s",t),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){He("setting transport %s",e.name),this.transport&&(He("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){He('probing transport "%s"',e);let t=this.createTransport(e),r=!1;i.priorWebsocketSuccess=!1;let s=()=>{r||(He('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(He('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;i.priorWebsocketSuccess=t.name==="websocket",He('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{r||this.readyState!=="closed"&&(He("changing transport and sending upgrade packet"),m(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{He('probe transport "%s" failed',e);let y=new Error("probe error");y.transport=t.name,this.emitReserved("upgradeError",y)}}))};function a(){r||(r=!0,m(),t.close(),t=null)}let n=d=>{let y=new Error("probe error: "+d);y.transport=t.name,a(),He('probe transport "%s" failed because of error: %s',e,d),this.emitReserved("upgradeError",y)};function c(){n("transport closed")}function l(){n("socket closed")}function o(d){t&&d.name!==t.name&&(He('"%s" works - aborting "%s"',d.name,t.name),a())}let m=()=>{t.removeListener("open",s),t.removeListener("error",n),t.removeListener("close",c),this.off("close",l),this.off("upgrading",o)};t.once("open",s),t.once("error",n),t.once("close",c),this.once("close",l),this.once("upgrading",o),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onOpen(){if(He("socket open"),this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){He("starting upgrade probes");let e=0,t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(He('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}else He('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this.getWritablePackets();He("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){let s=this.writeBuffer[r].data;if(s&&(t+=qf(s)),r>0&&t>this.maxPayload)return He("only send %d out of %d packets",r,this.writeBuffer.length),this.writeBuffer.slice(0,r);t+=2}return He("payload size is %d (max: %d)",t,this.maxPayload),this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,s){if(typeof t=="function"&&(s=t,t=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let a={type:e,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){let e=()=>{this.onClose("forced close"),He("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){He("socket error %j",e),i.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(He('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let t=[],r=0,s=e.length;for(;r<s;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}};di.protocol=Fc;var Sk=di.protocol;var lh=Ve(Ue(),1),ch=(0,lh.default)("socket.io-client:url");function uh(i,e="",t){let r=i;t=t||typeof location<"u"&&location,i==null&&(i=t.protocol+"//"+t.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=t.protocol+i:i=t.host+i),/^(https?|wss?):\/\//.test(i)||(ch("protocol-less url %s",i),typeof t<"u"?i=t.protocol+"//"+i:i="https://"+i),ch("parse %s",i),r=Vi(i)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+e,r.href=r.protocol+"://"+a+(t&&t.port===r.port?"":":"+r.port),r}V();V();var Jc={};yu(Jc,{Decoder:()=>Zc,Encoder:()=>Qc,PacketType:()=>Re,protocol:()=>vh});V();Yr();V();V();var vb=typeof ArrayBuffer=="function",gb=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,ph=Object.prototype.toString,yb=typeof Blob=="function"||typeof Blob<"u"&&ph.call(Blob)==="[object BlobConstructor]",xb=typeof File=="function"||typeof File<"u"&&ph.call(File)==="[object FileConstructor]";function Ls(i){return vb&&(i instanceof ArrayBuffer||gb(i))||yb&&i instanceof Blob||xb&&i instanceof File}function Os(i,e){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let t=0,r=i.length;t<r;t++)if(Os(i[t]))return!0;return!1}if(Ls(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Os(i.toJSON(),!0);for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&Os(i[t]))return!0;return!1}function dh(i){let e=[],t=i.data,r=i;return r.data=Wc(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Wc(i,e){if(!i)return i;if(Ls(i)){let t={_placeholder:!0,num:e.length};return e.push(i),t}else if(Array.isArray(i)){let t=new Array(i.length);for(let r=0;r<i.length;r++)t[r]=Wc(i[r],e);return t}else if(typeof i=="object"&&!(i instanceof Date)){let t={};for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=Wc(i[r],e));return t}return i}function fh(i,e){return i.data=$c(i.data,e),delete i.attachments,i}function $c(i,e){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<e.length)return e[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let t=0;t<i.length;t++)i[t]=$c(i[t],e);else if(typeof i=="object")for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&(i[t]=$c(i[t],e));return i}var mh=Ve(Ue(),1),Yc=(0,mh.default)("socket.io-parser"),bb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],vh=5,Re;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(Re||(Re={}));var Qc=class{constructor(e){this.replacer=e}encode(e){return Yc("encoding packet %j",e),(e.type===Re.EVENT||e.type===Re.ACK)&&Os(e)?this.encodeAsBinary({type:e.type===Re.EVENT?Re.BINARY_EVENT:Re.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Re.BINARY_EVENT||e.type===Re.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),Yc("encoded %j as %s",e,t),t}encodeAsBinary(e){let t=dh(e),r=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(r),s}};function hh(i){return Object.prototype.toString.call(i)==="[object Object]"}var Zc=class i extends De{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===Re.BINARY_EVENT;r||t.type===Re.BINARY_ACK?(t.type=r?Re.EVENT:Re.ACK,this.reconstructor=new Xc(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Ls(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(Re[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Re.BINARY_EVENT||r.type===Re.BINARY_ACK){let a=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let n=e.substring(a,t);if(n!=Number(n)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(n)}if(e.charAt(t+1)==="/"){let a=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(a,t)}else r.nsp="/";let s=e.charAt(t+1);if(s!==""&&Number(s)==s){let a=t+1;for(;++t;){let n=e.charAt(t);if(n==null||Number(n)!=n){--t;break}if(t===e.length)break}r.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){let a=this.tryParse(e.substr(t));if(i.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return Yc("decoded %s as %j",e,r),r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Re.CONNECT:return hh(t);case Re.DISCONNECT:return t===void 0;case Re.CONNECT_ERROR:return typeof t=="string"||hh(t);case Re.EVENT:case Re.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&bb.indexOf(t[0])===-1);case Re.ACK:case Re.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Xc=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=fh(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};V();function Kt(i,e,t){return i.on(e,t),function(){i.off(e,t)}}Yr();var gh=Ve(Ue(),1),rt=(0,gh.default)("socket.io-client:socket"),_b=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),qi=class extends De{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Kt(e,"open",this.onopen.bind(this)),Kt(e,"packet",this.onpacket.bind(this)),Kt(e,"error",this.onerror.bind(this)),Kt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(_b.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let r={type:Re.EVENT,data:t};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let n=this.ids++;rt("emitting packet with ack id %d",n);let c=t.pop();this._registerAckCallback(n,c),r.id=n}let s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)?rt("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r),this.flags={},this}_registerAckCallback(e,t){var r;let s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}let a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&(rt("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(c,1));rt("event with ack id %d has timed out after %d ms",e,s),t.call(this,new Error("operation has timed out"))},s),n=(...c)=>{this.io.clearTimeoutFn(a),t.apply(this,c)};n.withError=!0,this.acks[e]=n}emitWithAck(e,...t){return new Promise((r,s)=>{let a=(n,c)=>n?s(n):r(c);a.withError=!0,t.push(a),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...a)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(rt("packet [%d] is discarded after %d tries",r.id,r.tryCount),this._queue.shift(),t&&t(s)):(rt("packet [%d] was successfully sent",r.id),this._queue.shift(),t&&t(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(rt("draining queue"),!this.connected||this._queue.length===0)return;let t=this._queue[0];if(t.pending&&!e){rt("packet [%d] has already been sent and is waiting for an ack",t.id);return}t.pending=!0,t.tryCount++,rt("sending packet [%d] (try n\xB0%d)",t.id,t.tryCount),this.flags=t.flags,this.emit.apply(this,t.args)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){rt("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Re.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){rt("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Re.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Re.EVENT:case Re.BINARY_EVENT:this.onevent(e);break;case Re.ACK:case Re.BINARY_ACK:this.onack(e);break;case Re.DISCONNECT:this.ondisconnect();break;case Re.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];rt("emitting event %j",t),e.id!=null&&(rt("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...s){r||(r=!0,rt("sending ack %j",s),t.packet({type:Re.ACK,id:e,data:s}))}}onack(e){let t=this.acks[e.id];if(typeof t!="function"){rt("bad ack %s",e.id);return}delete this.acks[e.id],rt("calling ack %s with %j",e.id,e.data),t.withError&&e.data.unshift(null),t.apply(this,e.data)}onconnect(e,t){rt("socket connected with id %s",e),this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){rt("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(rt("performing disconnect (%s)",this.nsp),this.packet({type:Re.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};V();function fi(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}fi.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*i);i=Math.floor(e*10)&1?i+t:i-t}return Math.min(i,this.max)|0};fi.prototype.reset=function(){this.attempts=0};fi.prototype.setMin=function(i){this.ms=i};fi.prototype.setMax=function(i){this.max=i};fi.prototype.setJitter=function(i){this.jitter=i};Yr();var yh=Ve(Ue(),1),St=(0,yh.default)("socket.io-client:manager"),ji=class extends De{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Nr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new fi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let s=t.parser||Jc;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(St("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;St("opening %s",this.uri),this.engine=new di(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let s=Kt(t,"open",function(){r.onopen(),e&&e()}),a=c=>{St("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},n=Kt(t,"error",a);if(this._timeout!==!1){let c=this._timeout;St("connect attempt will timeout after %d",c);let l=this.setTimeoutFn(()=>{St("connect attempt timed out after %d",c),s(),a(new Error("timeout")),t.close()},c);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(n),this}connect(e){return this.open(e)}onopen(){St("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Kt(e,"ping",this.onping.bind(this)),Kt(e,"data",this.ondata.bind(this)),Kt(e,"error",this.onerror.bind(this)),Kt(e,"close",this.onclose.bind(this)),Kt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){pi(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){St("error",e),this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new qi(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active){St("socket %s is still active, skipping close",r);return}this._close()}_packet(e){St("writing packet %j",e);let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){St("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){St("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){St("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)St("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();St("will wait %dms before reconnect attempt",t),this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(St("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(St("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):(St("reconnect success"),e.onreconnect())}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var bh=Ve(Ue(),1),xh=(0,bh.default)("socket.io-client"),Ps={};function Sn(i,e){typeof i=="object"&&(e=i,i=void 0),e=e||{};let t=uh(i,e.path||"/socket.io"),r=t.source,s=t.id,a=t.path,n=Ps[s]&&a in Ps[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||n,l;return c?(xh("ignoring socket cache for %s",r),l=new ji(r,e)):(Ps[s]||(xh("new io instance for %s",r),Ps[s]=new ji(r,e)),l=Ps[s]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(Sn,{Manager:ji,Socket:qi,io:Sn,connect:Sn});var Hi=Eb(import.meta.url),Sb=Object.create,Sh=Object.defineProperty,Cb=Object.getOwnPropertyDescriptor,Ch=Object.getOwnPropertyNames,wb=Object.getPrototypeOf,Tb=Object.prototype.hasOwnProperty,ul=(i=>typeof Hi<"u"?Hi:typeof Proxy<"u"?new Proxy(i,{get:(e,t)=>(typeof Hi<"u"?Hi:e)[t]}):i)(function(i){if(typeof Hi<"u")return Hi.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')}),Ee=(i,e)=>function(){return e||(0,i[Ch(i)[0]])((e={exports:{}}).exports,e),e.exports},Ab=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Ch(e))!Tb.call(i,s)&&s!==t&&Sh(i,s,{get:()=>e[s],enumerable:!(r=Cb(e,s))||r.enumerable});return i},kb=(i,e,t)=>(t=i!=null?Sb(wb(i)):{},Ab(e||!i||!i.__esModule?Sh(t,"default",{value:i,enumerable:!0}):t,i)),Ae=Ee({"../../node_modules/node-forge/lib/forge.js"(i,e){"use strict";e.exports={options:{usePureJavaScript:!1}}}}),Rb=Ee({"../../node_modules/node-forge/lib/baseN.js"(i,e){"use strict";var t={};e.exports=t;var r={};t.encode=function(a,n,c){if(typeof n!="string")throw new TypeError('"alphabet" must be a string.');if(c!==void 0&&typeof c!="number")throw new TypeError('"maxline" must be a number.');var l="";if(!(a instanceof Uint8Array))l=s(a,n);else{var o=0,m=n.length,d=n.charAt(0),y=[0];for(o=0;o<a.length;++o){for(var A=0,b=a[o];A<y.length;++A)b+=y[A]<<8,y[A]=b%m,b=b/m|0;for(;b>0;)y.push(b%m),b=b/m|0}for(o=0;a[o]===0&&o<a.length-1;++o)l+=d;for(o=y.length-1;o>=0;--o)l+=n[y[o]]}if(c){var h=new RegExp(".{1,"+c+"}","g");l=l.match(h).join(`\r
`)}return l},t.decode=function(a,n){if(typeof a!="string")throw new TypeError('"input" must be a string.');if(typeof n!="string")throw new TypeError('"alphabet" must be a string.');var c=r[n];if(!c){c=r[n]=[];for(var l=0;l<n.length;++l)c[n.charCodeAt(l)]=l}a=a.replace(/\s/g,"");for(var o=n.length,m=n.charAt(0),d=[0],l=0;l<a.length;l++){var y=c[a.charCodeAt(l)];if(y===void 0)return;for(var A=0,b=y;A<d.length;++A)b+=d[A]*o,d[A]=b&255,b>>=8;for(;b>0;)d.push(b&255),b>>=8}for(var h=0;a[h]===m&&h<a.length-1;++h)d.push(0);return typeof Buffer<"u"?Buffer.from(d.reverse()):new Uint8Array(d.reverse())};function s(a,n){var c=0,l=n.length,o=n.charAt(0),m=[0];for(c=0;c<a.length();++c){for(var d=0,y=a.at(c);d<m.length;++d)y+=m[d]<<8,m[d]=y%l,y=y/l|0;for(;y>0;)m.push(y%l),y=y/l|0}var A="";for(c=0;a.at(c)===0&&c<a.length()-1;++c)A+=o;for(c=m.length-1;c>=0;--c)A+=n[m[c]];return A}}}),Oe=Ee({"../../node_modules/node-forge/lib/util.js"(i,e){"use strict";var t=Ae(),r=Rb(),s=e.exports=t.util=t.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){s.nextTick=process.nextTick,typeof setImmediate=="function"?s.setImmediate=setImmediate:s.setImmediate=s.nextTick;return}if(typeof setImmediate=="function"){s.setImmediate=function(){return setImmediate.apply(void 0,arguments)},s.nextTick=function(u){return setImmediate(u)};return}if(s.setImmediate=function(u){setTimeout(u,0)},typeof window<"u"&&typeof window.postMessage=="function"){let u=function(T){if(T.source===window&&T.data===_){T.stopPropagation();var P=C.slice();C.length=0,P.forEach(function(q){q()})}};var p=u,_="forge.setImmediate",C=[];s.setImmediate=function(T){C.push(T),C.length===1&&window.postMessage(_,"*")},window.addEventListener("message",u,!0)}if(typeof MutationObserver<"u"){var k=Date.now(),N=!0,x=document.createElement("div"),C=[];new MutationObserver(function(){var T=C.slice();C.length=0,T.forEach(function(P){P()})}).observe(x,{attributes:!0});var f=s.setImmediate;s.setImmediate=function(T){Date.now()-k>15?(k=Date.now(),f(T)):(C.push(T),C.length===1&&x.setAttribute("a",N=!N))}}s.nextTick=s.setImmediate})(),s.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,s.globalScope=function(){return s.isNodejs?global:typeof self>"u"?window:self}(),s.isArray=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},s.isArrayBuffer=function(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer},s.isArrayBufferView=function(p){return p&&s.isArrayBuffer(p.buffer)&&p.byteLength!==void 0};function a(p){if(!(p===8||p===16||p===24||p===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+p)}s.ByteBuffer=n;function n(p){if(this.data="",this.read=0,typeof p=="string")this.data=p;else if(s.isArrayBuffer(p)||s.isArrayBufferView(p))if(typeof Buffer<"u"&&p instanceof Buffer)this.data=p.toString("binary");else{var _=new Uint8Array(p);try{this.data=String.fromCharCode.apply(null,_)}catch{for(var C=0;C<_.length;++C)this.putByte(_[C])}}else(p instanceof n||typeof p=="object"&&typeof p.data=="string"&&typeof p.read=="number")&&(this.data=p.data,this.read=p.read);this._constructedStringLength=0}s.ByteStringBuffer=n;var c=4096;s.ByteStringBuffer.prototype._optimizeConstructedString=function(p){this._constructedStringLength+=p,this._constructedStringLength>c&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(p){return this.putBytes(String.fromCharCode(p))},s.ByteStringBuffer.prototype.fillWithByte=function(p,_){p=String.fromCharCode(p);for(var C=this.data;_>0;)_&1&&(C+=p),_>>>=1,_>0&&(p+=p);return this.data=C,this._optimizeConstructedString(_),this},s.ByteStringBuffer.prototype.putBytes=function(p){return this.data+=p,this._optimizeConstructedString(p.length),this},s.ByteStringBuffer.prototype.putString=function(p){return this.putBytes(s.encodeUtf8(p))},s.ByteStringBuffer.prototype.putInt16=function(p){return this.putBytes(String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},s.ByteStringBuffer.prototype.putInt24=function(p){return this.putBytes(String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},s.ByteStringBuffer.prototype.putInt32=function(p){return this.putBytes(String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},s.ByteStringBuffer.prototype.putInt16Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>24&255))},s.ByteStringBuffer.prototype.putInt=function(p,_){a(_);var C="";do _-=8,C+=String.fromCharCode(p>>_&255);while(_>0);return this.putBytes(C)},s.ByteStringBuffer.prototype.putSignedInt=function(p,_){return p<0&&(p+=2<<_-1),this.putInt(p,_)},s.ByteStringBuffer.prototype.putBuffer=function(p){return this.putBytes(p.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var p=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,p},s.ByteStringBuffer.prototype.getInt24=function(){var p=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,p},s.ByteStringBuffer.prototype.getInt32=function(){var p=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,p},s.ByteStringBuffer.prototype.getInt16Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,p},s.ByteStringBuffer.prototype.getInt24Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,p},s.ByteStringBuffer.prototype.getInt32Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,p},s.ByteStringBuffer.prototype.getInt=function(p){a(p);var _=0;do _=(_<<8)+this.data.charCodeAt(this.read++),p-=8;while(p>0);return _},s.ByteStringBuffer.prototype.getSignedInt=function(p){var _=this.getInt(p),C=2<<p-2;return _>=C&&(_-=C<<1),_},s.ByteStringBuffer.prototype.getBytes=function(p){var _;return p?(p=Math.min(this.length(),p),_=this.data.slice(this.read,this.read+p),this.read+=p):p===0?_="":(_=this.read===0?this.data:this.data.slice(this.read),this.clear()),_},s.ByteStringBuffer.prototype.bytes=function(p){return typeof p>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+p)},s.ByteStringBuffer.prototype.at=function(p){return this.data.charCodeAt(this.read+p)},s.ByteStringBuffer.prototype.setAt=function(p,_){return this.data=this.data.substr(0,this.read+p)+String.fromCharCode(_)+this.data.substr(this.read+p+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var p=s.createBuffer(this.data);return p.read=this.read,p},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(p){var _=Math.max(0,this.length()-p);return this.data=this.data.substr(this.read,_),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var p="",_=this.read;_<this.data.length;++_){var C=this.data.charCodeAt(_);C<16&&(p+="0"),p+=C.toString(16)}return p},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())};function l(p,_){_=_||{},this.read=_.readOffset||0,this.growSize=_.growSize||1024;var C=s.isArrayBuffer(p),k=s.isArrayBufferView(p);if(C||k){C?this.data=new DataView(p):this.data=new DataView(p.buffer,p.byteOffset,p.byteLength),this.write="writeOffset"in _?_.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,p!=null&&this.putBytes(p),"writeOffset"in _&&(this.write=_.writeOffset)}s.DataBuffer=l,s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(p,_){if(this.length()>=p)return this;_=Math.max(_||this.growSize,p);var C=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),k=new Uint8Array(this.length()+_);return k.set(C),this.data=new DataView(k.buffer),this},s.DataBuffer.prototype.putByte=function(p){return this.accommodate(1),this.data.setUint8(this.write++,p),this},s.DataBuffer.prototype.fillWithByte=function(p,_){this.accommodate(_);for(var C=0;C<_;++C)this.data.setUint8(p);return this},s.DataBuffer.prototype.putBytes=function(p,_){if(s.isArrayBufferView(p)){var C=new Uint8Array(p.buffer,p.byteOffset,p.byteLength),k=C.byteLength-C.byteOffset;this.accommodate(k);var N=new Uint8Array(this.data.buffer,this.write);return N.set(C),this.write+=k,this}if(s.isArrayBuffer(p)){var C=new Uint8Array(p);this.accommodate(C.byteLength);var N=new Uint8Array(this.data.buffer);return N.set(C,this.write),this.write+=C.byteLength,this}if(p instanceof s.DataBuffer||typeof p=="object"&&typeof p.read=="number"&&typeof p.write=="number"&&s.isArrayBufferView(p.data)){var C=new Uint8Array(p.data.byteLength,p.read,p.length());this.accommodate(C.byteLength);var N=new Uint8Array(p.data.byteLength,this.write);return N.set(C),this.write+=C.byteLength,this}if(p instanceof s.ByteStringBuffer&&(p=p.data,_="binary"),_=_||"binary",typeof p=="string"){var x;if(_==="hex")return this.accommodate(Math.ceil(p.length/2)),x=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(p,x,this.write),this;if(_==="base64")return this.accommodate(Math.ceil(p.length/4)*3),x=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(p,x,this.write),this;if(_==="utf8"&&(p=s.encodeUtf8(p),_="binary"),_==="binary"||_==="raw")return this.accommodate(p.length),x=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(x),this;if(_==="utf16")return this.accommodate(p.length*2),x=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(x),this;throw new Error("Invalid encoding: "+_)}throw Error("Invalid parameter: "+p)},s.DataBuffer.prototype.putBuffer=function(p){return this.putBytes(p),p.clear(),this},s.DataBuffer.prototype.putString=function(p){return this.putBytes(p,"utf16")},s.DataBuffer.prototype.putInt16=function(p){return this.accommodate(2),this.data.setInt16(this.write,p),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(p){return this.accommodate(3),this.data.setInt16(this.write,p>>8&65535),this.data.setInt8(this.write,p>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(p){return this.accommodate(4),this.data.setInt32(this.write,p),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(p){return this.accommodate(2),this.data.setInt16(this.write,p,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(p){return this.accommodate(3),this.data.setInt8(this.write,p>>16&255),this.data.setInt16(this.write,p>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(p){return this.accommodate(4),this.data.setInt32(this.write,p,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(p,_){a(_),this.accommodate(_/8);do _-=8,this.data.setInt8(this.write++,p>>_&255);while(_>0);return this},s.DataBuffer.prototype.putSignedInt=function(p,_){return a(_),this.accommodate(_/8),p<0&&(p+=2<<_-1),this.putInt(p,_)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var p=this.data.getInt16(this.read);return this.read+=2,p},s.DataBuffer.prototype.getInt24=function(){var p=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,p},s.DataBuffer.prototype.getInt32=function(){var p=this.data.getInt32(this.read);return this.read+=4,p},s.DataBuffer.prototype.getInt16Le=function(){var p=this.data.getInt16(this.read,!0);return this.read+=2,p},s.DataBuffer.prototype.getInt24Le=function(){var p=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,p},s.DataBuffer.prototype.getInt32Le=function(){var p=this.data.getInt32(this.read,!0);return this.read+=4,p},s.DataBuffer.prototype.getInt=function(p){a(p);var _=0;do _=(_<<8)+this.data.getInt8(this.read++),p-=8;while(p>0);return _},s.DataBuffer.prototype.getSignedInt=function(p){var _=this.getInt(p),C=2<<p-2;return _>=C&&(_-=C<<1),_},s.DataBuffer.prototype.getBytes=function(p){var _;return p?(p=Math.min(this.length(),p),_=this.data.slice(this.read,this.read+p),this.read+=p):p===0?_="":(_=this.read===0?this.data:this.data.slice(this.read),this.clear()),_},s.DataBuffer.prototype.bytes=function(p){return typeof p>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+p)},s.DataBuffer.prototype.at=function(p){return this.data.getUint8(this.read+p)},s.DataBuffer.prototype.setAt=function(p,_){return this.data.setUint8(p,_),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var p=new Uint8Array(this.data.buffer,this.read),_=new Uint8Array(p.byteLength);_.set(p),this.data=new DataView(_),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(p){return this.write=Math.max(0,this.length()-p),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var p="",_=this.read;_<this.data.byteLength;++_){var C=this.data.getUint8(_);C<16&&(p+="0"),p+=C.toString(16)}return p},s.DataBuffer.prototype.toString=function(p){var _=new Uint8Array(this.data,this.read,this.length());if(p=p||"utf8",p==="binary"||p==="raw")return s.binary.raw.encode(_);if(p==="hex")return s.binary.hex.encode(_);if(p==="base64")return s.binary.base64.encode(_);if(p==="utf8")return s.text.utf8.decode(_);if(p==="utf16")return s.text.utf16.decode(_);throw new Error("Invalid encoding: "+p)},s.createBuffer=function(p,_){return _=_||"raw",p!==void 0&&_==="utf8"&&(p=s.encodeUtf8(p)),new s.ByteBuffer(p)},s.fillString=function(p,_){for(var C="";_>0;)_&1&&(C+=p),_>>>=1,_>0&&(p+=p);return C},s.xorBytes=function(p,_,C){for(var k="",N="",x="",f=0,u=0;C>0;--C,++f)N=p.charCodeAt(f)^_.charCodeAt(f),u>=10&&(k+=x,x="",u=0),x+=String.fromCharCode(N),++u;return k+=x,k},s.hexToBytes=function(p){var _="",C=0;for(p.length&!0&&(C=1,_+=String.fromCharCode(parseInt(p[0],16)));C<p.length;C+=2)_+=String.fromCharCode(parseInt(p.substr(C,2),16));return _},s.bytesToHex=function(p){return s.createBuffer(p).toHex()},s.int32ToBytes=function(p){return String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255)};var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],d="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(p,_){for(var C="",k="",N,x,f,u=0;u<p.length;)N=p.charCodeAt(u++),x=p.charCodeAt(u++),f=p.charCodeAt(u++),C+=o.charAt(N>>2),C+=o.charAt((N&3)<<4|x>>4),isNaN(x)?C+="==":(C+=o.charAt((x&15)<<2|f>>6),C+=isNaN(f)?"=":o.charAt(f&63)),_&&C.length>_&&(k+=C.substr(0,_)+`\r
`,C=C.substr(_));return k+=C,k},s.decode64=function(p){p=p.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var _="",C,k,N,x,f=0;f<p.length;)C=m[p.charCodeAt(f++)-43],k=m[p.charCodeAt(f++)-43],N=m[p.charCodeAt(f++)-43],x=m[p.charCodeAt(f++)-43],_+=String.fromCharCode(C<<2|k>>4),N!==64&&(_+=String.fromCharCode((k&15)<<4|N>>2),x!==64&&(_+=String.fromCharCode((N&3)<<6|x)));return _},s.encodeUtf8=function(p){return unescape(encodeURIComponent(p))},s.decodeUtf8=function(p){return decodeURIComponent(escape(p))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:r.encode,decode:r.decode}},s.binary.raw.encode=function(p){return String.fromCharCode.apply(null,p)},s.binary.raw.decode=function(p,_,C){var k=_;k||(k=new Uint8Array(p.length)),C=C||0;for(var N=C,x=0;x<p.length;++x)k[N++]=p.charCodeAt(x);return _?N-C:k},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(p,_,C){var k=_;k||(k=new Uint8Array(Math.ceil(p.length/2))),C=C||0;var N=0,x=C;for(p.length&1&&(N=1,k[x++]=parseInt(p[0],16));N<p.length;N+=2)k[x++]=parseInt(p.substr(N,2),16);return _?x-C:k},s.binary.base64.encode=function(p,_){for(var C="",k="",N,x,f,u=0;u<p.byteLength;)N=p[u++],x=p[u++],f=p[u++],C+=o.charAt(N>>2),C+=o.charAt((N&3)<<4|x>>4),isNaN(x)?C+="==":(C+=o.charAt((x&15)<<2|f>>6),C+=isNaN(f)?"=":o.charAt(f&63)),_&&C.length>_&&(k+=C.substr(0,_)+`\r
`,C=C.substr(_));return k+=C,k},s.binary.base64.decode=function(p,_,C){var k=_;k||(k=new Uint8Array(Math.ceil(p.length/4)*3)),p=p.replace(/[^A-Za-z0-9\+\/\=]/g,""),C=C||0;for(var N,x,f,u,T=0,P=C;T<p.length;)N=m[p.charCodeAt(T++)-43],x=m[p.charCodeAt(T++)-43],f=m[p.charCodeAt(T++)-43],u=m[p.charCodeAt(T++)-43],k[P++]=N<<2|x>>4,f!==64&&(k[P++]=(x&15)<<4|f>>2,u!==64&&(k[P++]=(f&3)<<6|u));return _?P-C:k.subarray(0,P)},s.binary.base58.encode=function(p,_){return s.binary.baseN.encode(p,d,_)},s.binary.base58.decode=function(p,_){return s.binary.baseN.decode(p,d,_)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(p,_,C){p=s.encodeUtf8(p);var k=_;k||(k=new Uint8Array(p.length)),C=C||0;for(var N=C,x=0;x<p.length;++x)k[N++]=p.charCodeAt(x);return _?N-C:k},s.text.utf8.decode=function(p){return s.decodeUtf8(String.fromCharCode.apply(null,p))},s.text.utf16.encode=function(p,_,C){var k=_;k||(k=new Uint8Array(p.length*2));var N=new Uint16Array(k.buffer);C=C||0;for(var x=C,f=C,u=0;u<p.length;++u)N[f++]=p.charCodeAt(u),x+=2;return _?x-C:k},s.text.utf16.decode=function(p){return String.fromCharCode.apply(null,new Uint16Array(p.buffer))},s.deflate=function(p,_,C){if(_=s.decode64(p.deflate(s.encode64(_)).rval),C){var k=2,N=_.charCodeAt(1);N&32&&(k=6),_=_.substring(k,_.length-4)}return _},s.inflate=function(p,_,C){var k=p.inflate(s.encode64(_)).rval;return k===null?null:s.decode64(k)};var y=function(p,_,C){if(!p)throw new Error("WebStorage not available.");var k;if(C===null?k=p.removeItem(_):(C=s.encode64(JSON.stringify(C)),k=p.setItem(_,C)),typeof k<"u"&&k.rval!==!0){var N=new Error(k.error.message);throw N.id=k.error.id,N.name=k.error.name,N}},A=function(p,_){if(!p)throw new Error("WebStorage not available.");var C=p.getItem(_);if(p.init)if(C.rval===null){if(C.error){var k=new Error(C.error.message);throw k.id=C.error.id,k.name=C.error.name,k}C=null}else C=C.rval;return C!==null&&(C=JSON.parse(s.decode64(C))),C},b=function(p,_,C,k){var N=A(p,_);N===null&&(N={}),N[C]=k,y(p,_,N)},h=function(p,_,C){var k=A(p,_);return k!==null&&(k=C in k?k[C]:null),k},E=function(p,_,C){var k=A(p,_);if(k!==null&&C in k){delete k[C];var N=!0;for(var x in k){N=!1;break}N&&(k=null),y(p,_,k)}},w=function(p,_){y(p,_,null)},S=function(p,_,C){var k=null;typeof C>"u"&&(C=["web","flash"]);var N,x=!1,f=null;for(var u in C){N=C[u];try{if(N==="flash"||N==="both"){if(_[0]===null)throw new Error("Flash local storage not available.");k=p.apply(this,_),x=N==="flash"}(N==="web"||N==="both")&&(_[0]=localStorage,k=p.apply(this,_),x=!0)}catch(T){f=T}if(x)break}if(!x)throw f;return k};s.setItem=function(p,_,C,k,N){S(b,arguments,N)},s.getItem=function(p,_,C,k){return S(h,arguments,k)},s.removeItem=function(p,_,C,k){S(E,arguments,k)},s.clearItems=function(p,_,C){S(w,arguments,C)},s.isEmpty=function(p){for(var _ in p)if(p.hasOwnProperty(_))return!1;return!0},s.format=function(p){for(var _=/%./g,C,k,N=0,x=[],f=0;C=_.exec(p);){k=p.substring(f,_.lastIndex-2),k.length>0&&x.push(k),f=_.lastIndex;var u=C[0][1];switch(u){case"s":case"o":N<arguments.length?x.push(arguments[N+++1]):x.push("<?>");break;case"%":x.push("%");break;default:x.push("<%"+u+"?>")}}return x.push(p.substring(f)),x.join("")},s.formatNumber=function(p,_,C,k){var N=p,x=isNaN(_=Math.abs(_))?2:_,f=C===void 0?",":C,u=k===void 0?".":k,T=N<0?"-":"",P=parseInt(N=Math.abs(+N||0).toFixed(x),10)+"",q=P.length>3?P.length%3:0;return T+(q?P.substr(0,q)+u:"")+P.substr(q).replace(/(\d{3})(?=\d)/g,"$1"+u)+(x?f+Math.abs(N-P).toFixed(x).slice(2):"")},s.formatSize=function(p){return p>=1073741824?p=s.formatNumber(p/1073741824,2,".","")+" GiB":p>=1048576?p=s.formatNumber(p/1048576,2,".","")+" MiB":p>=1024?p=s.formatNumber(p/1024,0)+" KiB":p=s.formatNumber(p,0)+" bytes",p},s.bytesFromIP=function(p){return p.indexOf(".")!==-1?s.bytesFromIPv4(p):p.indexOf(":")!==-1?s.bytesFromIPv6(p):null},s.bytesFromIPv4=function(p){if(p=p.split("."),p.length!==4)return null;for(var _=s.createBuffer(),C=0;C<p.length;++C){var k=parseInt(p[C],10);if(isNaN(k))return null;_.putByte(k)}return _.getBytes()},s.bytesFromIPv6=function(p){var _=0;p=p.split(":").filter(function(f){return f.length===0&&++_,!0});for(var C=(8-p.length+_)*2,k=s.createBuffer(),N=0;N<8;++N){if(!p[N]||p[N].length===0){k.fillWithByte(0,C),C=0;continue}var x=s.hexToBytes(p[N]);x.length<2&&k.putByte(0),k.putBytes(x)}return k.getBytes()},s.bytesToIP=function(p){return p.length===4?s.bytesToIPv4(p):p.length===16?s.bytesToIPv6(p):null},s.bytesToIPv4=function(p){if(p.length!==4)return null;for(var _=[],C=0;C<p.length;++C)_.push(p.charCodeAt(C));return _.join(".")},s.bytesToIPv6=function(p){if(p.length!==16)return null;for(var _=[],C=[],k=0,N=0;N<p.length;N+=2){for(var x=s.bytesToHex(p[N]+p[N+1]);x[0]==="0"&&x!=="0";)x=x.substr(1);if(x==="0"){var f=C[C.length-1],u=_.length;!f||u!==f.end+1?C.push({start:u,end:u}):(f.end=u,f.end-f.start>C[k].end-C[k].start&&(k=C.length-1))}_.push(x)}if(C.length>0){var T=C[k];T.end-T.start>0&&(_.splice(T.start,T.end-T.start+1,""),T.start===0&&_.unshift(""),T.end===7&&_.push(""))}return _.join(":")},s.estimateCores=function(p,_){if(typeof p=="function"&&(_=p,p={}),p=p||{},"cores"in s&&!p.update)return _(null,s.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,_(null,s.cores);if(typeof Worker>"u")return s.cores=1,_(null,s.cores);if(typeof Blob>"u")return s.cores=2,_(null,s.cores);var C=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(f){for(var u=Date.now(),T=u+4;Date.now()<T;);self.postMessage({st:u,et:T})})}.toString(),")()"],{type:"application/javascript"}));k([],5,16);function k(f,u,T){if(u===0){var P=Math.floor(f.reduce(function(q,U){return q+U},0)/f.length);return s.cores=Math.max(1,P),URL.revokeObjectURL(C),_(null,s.cores)}N(T,function(q,U){f.push(x(T,U)),k(f,u-1,T)})}function N(f,u){for(var T=[],P=[],q=0;q<f;++q){var U=new Worker(C);U.addEventListener("message",function(D){if(P.push(D.data),P.length===f){for(var F=0;F<f;++F)T[F].terminate();u(null,P)}}),T.push(U)}for(var q=0;q<f;++q)T[q].postMessage(q)}function x(f,u){for(var T=[],P=0;P<f;++P)for(var q=u[P],U=T[P]=[],D=0;D<f;++D)if(P!==D){var F=u[D];(q.st>F.st&&q.st<F.et||F.st>q.st&&F.st<q.et)&&U.push(D)}return T.reduce(function(K,G){return Math.max(K,G.length)},0)}}}}),pl=Ee({"../../node_modules/node-forge/lib/cipher.js"(i,e){"use strict";var t=Ae();Oe(),e.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(s,a){var n=s;if(typeof n=="string"&&(n=t.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+s);return new t.cipher.BlockCipher({algorithm:n,key:a,decrypt:!1})},t.cipher.createDecipher=function(s,a){var n=s;if(typeof n=="string"&&(n=t.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+s);return new t.cipher.BlockCipher({algorithm:n,key:a,decrypt:!0})},t.cipher.registerAlgorithm=function(s,a){s=s.toUpperCase(),t.cipher.algorithms[s]=a},t.cipher.getAlgorithm=function(s){return s=s.toUpperCase(),s in t.cipher.algorithms?t.cipher.algorithms[s]:null};var r=t.cipher.BlockCipher=function(s){this.algorithm=s.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=s.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=s.decrypt,this.algorithm.initialize(s)};r.prototype.start=function(s){s=s||{};var a={};for(var n in s)a[n]=s[n];a.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=s.output||t.util.createBuffer(),this.mode.start(a)},r.prototype.update=function(s){for(s&&this._input.putBuffer(s);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},r.prototype.finish=function(s){s&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(n){return s(this.blockSize,n,!1)},this.mode.unpad=function(n){return s(this.blockSize,n,!0)});var a={};return a.decrypt=this._decrypt,a.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,a)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,a))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,a))}}}),wh=Ee({"../../node_modules/node-forge/lib/cipherModes.js"(i,e){"use strict";var t=Ae();Oe(),t.cipher=t.cipher||{};var r=e.exports=t.cipher.modes=t.cipher.modes||{};r.ecb=function(c){c=c||{},this.name="ECB",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.ecb.prototype.start=function(c){},r.ecb.prototype.encrypt=function(c,l,o){if(c.length()<this.blockSize&&!(o&&c.length()>0))return!0;for(var m=0;m<this._ints;++m)this._inBlock[m]=c.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var m=0;m<this._ints;++m)l.putInt32(this._outBlock[m])},r.ecb.prototype.decrypt=function(c,l,o){if(c.length()<this.blockSize&&!(o&&c.length()>0))return!0;for(var m=0;m<this._ints;++m)this._inBlock[m]=c.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var m=0;m<this._ints;++m)l.putInt32(this._outBlock[m])},r.ecb.prototype.pad=function(c,l){var o=c.length()===this.blockSize?this.blockSize:this.blockSize-c.length();return c.fillWithByte(o,o),!0},r.ecb.prototype.unpad=function(c,l){if(l.overflow>0)return!1;var o=c.length(),m=c.at(o-1);return m>this.blockSize<<2?!1:(c.truncate(m),!0)},r.cbc=function(c){c=c||{},this.name="CBC",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.cbc.prototype.start=function(c){if(c.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in c)this._iv=s(c.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},r.cbc.prototype.encrypt=function(c,l,o){if(c.length()<this.blockSize&&!(o&&c.length()>0))return!0;for(var m=0;m<this._ints;++m)this._inBlock[m]=this._prev[m]^c.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var m=0;m<this._ints;++m)l.putInt32(this._outBlock[m]);this._prev=this._outBlock},r.cbc.prototype.decrypt=function(c,l,o){if(c.length()<this.blockSize&&!(o&&c.length()>0))return!0;for(var m=0;m<this._ints;++m)this._inBlock[m]=c.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var m=0;m<this._ints;++m)l.putInt32(this._prev[m]^this._outBlock[m]);this._prev=this._inBlock.slice(0)},r.cbc.prototype.pad=function(c,l){var o=c.length()===this.blockSize?this.blockSize:this.blockSize-c.length();return c.fillWithByte(o,o),!0},r.cbc.prototype.unpad=function(c,l){if(l.overflow>0)return!1;var o=c.length(),m=c.at(o-1);return m>this.blockSize<<2?!1:(c.truncate(m),!0)},r.cfb=function(c){c=c||{},this.name="CFB",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.cfb.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");this._iv=s(c.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.cfb.prototype.encrypt=function(c,l,o){var m=c.length();if(m===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&m>=this.blockSize){for(var d=0;d<this._ints;++d)this._inBlock[d]=c.getInt32()^this._outBlock[d],l.putInt32(this._inBlock[d]);return}var y=(this.blockSize-m)%this.blockSize;y>0&&(y=this.blockSize-y),this._partialOutput.clear();for(var d=0;d<this._ints;++d)this._partialBlock[d]=c.getInt32()^this._outBlock[d],this._partialOutput.putInt32(this._partialBlock[d]);if(y>0)c.read-=this.blockSize;else for(var d=0;d<this._ints;++d)this._inBlock[d]=this._partialBlock[d];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),y>0&&!o)return l.putBytes(this._partialOutput.getBytes(y-this._partialBytes)),this._partialBytes=y,!0;l.putBytes(this._partialOutput.getBytes(m-this._partialBytes)),this._partialBytes=0},r.cfb.prototype.decrypt=function(c,l,o){var m=c.length();if(m===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&m>=this.blockSize){for(var d=0;d<this._ints;++d)this._inBlock[d]=c.getInt32(),l.putInt32(this._inBlock[d]^this._outBlock[d]);return}var y=(this.blockSize-m)%this.blockSize;y>0&&(y=this.blockSize-y),this._partialOutput.clear();for(var d=0;d<this._ints;++d)this._partialBlock[d]=c.getInt32(),this._partialOutput.putInt32(this._partialBlock[d]^this._outBlock[d]);if(y>0)c.read-=this.blockSize;else for(var d=0;d<this._ints;++d)this._inBlock[d]=this._partialBlock[d];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),y>0&&!o)return l.putBytes(this._partialOutput.getBytes(y-this._partialBytes)),this._partialBytes=y,!0;l.putBytes(this._partialOutput.getBytes(m-this._partialBytes)),this._partialBytes=0},r.ofb=function(c){c=c||{},this.name="OFB",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.ofb.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");this._iv=s(c.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ofb.prototype.encrypt=function(c,l,o){var m=c.length();if(c.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&m>=this.blockSize){for(var d=0;d<this._ints;++d)l.putInt32(c.getInt32()^this._outBlock[d]),this._inBlock[d]=this._outBlock[d];return}var y=(this.blockSize-m)%this.blockSize;y>0&&(y=this.blockSize-y),this._partialOutput.clear();for(var d=0;d<this._ints;++d)this._partialOutput.putInt32(c.getInt32()^this._outBlock[d]);if(y>0)c.read-=this.blockSize;else for(var d=0;d<this._ints;++d)this._inBlock[d]=this._outBlock[d];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),y>0&&!o)return l.putBytes(this._partialOutput.getBytes(y-this._partialBytes)),this._partialBytes=y,!0;l.putBytes(this._partialOutput.getBytes(m-this._partialBytes)),this._partialBytes=0},r.ofb.prototype.decrypt=r.ofb.prototype.encrypt,r.ctr=function(c){c=c||{},this.name="CTR",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.ctr.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");this._iv=s(c.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ctr.prototype.encrypt=function(c,l,o){var m=c.length();if(m===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&m>=this.blockSize)for(var d=0;d<this._ints;++d)l.putInt32(c.getInt32()^this._outBlock[d]);else{var y=(this.blockSize-m)%this.blockSize;y>0&&(y=this.blockSize-y),this._partialOutput.clear();for(var d=0;d<this._ints;++d)this._partialOutput.putInt32(c.getInt32()^this._outBlock[d]);if(y>0&&(c.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),y>0&&!o)return l.putBytes(this._partialOutput.getBytes(y-this._partialBytes)),this._partialBytes=y,!0;l.putBytes(this._partialOutput.getBytes(m-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},r.ctr.prototype.decrypt=r.ctr.prototype.encrypt,r.gcm=function(c){c=c||{},this.name="GCM",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},r.gcm.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");var l=t.util.createBuffer(c.iv);this._cipherLength=0;var o;if("additionalData"in c?o=t.util.createBuffer(c.additionalData):o=t.util.createBuffer(),"tagLength"in c?this._tagLength=c.tagLength:this._tagLength=128,this._tag=null,c.decrypt&&(this._tag=t.util.createBuffer(c.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var m=l.length();if(m===12)this._j0=[l.getInt32(),l.getInt32(),l.getInt32(),1];else{for(this._j0=[0,0,0,0];l.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[l.getInt32(),l.getInt32(),l.getInt32(),l.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(n(m*8)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,o=t.util.createBuffer(o),this._aDataLength=n(o.length()*8);var d=o.length()%this.blockSize;for(d&&o.fillWithByte(0,this.blockSize-d),this._s=[0,0,0,0];o.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[o.getInt32(),o.getInt32(),o.getInt32(),o.getInt32()])},r.gcm.prototype.encrypt=function(c,l,o){var m=c.length();if(m===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&m>=this.blockSize){for(var d=0;d<this._ints;++d)l.putInt32(this._outBlock[d]^=c.getInt32());this._cipherLength+=this.blockSize}else{var y=(this.blockSize-m)%this.blockSize;y>0&&(y=this.blockSize-y),this._partialOutput.clear();for(var d=0;d<this._ints;++d)this._partialOutput.putInt32(c.getInt32()^this._outBlock[d]);if(y<=0||o){if(o){var A=m%this.blockSize;this._cipherLength+=A,this._partialOutput.truncate(this.blockSize-A)}else this._cipherLength+=this.blockSize;for(var d=0;d<this._ints;++d)this._outBlock[d]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),y>0&&!o)return c.read-=this.blockSize,l.putBytes(this._partialOutput.getBytes(y-this._partialBytes)),this._partialBytes=y,!0;l.putBytes(this._partialOutput.getBytes(m-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},r.gcm.prototype.decrypt=function(c,l,o){var m=c.length();if(m<this.blockSize&&!(o&&m>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=c.getInt32(),this._hashBlock[1]=c.getInt32(),this._hashBlock[2]=c.getInt32(),this._hashBlock[3]=c.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._outBlock[d]^this._hashBlock[d]);m<this.blockSize?this._cipherLength+=m%this.blockSize:this._cipherLength+=this.blockSize},r.gcm.prototype.afterFinish=function(c,l){var o=!0;l.decrypt&&l.overflow&&c.truncate(this.blockSize-l.overflow),this.tag=t.util.createBuffer();var m=this._aDataLength.concat(n(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,m);var d=[];this.cipher.encrypt(this._j0,d);for(var y=0;y<this._ints;++y)this.tag.putInt32(this._s[y]^d[y]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),l.decrypt&&this.tag.bytes()!==this._tag&&(o=!1),o},r.gcm.prototype.multiply=function(c,l){for(var o=[0,0,0,0],m=l.slice(0),d=0;d<128;++d){var y=c[d/32|0]&1<<31-d%32;y&&(o[0]^=m[0],o[1]^=m[1],o[2]^=m[2],o[3]^=m[3]),this.pow(m,m)}return o},r.gcm.prototype.pow=function(c,l){for(var o=c[3]&1,m=3;m>0;--m)l[m]=c[m]>>>1|(c[m-1]&1)<<31;l[0]=c[0]>>>1,o&&(l[0]^=this._R)},r.gcm.prototype.tableMultiply=function(c){for(var l=[0,0,0,0],o=0;o<32;++o){var m=o/8|0,d=c[m]>>>(7-o%8)*4&15,y=this._m[o][d];l[0]^=y[0],l[1]^=y[1],l[2]^=y[2],l[3]^=y[3]}return l},r.gcm.prototype.ghash=function(c,l,o){return l[0]^=o[0],l[1]^=o[1],l[2]^=o[2],l[3]^=o[3],this.tableMultiply(l)},r.gcm.prototype.generateHashTable=function(c,l){for(var o=8/l,m=4*o,d=16*o,y=new Array(d),A=0;A<d;++A){var b=[0,0,0,0],h=A/m|0,E=(m-1-A%m)*l;b[h]=1<<l-1<<E,y[A]=this.generateSubHashTable(this.multiply(b,c),l)}return y},r.gcm.prototype.generateSubHashTable=function(c,l){var o=1<<l,m=o>>>1,d=new Array(o);d[m]=c.slice(0);for(var y=m>>>1;y>0;)this.pow(d[2*y],d[y]=[]),y>>=1;for(y=2;y<m;){for(var A=1;A<y;++A){var b=d[y],h=d[A];d[y+A]=[b[0]^h[0],b[1]^h[1],b[2]^h[2],b[3]^h[3]]}y*=2}for(d[0]=[0,0,0,0],y=m+1;y<o;++y){var E=d[y^m];d[y]=[c[0]^E[0],c[1]^E[1],c[2]^E[2],c[3]^E[3]]}return d};function s(c,l){if(typeof c=="string"&&(c=t.util.createBuffer(c)),t.util.isArray(c)&&c.length>4){var o=c;c=t.util.createBuffer();for(var m=0;m<o.length;++m)c.putByte(o[m])}if(c.length()<l)throw new Error("Invalid IV length; got "+c.length()+" bytes and expected "+l+" bytes.");if(!t.util.isArray(c)){for(var d=[],y=l/4,m=0;m<y;++m)d.push(c.getInt32());c=d}return c}function a(c){c[c.length-1]=c[c.length-1]+1&4294967295}function n(c){return[c/4294967296|0,c&4294967295]}}}),vi=Ee({"../../node_modules/node-forge/lib/aes.js"(i,e){"use strict";var t=Ae();pl(),wh(),Oe(),e.exports=t.aes=t.aes||{},t.aes.startEncrypting=function(h,E,w,S){var p=b({key:h,output:w,decrypt:!1,mode:S});return p.start(E),p},t.aes.createEncryptionCipher=function(h,E){return b({key:h,output:null,decrypt:!1,mode:E})},t.aes.startDecrypting=function(h,E,w,S){var p=b({key:h,output:w,decrypt:!0,mode:S});return p.start(E),p},t.aes.createDecryptionCipher=function(h,E){return b({key:h,output:null,decrypt:!0,mode:E})},t.aes.Algorithm=function(h,E){s||d();var w=this;w.name=h,w.mode=new E({blockSize:16,cipher:{encrypt:function(S,p){return A(w._w,S,p,!1)},decrypt:function(S,p){return A(w._w,S,p,!0)}}}),w._init=!1},t.aes.Algorithm.prototype.initialize=function(h){if(!this._init){var E=h.key,w;if(typeof E=="string"&&(E.length===16||E.length===24||E.length===32))E=t.util.createBuffer(E);else if(t.util.isArray(E)&&(E.length===16||E.length===24||E.length===32)){w=E,E=t.util.createBuffer();for(var S=0;S<w.length;++S)E.putByte(w[S])}if(!t.util.isArray(E)){w=E,E=[];var p=w.length();if(p===16||p===24||p===32){p=p>>>2;for(var S=0;S<p;++S)E.push(w.getInt32())}}if(!t.util.isArray(E)||!(E.length===4||E.length===6||E.length===8))throw new Error("Invalid key parameter.");var _=this.mode.name,C=["CFB","OFB","CTR","GCM"].indexOf(_)!==-1;this._w=y(E,h.decrypt&&!C),this._init=!0}},t.aes._expandKey=function(h,E){return s||d(),y(h,E)},t.aes._updateBlock=A,r("AES-ECB",t.cipher.modes.ecb),r("AES-CBC",t.cipher.modes.cbc),r("AES-CFB",t.cipher.modes.cfb),r("AES-OFB",t.cipher.modes.ofb),r("AES-CTR",t.cipher.modes.ctr),r("AES-GCM",t.cipher.modes.gcm);function r(h,E){var w=function(){return new t.aes.Algorithm(h,E)};t.cipher.registerAlgorithm(h,w)}var s=!1,a=4,n,c,l,o,m;function d(){s=!0,l=[0,1,2,4,8,16,32,64,128,27,54];for(var h=new Array(256),E=0;E<128;++E)h[E]=E<<1,h[E+128]=E+128<<1^283;n=new Array(256),c=new Array(256),o=new Array(4),m=new Array(4);for(var E=0;E<4;++E)o[E]=new Array(256),m[E]=new Array(256);for(var w=0,S=0,p,_,C,k,N,x,f,E=0;E<256;++E){k=S^S<<1^S<<2^S<<3^S<<4,k=k>>8^k&255^99,n[w]=k,c[k]=w,N=h[k],p=h[w],_=h[p],C=h[_],x=N<<24^k<<16^k<<8^(k^N),f=(p^_^C)<<24^(w^C)<<16^(w^_^C)<<8^(w^p^C);for(var u=0;u<4;++u)o[u][w]=x,m[u][k]=f,x=x<<24|x>>>8,f=f<<24|f>>>8;w===0?w=S=1:(w=p^h[h[h[p^C]]],S^=h[h[S]])}}function y(h,E){for(var w=h.slice(0),S,p=1,_=w.length,C=_+6+1,k=a*C,N=_;N<k;++N)S=w[N-1],N%_===0?(S=n[S>>>16&255]<<24^n[S>>>8&255]<<16^n[S&255]<<8^n[S>>>24]^l[p]<<24,p++):_>6&&N%_===4&&(S=n[S>>>24]<<24^n[S>>>16&255]<<16^n[S>>>8&255]<<8^n[S&255]),w[N]=w[N-_]^S;if(E){var x,f=m[0],u=m[1],T=m[2],P=m[3],q=w.slice(0);k=w.length;for(var N=0,U=k-a;N<k;N+=a,U-=a)if(N===0||N===k-a)q[N]=w[U],q[N+1]=w[U+3],q[N+2]=w[U+2],q[N+3]=w[U+1];else for(var D=0;D<a;++D)x=w[U+D],q[N+(3&-D)]=f[n[x>>>24]]^u[n[x>>>16&255]]^T[n[x>>>8&255]]^P[n[x&255]];w=q}return w}function A(h,E,w,S){var p=h.length/4-1,_,C,k,N,x;S?(_=m[0],C=m[1],k=m[2],N=m[3],x=c):(_=o[0],C=o[1],k=o[2],N=o[3],x=n);var f,u,T,P,q,U,D;f=E[0]^h[0],u=E[S?3:1]^h[1],T=E[2]^h[2],P=E[S?1:3]^h[3];for(var F=3,K=1;K<p;++K)q=_[f>>>24]^C[u>>>16&255]^k[T>>>8&255]^N[P&255]^h[++F],U=_[u>>>24]^C[T>>>16&255]^k[P>>>8&255]^N[f&255]^h[++F],D=_[T>>>24]^C[P>>>16&255]^k[f>>>8&255]^N[u&255]^h[++F],P=_[P>>>24]^C[f>>>16&255]^k[u>>>8&255]^N[T&255]^h[++F],f=q,u=U,T=D;w[0]=x[f>>>24]<<24^x[u>>>16&255]<<16^x[T>>>8&255]<<8^x[P&255]^h[++F],w[S?3:1]=x[u>>>24]<<24^x[T>>>16&255]<<16^x[P>>>8&255]<<8^x[f&255]^h[++F],w[2]=x[T>>>24]<<24^x[P>>>16&255]<<16^x[f>>>8&255]<<8^x[u&255]^h[++F],w[S?1:3]=x[P>>>24]<<24^x[f>>>16&255]<<16^x[u>>>8&255]<<8^x[T&255]^h[++F]}function b(h){h=h||{};var E=(h.mode||"CBC").toUpperCase(),w="AES-"+E,S;h.decrypt?S=t.cipher.createDecipher(w,h.key):S=t.cipher.createCipher(w,h.key);var p=S.start;return S.start=function(_,C){var k=null;C instanceof t.util.ByteBuffer&&(k=C,C={}),C=C||{},C.output=k,C.iv=_,p.call(S,C)},S}}}),gi=Ee({"../../node_modules/node-forge/lib/oids.js"(i,e){"use strict";var t=Ae();t.pki=t.pki||{};var r=e.exports=t.pki.oids=t.oids=t.oids||{};function s(n,c){r[n]=c,r[c]=n}function a(n,c){r[n]=c}s("1.2.840.113549.1.1.1","rsaEncryption"),s("1.2.840.113549.1.1.4","md5WithRSAEncryption"),s("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),s("1.2.840.113549.1.1.7","RSAES-OAEP"),s("1.2.840.113549.1.1.8","mgf1"),s("1.2.840.113549.1.1.9","pSpecified"),s("1.2.840.113549.1.1.10","RSASSA-PSS"),s("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),s("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),s("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),s("1.3.101.112","EdDSA25519"),s("1.2.840.10040.4.3","dsa-with-sha1"),s("1.3.14.3.2.7","desCBC"),s("1.3.14.3.2.26","sha1"),s("1.3.14.3.2.29","sha1WithRSASignature"),s("2.16.840.1.101.3.4.2.1","sha256"),s("2.16.840.1.101.3.4.2.2","sha384"),s("2.16.840.1.101.3.4.2.3","sha512"),s("2.16.840.1.101.3.4.2.4","sha224"),s("2.16.840.1.101.3.4.2.5","sha512-224"),s("2.16.840.1.101.3.4.2.6","sha512-256"),s("1.2.840.113549.2.2","md2"),s("1.2.840.113549.2.5","md5"),s("1.2.840.113549.1.7.1","data"),s("1.2.840.113549.1.7.2","signedData"),s("1.2.840.113549.1.7.3","envelopedData"),s("1.2.840.113549.1.7.4","signedAndEnvelopedData"),s("1.2.840.113549.1.7.5","digestedData"),s("1.2.840.113549.1.7.6","encryptedData"),s("1.2.840.113549.1.9.1","emailAddress"),s("1.2.840.113549.1.9.2","unstructuredName"),s("1.2.840.113549.1.9.3","contentType"),s("1.2.840.113549.1.9.4","messageDigest"),s("1.2.840.113549.1.9.5","signingTime"),s("1.2.840.113549.1.9.6","counterSignature"),s("1.2.840.113549.1.9.7","challengePassword"),s("1.2.840.113549.1.9.8","unstructuredAddress"),s("1.2.840.113549.1.9.14","extensionRequest"),s("1.2.840.113549.1.9.20","friendlyName"),s("1.2.840.113549.1.9.21","localKeyId"),s("1.2.840.113549.1.9.22.1","x509Certificate"),s("1.2.840.113549.1.12.10.1.1","keyBag"),s("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),s("1.2.840.113549.1.12.10.1.3","certBag"),s("1.2.840.113549.1.12.10.1.4","crlBag"),s("1.2.840.113549.1.12.10.1.5","secretBag"),s("1.2.840.113549.1.12.10.1.6","safeContentsBag"),s("1.2.840.113549.1.5.13","pkcs5PBES2"),s("1.2.840.113549.1.5.12","pkcs5PBKDF2"),s("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),s("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),s("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),s("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),s("1.2.840.113549.2.7","hmacWithSHA1"),s("1.2.840.113549.2.8","hmacWithSHA224"),s("1.2.840.113549.2.9","hmacWithSHA256"),s("1.2.840.113549.2.10","hmacWithSHA384"),s("1.2.840.113549.2.11","hmacWithSHA512"),s("1.2.840.113549.3.7","des-EDE3-CBC"),s("2.16.840.1.101.3.4.1.2","aes128-CBC"),s("2.16.840.1.101.3.4.1.22","aes192-CBC"),s("2.16.840.1.101.3.4.1.42","aes256-CBC"),s("2.5.4.3","commonName"),s("2.5.4.4","surname"),s("2.5.4.5","serialNumber"),s("2.5.4.6","countryName"),s("2.5.4.7","localityName"),s("2.5.4.8","stateOrProvinceName"),s("2.5.4.9","streetAddress"),s("2.5.4.10","organizationName"),s("2.5.4.11","organizationalUnitName"),s("2.5.4.12","title"),s("2.5.4.13","description"),s("2.5.4.15","businessCategory"),s("2.5.4.17","postalCode"),s("2.5.4.42","givenName"),s("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),s("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),s("2.16.840.1.113730.1.1","nsCertType"),s("2.16.840.1.113730.1.13","nsComment"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),s("2.5.29.14","subjectKeyIdentifier"),s("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),s("2.5.29.17","subjectAltName"),s("2.5.29.18","issuerAltName"),s("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),s("2.5.29.31","cRLDistributionPoints"),s("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),s("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),s("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),s("1.3.6.1.4.1.11129.2.4.2","timestampList"),s("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),s("1.3.6.1.5.5.7.3.1","serverAuth"),s("1.3.6.1.5.5.7.3.2","clientAuth"),s("1.3.6.1.5.5.7.3.3","codeSigning"),s("1.3.6.1.5.5.7.3.4","emailProtection"),s("1.3.6.1.5.5.7.3.8","timeStamping")}}),_r=Ee({"../../node_modules/node-forge/lib/asn1.js"(i,e){"use strict";var t=Ae();Oe(),gi();var r=e.exports=t.asn1=t.asn1||{};r.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},r.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},r.create=function(l,o,m,d,y){if(t.util.isArray(d)){for(var A=[],b=0;b<d.length;++b)d[b]!==void 0&&A.push(d[b]);d=A}var h={tagClass:l,type:o,constructed:m,composed:m||t.util.isArray(d),value:d};return y&&"bitStringContents"in y&&(h.bitStringContents=y.bitStringContents,h.original=r.copy(h)),h},r.copy=function(l,o){var m;if(t.util.isArray(l)){m=[];for(var d=0;d<l.length;++d)m.push(r.copy(l[d],o));return m}return typeof l=="string"?l:(m={tagClass:l.tagClass,type:l.type,constructed:l.constructed,composed:l.composed,value:r.copy(l.value,o)},o&&!o.excludeBitStringContents&&(m.bitStringContents=l.bitStringContents),m)},r.equals=function(l,o,m){if(t.util.isArray(l)){if(!t.util.isArray(o)||l.length!==o.length)return!1;for(var d=0;d<l.length;++d)if(!r.equals(l[d],o[d]))return!1;return!0}if(typeof l!=typeof o)return!1;if(typeof l=="string")return l===o;var y=l.tagClass===o.tagClass&&l.type===o.type&&l.constructed===o.constructed&&l.composed===o.composed&&r.equals(l.value,o.value);return m&&m.includeBitStringContents&&(y=y&&l.bitStringContents===o.bitStringContents),y},r.getBerValueLength=function(l){var o=l.getByte();if(o!==128){var m,d=o&128;return d?m=l.getInt((o&127)<<3):m=o,m}};function s(l,o,m){if(m>o){var d=new Error("Too few bytes to parse DER.");throw d.available=l.length(),d.remaining=o,d.requested=m,d}}var a=function(l,o){var m=l.getByte();if(o--,m!==128){var d,y=m&128;if(!y)d=m;else{var A=m&127;s(l,o,A),d=l.getInt(A<<3)}if(d<0)throw new Error("Negative length: "+d);return d}};r.fromDer=function(l,o){o===void 0&&(o={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof o=="boolean"&&(o={strict:o,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in o||(o.strict=!0),"parseAllBytes"in o||(o.parseAllBytes=!0),"decodeBitStrings"in o||(o.decodeBitStrings=!0),typeof l=="string"&&(l=t.util.createBuffer(l));var m=l.length(),d=n(l,l.length(),0,o);if(o.parseAllBytes&&l.length()!==0){var y=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw y.byteCount=m,y.remaining=l.length(),y}return d};function n(l,o,m,d){var y;s(l,o,2);var A=l.getByte();o--;var b=A&192,h=A&31;y=l.length();var E=a(l,o);if(o-=y-l.length(),E!==void 0&&E>o){if(d.strict){var w=new Error("Too few bytes to read ASN.1 value.");throw w.available=l.length(),w.remaining=o,w.requested=E,w}E=o}var S,p,_=(A&32)===32;if(_)if(S=[],E===void 0)for(;;){if(s(l,o,2),l.bytes(2)==="\0\0"){l.getBytes(2),o-=2;break}y=l.length(),S.push(n(l,o,m+1,d)),o-=y-l.length()}else for(;E>0;)y=l.length(),S.push(n(l,E,m+1,d)),o-=y-l.length(),E-=y-l.length();if(S===void 0&&b===r.Class.UNIVERSAL&&h===r.Type.BITSTRING&&(p=l.bytes(E)),S===void 0&&d.decodeBitStrings&&b===r.Class.UNIVERSAL&&h===r.Type.BITSTRING&&E>1){var C=l.read,k=o,N=0;if(h===r.Type.BITSTRING&&(s(l,o,1),N=l.getByte(),o--),N===0)try{y=l.length();var x={strict:!0,decodeBitStrings:!0},f=n(l,o,m+1,x),u=y-l.length();o-=u,h==r.Type.BITSTRING&&u++;var T=f.tagClass;u===E&&(T===r.Class.UNIVERSAL||T===r.Class.CONTEXT_SPECIFIC)&&(S=[f])}catch{}S===void 0&&(l.read=C,o=k)}if(S===void 0){if(E===void 0){if(d.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");E=o}if(h===r.Type.BMPSTRING)for(S="";E>0;E-=2)s(l,o,2),S+=String.fromCharCode(l.getInt16()),o-=2;else S=l.getBytes(E),o-=E}var P=p===void 0?null:{bitStringContents:p};return r.create(b,h,_,S,P)}r.toDer=function(l){var o=t.util.createBuffer(),m=l.tagClass|l.type,d=t.util.createBuffer(),y=!1;if("bitStringContents"in l&&(y=!0,l.original&&(y=r.equals(l,l.original))),y)d.putBytes(l.bitStringContents);else if(l.composed){l.constructed?m|=32:d.putByte(0);for(var A=0;A<l.value.length;++A)l.value[A]!==void 0&&d.putBuffer(r.toDer(l.value[A]))}else if(l.type===r.Type.BMPSTRING)for(var A=0;A<l.value.length;++A)d.putInt16(l.value.charCodeAt(A));else l.type===r.Type.INTEGER&&l.value.length>1&&(l.value.charCodeAt(0)===0&&!(l.value.charCodeAt(1)&128)||l.value.charCodeAt(0)===255&&(l.value.charCodeAt(1)&128)===128)?d.putBytes(l.value.substr(1)):d.putBytes(l.value);if(o.putByte(m),d.length()<=127)o.putByte(d.length()&127);else{var b=d.length(),h="";do h+=String.fromCharCode(b&255),b=b>>>8;while(b>0);o.putByte(h.length|128);for(var A=h.length-1;A>=0;--A)o.putByte(h.charCodeAt(A))}return o.putBuffer(d),o},r.oidToDer=function(l){var o=l.split("."),m=t.util.createBuffer();m.putByte(40*parseInt(o[0],10)+parseInt(o[1],10));for(var d,y,A,b,h=2;h<o.length;++h){d=!0,y=[],A=parseInt(o[h],10);do b=A&127,A=A>>>7,d||(b|=128),y.push(b),d=!1;while(A>0);for(var E=y.length-1;E>=0;--E)m.putByte(y[E])}return m},r.derToOid=function(l){var o;typeof l=="string"&&(l=t.util.createBuffer(l));var m=l.getByte();o=Math.floor(m/40)+"."+m%40;for(var d=0;l.length()>0;)m=l.getByte(),d=d<<7,m&128?d+=m&127:(o+="."+(d+m),d=0);return o},r.utcTimeToDate=function(l){var o=new Date,m=parseInt(l.substr(0,2),10);m=m>=50?1900+m:2e3+m;var d=parseInt(l.substr(2,2),10)-1,y=parseInt(l.substr(4,2),10),A=parseInt(l.substr(6,2),10),b=parseInt(l.substr(8,2),10),h=0;if(l.length>11){var E=l.charAt(10),w=10;E!=="+"&&E!=="-"&&(h=parseInt(l.substr(10,2),10),w+=2)}if(o.setUTCFullYear(m,d,y),o.setUTCHours(A,b,h,0),w&&(E=l.charAt(w),E==="+"||E==="-")){var S=parseInt(l.substr(w+1,2),10),p=parseInt(l.substr(w+4,2),10),_=S*60+p;_*=6e4,E==="+"?o.setTime(+o-_):o.setTime(+o+_)}return o},r.generalizedTimeToDate=function(l){var o=new Date,m=parseInt(l.substr(0,4),10),d=parseInt(l.substr(4,2),10)-1,y=parseInt(l.substr(6,2),10),A=parseInt(l.substr(8,2),10),b=parseInt(l.substr(10,2),10),h=parseInt(l.substr(12,2),10),E=0,w=0,S=!1;l.charAt(l.length-1)==="Z"&&(S=!0);var p=l.length-5,_=l.charAt(p);if(_==="+"||_==="-"){var C=parseInt(l.substr(p+1,2),10),k=parseInt(l.substr(p+4,2),10);w=C*60+k,w*=6e4,_==="+"&&(w*=-1),S=!0}return l.charAt(14)==="."&&(E=parseFloat(l.substr(14),10)*1e3),S?(o.setUTCFullYear(m,d,y),o.setUTCHours(A,b,h,E),o.setTime(+o+w)):(o.setFullYear(m,d,y),o.setHours(A,b,h,E)),o},r.dateToUtcTime=function(l){if(typeof l=="string")return l;var o="",m=[];m.push((""+l.getUTCFullYear()).substr(2)),m.push(""+(l.getUTCMonth()+1)),m.push(""+l.getUTCDate()),m.push(""+l.getUTCHours()),m.push(""+l.getUTCMinutes()),m.push(""+l.getUTCSeconds());for(var d=0;d<m.length;++d)m[d].length<2&&(o+="0"),o+=m[d];return o+="Z",o},r.dateToGeneralizedTime=function(l){if(typeof l=="string")return l;var o="",m=[];m.push(""+l.getUTCFullYear()),m.push(""+(l.getUTCMonth()+1)),m.push(""+l.getUTCDate()),m.push(""+l.getUTCHours()),m.push(""+l.getUTCMinutes()),m.push(""+l.getUTCSeconds());for(var d=0;d<m.length;++d)m[d].length<2&&(o+="0"),o+=m[d];return o+="Z",o},r.integerToDer=function(l){var o=t.util.createBuffer();if(l>=-128&&l<128)return o.putSignedInt(l,8);if(l>=-32768&&l<32768)return o.putSignedInt(l,16);if(l>=-8388608&&l<8388608)return o.putSignedInt(l,24);if(l>=-2147483648&&l<2147483648)return o.putSignedInt(l,32);var m=new Error("Integer too large; max is 32-bits.");throw m.integer=l,m},r.derToInteger=function(l){typeof l=="string"&&(l=t.util.createBuffer(l));var o=l.length()*8;if(o>32)throw new Error("Integer too large; max is 32-bits.");return l.getSignedInt(o)},r.validate=function(l,o,m,d){var y=!1;if((l.tagClass===o.tagClass||typeof o.tagClass>"u")&&(l.type===o.type||typeof o.type>"u"))if(l.constructed===o.constructed||typeof o.constructed>"u"){if(y=!0,o.value&&t.util.isArray(o.value))for(var A=0,b=0;y&&b<o.value.length;++b)y=o.value[b].optional||!1,l.value[A]&&(y=r.validate(l.value[A],o.value[b],m,d),y?++A:o.value[b].optional&&(y=!0)),!y&&d&&d.push("["+o.name+'] Tag class "'+o.tagClass+'", type "'+o.type+'" expected value length "'+o.value.length+'", got "'+l.value.length+'"');if(y&&m&&(o.capture&&(m[o.capture]=l.value),o.captureAsn1&&(m[o.captureAsn1]=l),o.captureBitStringContents&&"bitStringContents"in l&&(m[o.captureBitStringContents]=l.bitStringContents),o.captureBitStringValue&&"bitStringContents"in l)){var h;if(l.bitStringContents.length<2)m[o.captureBitStringValue]="";else{var E=l.bitStringContents.charCodeAt(0);if(E!==0)throw new Error("captureBitStringValue only supported for zero unused bits");m[o.captureBitStringValue]=l.bitStringContents.slice(1)}}}else d&&d.push("["+o.name+'] Expected constructed "'+o.constructed+'", got "'+l.constructed+'"');else d&&(l.tagClass!==o.tagClass&&d.push("["+o.name+'] Expected tag class "'+o.tagClass+'", got "'+l.tagClass+'"'),l.type!==o.type&&d.push("["+o.name+'] Expected type "'+o.type+'", got "'+l.type+'"'));return y};var c=/[^\\u0000-\\u00ff]/;r.prettyPrint=function(l,o,m){var d="";o=o||0,m=m||2,o>0&&(d+=`
`);for(var y="",A=0;A<o*m;++A)y+=" ";switch(d+=y+"Tag: ",l.tagClass){case r.Class.UNIVERSAL:d+="Universal:";break;case r.Class.APPLICATION:d+="Application:";break;case r.Class.CONTEXT_SPECIFIC:d+="Context-Specific:";break;case r.Class.PRIVATE:d+="Private:";break}if(l.tagClass===r.Class.UNIVERSAL)switch(d+=l.type,l.type){case r.Type.NONE:d+=" (None)";break;case r.Type.BOOLEAN:d+=" (Boolean)";break;case r.Type.INTEGER:d+=" (Integer)";break;case r.Type.BITSTRING:d+=" (Bit string)";break;case r.Type.OCTETSTRING:d+=" (Octet string)";break;case r.Type.NULL:d+=" (Null)";break;case r.Type.OID:d+=" (Object Identifier)";break;case r.Type.ODESC:d+=" (Object Descriptor)";break;case r.Type.EXTERNAL:d+=" (External or Instance of)";break;case r.Type.REAL:d+=" (Real)";break;case r.Type.ENUMERATED:d+=" (Enumerated)";break;case r.Type.EMBEDDED:d+=" (Embedded PDV)";break;case r.Type.UTF8:d+=" (UTF8)";break;case r.Type.ROID:d+=" (Relative Object Identifier)";break;case r.Type.SEQUENCE:d+=" (Sequence)";break;case r.Type.SET:d+=" (Set)";break;case r.Type.PRINTABLESTRING:d+=" (Printable String)";break;case r.Type.IA5String:d+=" (IA5String (ASCII))";break;case r.Type.UTCTIME:d+=" (UTC time)";break;case r.Type.GENERALIZEDTIME:d+=" (Generalized time)";break;case r.Type.BMPSTRING:d+=" (BMP String)";break}else d+=l.type;if(d+=`
`,d+=y+"Constructed: "+l.constructed+`
`,l.composed){for(var b=0,h="",A=0;A<l.value.length;++A)l.value[A]!==void 0&&(b+=1,h+=r.prettyPrint(l.value[A],o+1,m),A+1<l.value.length&&(h+=","));d+=y+"Sub values: "+b+h}else{if(d+=y+"Value: ",l.type===r.Type.OID){var E=r.derToOid(l.value);d+=E,t.pki&&t.pki.oids&&E in t.pki.oids&&(d+=" ("+t.pki.oids[E]+") ")}if(l.type===r.Type.INTEGER)try{d+=r.derToInteger(l.value)}catch{d+="0x"+t.util.bytesToHex(l.value)}else if(l.type===r.Type.BITSTRING){if(l.value.length>1?d+="0x"+t.util.bytesToHex(l.value.slice(1)):d+="(none)",l.value.length>0){var w=l.value.charCodeAt(0);w==1?d+=" (1 unused bit shown)":w>1&&(d+=" ("+w+" unused bits shown)")}}else if(l.type===r.Type.OCTETSTRING)c.test(l.value)||(d+="("+l.value+") "),d+="0x"+t.util.bytesToHex(l.value);else if(l.type===r.Type.UTF8)try{d+=t.util.decodeUtf8(l.value)}catch(S){if(S.message==="URI malformed")d+="0x"+t.util.bytesToHex(l.value)+" (malformed UTF8)";else throw S}else l.type===r.Type.PRINTABLESTRING||l.type===r.Type.IA5String?d+=l.value:c.test(l.value)?d+="0x"+t.util.bytesToHex(l.value):l.value.length===0?d+="[null]":d+=l.value}return d}}}),Dr=Ee({"../../node_modules/node-forge/lib/md.js"(i,e){"use strict";var t=Ae();e.exports=t.md=t.md||{},t.md.algorithms=t.md.algorithms||{}}}),ta=Ee({"../../node_modules/node-forge/lib/hmac.js"(i,e){"use strict";var t=Ae();Dr(),Oe();var r=e.exports=t.hmac=t.hmac||{};r.create=function(){var s=null,a=null,n=null,c=null,l={};return l.start=function(o,m){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in t.md.algorithms)a=t.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else a=o;if(m===null)m=s;else{if(typeof m=="string")m=t.util.createBuffer(m);else if(t.util.isArray(m)){var d=m;m=t.util.createBuffer();for(var y=0;y<d.length;++y)m.putByte(d[y])}var A=m.length();A>a.blockLength&&(a.start(),a.update(m.bytes()),m=a.digest()),n=t.util.createBuffer(),c=t.util.createBuffer(),A=m.length();for(var y=0;y<A;++y){var d=m.at(y);n.putByte(54^d),c.putByte(92^d)}if(A<a.blockLength)for(var d=a.blockLength-A,y=0;y<d;++y)n.putByte(54),c.putByte(92);s=m,n=n.bytes(),c=c.bytes()}a.start(),a.update(n)},l.update=function(o){a.update(o)},l.getMac=function(){var o=a.digest().bytes();return a.start(),a.update(c),a.update(o),a.digest()},l.digest=l.getMac,l}}}),dl=Ee({"../../node_modules/node-forge/lib/md5.js"(i,e){"use strict";var t=Ae();Dr(),Oe();var r=e.exports=t.md5=t.md5||{};t.md.md5=t.md.algorithms.md5=r,r.create=function(){l||o();var d=null,y=t.util.createBuffer(),A=new Array(16),b={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return b.start=function(){b.messageLength=0,b.fullMessageLength=b.messageLength64=[];for(var h=b.messageLengthSize/4,E=0;E<h;++E)b.fullMessageLength.push(0);return y=t.util.createBuffer(),d={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},b},b.start(),b.update=function(h,E){E==="utf8"&&(h=t.util.encodeUtf8(h));var w=h.length;b.messageLength+=w,w=[w/4294967296>>>0,w>>>0];for(var S=b.fullMessageLength.length-1;S>=0;--S)b.fullMessageLength[S]+=w[1],w[1]=w[0]+(b.fullMessageLength[S]/4294967296>>>0),b.fullMessageLength[S]=b.fullMessageLength[S]>>>0,w[0]=w[1]/4294967296>>>0;return y.putBytes(h),m(d,A,y),(y.read>2048||y.length()===0)&&y.compact(),b},b.digest=function(){var h=t.util.createBuffer();h.putBytes(y.bytes());var E=b.fullMessageLength[b.fullMessageLength.length-1]+b.messageLengthSize,w=E&b.blockLength-1;h.putBytes(s.substr(0,b.blockLength-w));for(var S,p=0,_=b.fullMessageLength.length-1;_>=0;--_)S=b.fullMessageLength[_]*8+p,p=S/4294967296>>>0,h.putInt32Le(S>>>0);var C={h0:d.h0,h1:d.h1,h2:d.h2,h3:d.h3};m(C,A,h);var k=t.util.createBuffer();return k.putInt32Le(C.h0),k.putInt32Le(C.h1),k.putInt32Le(C.h2),k.putInt32Le(C.h3),k},b};var s=null,a=null,n=null,c=null,l=!1;function o(){s="\x80",s+=t.util.fillString("\0",64),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],n=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c=new Array(64);for(var d=0;d<64;++d)c[d]=Math.floor(Math.abs(Math.sin(d+1))*4294967296);l=!0}function m(d,y,A){for(var b,h,E,w,S,p,_,C,k=A.length();k>=64;){for(h=d.h0,E=d.h1,w=d.h2,S=d.h3,C=0;C<16;++C)y[C]=A.getInt32Le(),p=S^E&(w^S),b=h+p+c[C]+y[C],_=n[C],h=S,S=w,w=E,E+=b<<_|b>>>32-_;for(;C<32;++C)p=w^S&(E^w),b=h+p+c[C]+y[a[C]],_=n[C],h=S,S=w,w=E,E+=b<<_|b>>>32-_;for(;C<48;++C)p=E^w^S,b=h+p+c[C]+y[a[C]],_=n[C],h=S,S=w,w=E,E+=b<<_|b>>>32-_;for(;C<64;++C)p=w^(E|~S),b=h+p+c[C]+y[a[C]],_=n[C],h=S,S=w,w=E,E+=b<<_|b>>>32-_;d.h0=d.h0+h|0,d.h1=d.h1+E|0,d.h2=d.h2+w|0,d.h3=d.h3+S|0,k-=64}}}}),Zi=Ee({"../../node_modules/node-forge/lib/pem.js"(i,e){"use strict";var t=Ae();Oe();var r=e.exports=t.pem=t.pem||{};r.encode=function(n,c){c=c||{};var l="-----BEGIN "+n.type+`-----\r
`,o;if(n.procType&&(o={name:"Proc-Type",values:[String(n.procType.version),n.procType.type]},l+=s(o)),n.contentDomain&&(o={name:"Content-Domain",values:[n.contentDomain]},l+=s(o)),n.dekInfo&&(o={name:"DEK-Info",values:[n.dekInfo.algorithm]},n.dekInfo.parameters&&o.values.push(n.dekInfo.parameters),l+=s(o)),n.headers)for(var m=0;m<n.headers.length;++m)l+=s(n.headers[m]);return n.procType&&(l+=`\r
`),l+=t.util.encode64(n.body,c.maxline||64)+`\r
`,l+="-----END "+n.type+`-----\r
`,l},r.decode=function(n){for(var c=[],l=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,m=/\r?\n/,d;d=l.exec(n),!!d;){var y=d[1];y==="NEW CERTIFICATE REQUEST"&&(y="CERTIFICATE REQUEST");var A={type:y,procType:null,contentDomain:null,dekInfo:null,headers:[],body:t.util.decode64(d[3])};if(c.push(A),!!d[2]){for(var b=d[2].split(m),h=0;d&&h<b.length;){for(var E=b[h].replace(/\s+$/,""),w=h+1;w<b.length;++w){var S=b[w];if(!/\s/.test(S[0]))break;E+=S,h=w}if(d=E.match(o),d){for(var p={name:d[1],values:[]},_=d[2].split(","),C=0;C<_.length;++C)p.values.push(a(_[C]));if(A.procType)if(!A.contentDomain&&p.name==="Content-Domain")A.contentDomain=_[0]||"";else if(!A.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');A.dekInfo={algorithm:_[0],parameters:_[1]||null}}else A.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');A.procType={version:_[0],type:_[1]}}}++h}if(A.procType==="ENCRYPTED"&&!A.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(c.length===0)throw new Error("Invalid PEM formatted message.");return c};function s(n){for(var c=n.name+": ",l=[],o=function(b,h){return" "+h},m=0;m<n.values.length;++m)l.push(n.values[m].replace(/^(\S+\r\n)/,o));c+=l.join(",")+`\r
`;for(var d=0,y=-1,m=0;m<c.length;++m,++d)if(d>65&&y!==-1){var A=c[y];A===","?(++y,c=c.substr(0,y)+`\r
 `+c.substr(y)):c=c.substr(0,y)+`\r
`+A+c.substr(y+1),d=m-y-1,y=-1,++m}else(c[m]===" "||c[m]==="	"||c[m]===",")&&(y=m);return c}function a(n){return n.replace(/^\s+/,"")}}}),Ln=Ee({"../../node_modules/node-forge/lib/des.js"(i,e){"use strict";var t=Ae();pl(),wh(),Oe(),e.exports=t.des=t.des||{},t.des.startEncrypting=function(h,E,w,S){var p=b({key:h,output:w,decrypt:!1,mode:S||(E===null?"ECB":"CBC")});return p.start(E),p},t.des.createEncryptionCipher=function(h,E){return b({key:h,output:null,decrypt:!1,mode:E})},t.des.startDecrypting=function(h,E,w,S){var p=b({key:h,output:w,decrypt:!0,mode:S||(E===null?"ECB":"CBC")});return p.start(E),p},t.des.createDecryptionCipher=function(h,E){return b({key:h,output:null,decrypt:!0,mode:E})},t.des.Algorithm=function(h,E){var w=this;w.name=h,w.mode=new E({blockSize:8,cipher:{encrypt:function(S,p){return A(w._keys,S,p,!1)},decrypt:function(S,p){return A(w._keys,S,p,!0)}}}),w._init=!1},t.des.Algorithm.prototype.initialize=function(h){if(!this._init){var E=t.util.createBuffer(h.key);if(this.name.indexOf("3DES")===0&&E.length()!==24)throw new Error("Invalid Triple-DES key size: "+E.length()*8);this._keys=y(E),this._init=!0}},r("DES-ECB",t.cipher.modes.ecb),r("DES-CBC",t.cipher.modes.cbc),r("DES-CFB",t.cipher.modes.cfb),r("DES-OFB",t.cipher.modes.ofb),r("DES-CTR",t.cipher.modes.ctr),r("3DES-ECB",t.cipher.modes.ecb),r("3DES-CBC",t.cipher.modes.cbc),r("3DES-CFB",t.cipher.modes.cfb),r("3DES-OFB",t.cipher.modes.ofb),r("3DES-CTR",t.cipher.modes.ctr);function r(h,E){var w=function(){return new t.des.Algorithm(h,E)};t.cipher.registerAlgorithm(h,w)}var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],n=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],o=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],m=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function y(h){for(var E=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],w=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],S=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],p=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],_=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],C=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],k=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],N=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],x=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],u=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],T=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],P=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],q=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],U=h.length()>8?3:1,D=[],F=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],K=0,G,Y=0;Y<U;Y++){var J=h.getInt32(),re=h.getInt32();G=(J>>>4^re)&252645135,re^=G,J^=G<<4,G=(re>>>-16^J)&65535,J^=G,re^=G<<-16,G=(J>>>2^re)&858993459,re^=G,J^=G<<2,G=(re>>>-16^J)&65535,J^=G,re^=G<<-16,G=(J>>>1^re)&1431655765,re^=G,J^=G<<1,G=(re>>>8^J)&16711935,J^=G,re^=G<<8,G=(J>>>1^re)&1431655765,re^=G,J^=G<<1,G=J<<8|re>>>20&240,J=re<<24|re<<8&16711680|re>>>8&65280|re>>>24&240,re=G;for(var se=0;se<F.length;++se){F[se]?(J=J<<2|J>>>26,re=re<<2|re>>>26):(J=J<<1|J>>>27,re=re<<1|re>>>27),J&=-15,re&=-15;var ge=E[J>>>28]|w[J>>>24&15]|S[J>>>20&15]|p[J>>>16&15]|_[J>>>12&15]|C[J>>>8&15]|k[J>>>4&15],be=N[re>>>28]|x[re>>>24&15]|f[re>>>20&15]|u[re>>>16&15]|T[re>>>12&15]|P[re>>>8&15]|q[re>>>4&15];G=(be>>>16^ge)&65535,D[K++]=ge^G,D[K++]=be^G<<16}}return D}function A(h,E,w,S){var p=h.length===32?3:9,_;p===3?_=S?[30,-2,-2]:[0,32,2]:_=S?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var C,k=E[0],N=E[1];C=(k>>>4^N)&252645135,N^=C,k^=C<<4,C=(k>>>16^N)&65535,N^=C,k^=C<<16,C=(N>>>2^k)&858993459,k^=C,N^=C<<2,C=(N>>>8^k)&16711935,k^=C,N^=C<<8,C=(k>>>1^N)&1431655765,N^=C,k^=C<<1,k=k<<1|k>>>31,N=N<<1|N>>>31;for(var x=0;x<p;x+=3){for(var f=_[x+1],u=_[x+2],T=_[x];T!=f;T+=u){var P=N^h[T],q=(N>>>4|N<<28)^h[T+1];C=k,k=N,N=C^(a[P>>>24&63]|c[P>>>16&63]|o[P>>>8&63]|d[P&63]|s[q>>>24&63]|n[q>>>16&63]|l[q>>>8&63]|m[q&63])}C=k,k=N,N=C}k=k>>>1|k<<31,N=N>>>1|N<<31,C=(k>>>1^N)&1431655765,N^=C,k^=C<<1,C=(N>>>8^k)&16711935,k^=C,N^=C<<8,C=(N>>>2^k)&858993459,k^=C,N^=C<<2,C=(k>>>16^N)&65535,N^=C,k^=C<<16,C=(k>>>4^N)&252645135,N^=C,k^=C<<4,w[0]=k,w[1]=N}function b(h){h=h||{};var E=(h.mode||"CBC").toUpperCase(),w="DES-"+E,S;h.decrypt?S=t.cipher.createDecipher(w,h.key):S=t.cipher.createCipher(w,h.key);var p=S.start;return S.start=function(_,C){var k=null;C instanceof t.util.ByteBuffer&&(k=C,C={}),C=C||{},C.output=k,C.iv=_,p.call(S,C)},S}}}),fl=Ee({"../../node_modules/node-forge/lib/pbkdf2.js"(i,e){"use strict";var t=Ae();ta(),Dr(),Oe();var r=t.pkcs5=t.pkcs5||{},s;t.util.isNodejs&&!t.options.usePureJavaScript&&(s=ul("crypto")),e.exports=t.pbkdf2=r.pbkdf2=function(a,n,c,l,o,m){if(typeof o=="function"&&(m=o,o=null),t.util.isNodejs&&!t.options.usePureJavaScript&&s.pbkdf2&&(o===null||typeof o!="object")&&(s.pbkdf2Sync.length>4||!o||o==="sha1"))return typeof o!="string"&&(o="sha1"),a=Buffer.from(a,"binary"),n=Buffer.from(n,"binary"),m?s.pbkdf2Sync.length===4?s.pbkdf2(a,n,c,l,function(x,f){if(x)return m(x);m(null,f.toString("binary"))}):s.pbkdf2(a,n,c,l,o,function(x,f){if(x)return m(x);m(null,f.toString("binary"))}):s.pbkdf2Sync.length===4?s.pbkdf2Sync(a,n,c,l).toString("binary"):s.pbkdf2Sync(a,n,c,l,o).toString("binary");if((typeof o>"u"||o===null)&&(o="sha1"),typeof o=="string"){if(!(o in t.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=t.md[o].create()}var d=o.digestLength;if(l>4294967295*d){var y=new Error("Derived key is too long.");if(m)return m(y);throw y}var A=Math.ceil(l/d),b=l-(A-1)*d,h=t.hmac.create();h.start(o,a);var E="",w,S,p;if(!m){for(var _=1;_<=A;++_){h.start(null,null),h.update(n),h.update(t.util.int32ToBytes(_)),w=p=h.digest().getBytes();for(var C=2;C<=c;++C)h.start(null,null),h.update(p),S=h.digest().getBytes(),w=t.util.xorBytes(w,S,d),p=S;E+=_<A?w:w.substr(0,b)}return E}var _=1,C;function k(){if(_>A)return m(null,E);h.start(null,null),h.update(n),h.update(t.util.int32ToBytes(_)),w=p=h.digest().getBytes(),C=2,N()}function N(){if(C<=c)return h.start(null,null),h.update(p),S=h.digest().getBytes(),w=t.util.xorBytes(w,S,d),p=S,++C,t.util.setImmediate(N);E+=_<A?w:w.substr(0,b),++_,k()}k()}}}),Th=Ee({"../../node_modules/node-forge/lib/sha256.js"(i,e){"use strict";var t=Ae();Dr(),Oe();var r=e.exports=t.sha256=t.sha256||{};t.md.sha256=t.md.algorithms.sha256=r,r.create=function(){a||c();var o=null,m=t.util.createBuffer(),d=new Array(64),y={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return y.start=function(){y.messageLength=0,y.fullMessageLength=y.messageLength64=[];for(var A=y.messageLengthSize/4,b=0;b<A;++b)y.fullMessageLength.push(0);return m=t.util.createBuffer(),o={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},y},y.start(),y.update=function(A,b){b==="utf8"&&(A=t.util.encodeUtf8(A));var h=A.length;y.messageLength+=h,h=[h/4294967296>>>0,h>>>0];for(var E=y.fullMessageLength.length-1;E>=0;--E)y.fullMessageLength[E]+=h[1],h[1]=h[0]+(y.fullMessageLength[E]/4294967296>>>0),y.fullMessageLength[E]=y.fullMessageLength[E]>>>0,h[0]=h[1]/4294967296>>>0;return m.putBytes(A),l(o,d,m),(m.read>2048||m.length()===0)&&m.compact(),y},y.digest=function(){var A=t.util.createBuffer();A.putBytes(m.bytes());var b=y.fullMessageLength[y.fullMessageLength.length-1]+y.messageLengthSize,h=b&y.blockLength-1;A.putBytes(s.substr(0,y.blockLength-h));for(var E,w,S=y.fullMessageLength[0]*8,p=0;p<y.fullMessageLength.length-1;++p)E=y.fullMessageLength[p+1]*8,w=E/4294967296>>>0,S+=w,A.putInt32(S>>>0),S=E>>>0;A.putInt32(S);var _={h0:o.h0,h1:o.h1,h2:o.h2,h3:o.h3,h4:o.h4,h5:o.h5,h6:o.h6,h7:o.h7};l(_,d,A);var C=t.util.createBuffer();return C.putInt32(_.h0),C.putInt32(_.h1),C.putInt32(_.h2),C.putInt32(_.h3),C.putInt32(_.h4),C.putInt32(_.h5),C.putInt32(_.h6),C.putInt32(_.h7),C},y};var s=null,a=!1,n=null;function c(){s="\x80",s+=t.util.fillString("\0",64),n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0}function l(o,m,d){for(var y,A,b,h,E,w,S,p,_,C,k,N,x,f,u,T=d.length();T>=64;){for(S=0;S<16;++S)m[S]=d.getInt32();for(;S<64;++S)y=m[S-2],y=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,A=m[S-15],A=(A>>>7|A<<25)^(A>>>18|A<<14)^A>>>3,m[S]=y+m[S-7]+A+m[S-16]|0;for(p=o.h0,_=o.h1,C=o.h2,k=o.h3,N=o.h4,x=o.h5,f=o.h6,u=o.h7,S=0;S<64;++S)h=(N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7),E=f^N&(x^f),b=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),w=p&_|C&(p^_),y=u+h+E+n[S]+m[S],A=b+w,u=f,f=x,x=N,N=k+y>>>0,k=C,C=_,_=p,p=y+A>>>0;o.h0=o.h0+p|0,o.h1=o.h1+_|0,o.h2=o.h2+C|0,o.h3=o.h3+k|0,o.h4=o.h4+N|0,o.h5=o.h5+x|0,o.h6=o.h6+f|0,o.h7=o.h7+u|0,T-=64}}}}),Ah=Ee({"../../node_modules/node-forge/lib/prng.js"(i,e){"use strict";var t=Ae();Oe();var r=null;t.util.isNodejs&&!t.options.usePureJavaScript&&!process.versions["node-webkit"]&&(r=ul("crypto"));var s=e.exports=t.prng=t.prng||{};s.create=function(a){for(var n={plugin:a,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},c=a.md,l=new Array(32),o=0;o<32;++o)l[o]=c.create();n.pools=l,n.pool=0,n.generate=function(b,h){if(!h)return n.generateSync(b);var E=n.plugin.cipher,w=n.plugin.increment,S=n.plugin.formatKey,p=n.plugin.formatSeed,_=t.util.createBuffer();n.key=null,C();function C(k){if(k)return h(k);if(_.length()>=b)return h(null,_.getBytes(b));if(n.generated>1048575&&(n.key=null),n.key===null)return t.util.nextTick(function(){m(C)});var N=E(n.key,n.seed);n.generated+=N.length,_.putBytes(N),n.key=S(E(n.key,w(n.seed))),n.seed=p(E(n.key,n.seed)),t.util.setImmediate(C)}},n.generateSync=function(b){var h=n.plugin.cipher,E=n.plugin.increment,w=n.plugin.formatKey,S=n.plugin.formatSeed;n.key=null;for(var p=t.util.createBuffer();p.length()<b;){n.generated>1048575&&(n.key=null),n.key===null&&d();var _=h(n.key,n.seed);n.generated+=_.length,p.putBytes(_),n.key=w(h(n.key,E(n.seed))),n.seed=S(h(n.key,n.seed))}return p.getBytes(b)};function m(b){if(n.pools[0].messageLength>=32)return y(),b();var h=32-n.pools[0].messageLength<<5;n.seedFile(h,function(E,w){if(E)return b(E);n.collect(w),y(),b()})}function d(){if(n.pools[0].messageLength>=32)return y();var b=32-n.pools[0].messageLength<<5;n.collect(n.seedFileSync(b)),y()}function y(){n.reseeds=n.reseeds===4294967295?0:n.reseeds+1;var b=n.plugin.md.create();b.update(n.keyBytes);for(var h=1,E=0;E<32;++E)n.reseeds%h===0&&(b.update(n.pools[E].digest().getBytes()),n.pools[E].start()),h=h<<1;n.keyBytes=b.digest().getBytes(),b.start(),b.update(n.keyBytes);var w=b.digest().getBytes();n.key=n.plugin.formatKey(n.keyBytes),n.seed=n.plugin.formatSeed(w),n.generated=0}function A(b){var h=null,E=t.util.globalScope,w=E.crypto||E.msCrypto;w&&w.getRandomValues&&(h=function(u){return w.getRandomValues(u)});var S=t.util.createBuffer();if(h)for(;S.length()<b;){var p=Math.max(1,Math.min(b-S.length(),65536)/4),_=new Uint32Array(Math.floor(p));try{h(_);for(var C=0;C<_.length;++C)S.putInt32(_[C])}catch(u){if(!(typeof QuotaExceededError<"u"&&u instanceof QuotaExceededError))throw u}}if(S.length()<b)for(var k,N,x,f=Math.floor(Math.random()*65536);S.length()<b;){N=16807*(f&65535),k=16807*(f>>16),N+=(k&32767)<<16,N+=k>>15,N=(N&2147483647)+(N>>31),f=N&4294967295;for(var C=0;C<3;++C)x=f>>>(C<<3),x^=Math.floor(Math.random()*256),S.putByte(x&255)}return S.getBytes(b)}return r?(n.seedFile=function(b,h){r.randomBytes(b,function(E,w){if(E)return h(E);h(null,w.toString())})},n.seedFileSync=function(b){return r.randomBytes(b).toString()}):(n.seedFile=function(b,h){try{h(null,A(b))}catch(E){h(E)}},n.seedFileSync=A),n.collect=function(b){for(var h=b.length,E=0;E<h;++E)n.pools[n.pool].update(b.substr(E,1)),n.pool=n.pool===31?0:n.pool+1},n.collectInt=function(b,h){for(var E="",w=0;w<h;w+=8)E+=String.fromCharCode(b>>w&255);n.collect(E)},n.registerWorker=function(b){if(b===self)n.seedFile=function(E,w){function S(p){var _=p.data;_.forge&&_.forge.prng&&(self.removeEventListener("message",S),w(_.forge.prng.err,_.forge.prng.bytes))}self.addEventListener("message",S),self.postMessage({forge:{prng:{needed:E}}})};else{var h=function(E){var w=E.data;w.forge&&w.forge.prng&&n.seedFile(w.forge.prng.needed,function(S,p){b.postMessage({forge:{prng:{err:S,bytes:p}}})})};b.addEventListener("message",h)}},n}}}),fr=Ee({"../../node_modules/node-forge/lib/random.js"(i,e){"use strict";var t=Ae();vi(),Th(),Ah(),Oe(),function(){if(t.random&&t.random.getBytes){e.exports=t.random;return}(function(r){var s={},a=new Array(4),n=t.util.createBuffer();s.formatKey=function(b){var h=t.util.createBuffer(b);return b=new Array(4),b[0]=h.getInt32(),b[1]=h.getInt32(),b[2]=h.getInt32(),b[3]=h.getInt32(),t.aes._expandKey(b,!1)},s.formatSeed=function(b){var h=t.util.createBuffer(b);return b=new Array(4),b[0]=h.getInt32(),b[1]=h.getInt32(),b[2]=h.getInt32(),b[3]=h.getInt32(),b},s.cipher=function(b,h){return t.aes._updateBlock(b,h,a,!1),n.putInt32(a[0]),n.putInt32(a[1]),n.putInt32(a[2]),n.putInt32(a[3]),n.getBytes()},s.increment=function(b){return++b[3],b},s.md=t.md.sha256;function c(){var b=t.prng.create(s);return b.getBytes=function(h,E){return b.generate(h,E)},b.getBytesSync=function(h){return b.generate(h)},b}var l=c(),o=null,m=t.util.globalScope,d=m.crypto||m.msCrypto;if(d&&d.getRandomValues&&(o=function(b){return d.getRandomValues(b)}),t.options.usePureJavaScript||!t.util.isNodejs&&!o){if(typeof window>"u"||window.document,l.collectInt(+new Date,32),typeof navigator<"u"){var y="";for(var A in navigator)try{typeof navigator[A]=="string"&&(y+=navigator[A])}catch{}l.collect(y),y=null}r&&(r().mousemove(function(b){l.collectInt(b.clientX,16),l.collectInt(b.clientY,16)}),r().keypress(function(b){l.collectInt(b.charCode,8)}))}if(!t.random)t.random=l;else for(var A in l)t.random[A]=l[A];t.random.createInstance=c,e.exports=t.random})(typeof jQuery<"u"?jQuery:null)}()}}),kh=Ee({"../../node_modules/node-forge/lib/rc2.js"(i,e){"use strict";var t=Ae();Oe();var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],a=function(l,o){return l<<o&65535|(l&65535)>>16-o},n=function(l,o){return(l&65535)>>o|l<<16-o&65535};e.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(l,o){typeof l=="string"&&(l=t.util.createBuffer(l)),o=o||128;var m=l,d=l.length(),y=o,A=Math.ceil(y/8),b=255>>(y&7),h;for(h=d;h<128;h++)m.putByte(r[m.at(h-1)+m.at(h-d)&255]);for(m.setAt(128-A,r[m.at(128-A)&b]),h=127-A;h>=0;h--)m.setAt(h,r[m.at(h+1)^m.at(h+A)]);return m};var c=function(l,o,m){var d=!1,y=null,A=null,b=null,h,E,w,S,p=[];for(l=t.rc2.expandKey(l,o),w=0;w<64;w++)p.push(l.getInt16Le());m?(h=function(k){for(w=0;w<4;w++)k[w]+=p[S]+(k[(w+3)%4]&k[(w+2)%4])+(~k[(w+3)%4]&k[(w+1)%4]),k[w]=a(k[w],s[w]),S++},E=function(k){for(w=0;w<4;w++)k[w]+=p[k[(w+3)%4]&63]}):(h=function(k){for(w=3;w>=0;w--)k[w]=n(k[w],s[w]),k[w]-=p[S]+(k[(w+3)%4]&k[(w+2)%4])+(~k[(w+3)%4]&k[(w+1)%4]),S--},E=function(k){for(w=3;w>=0;w--)k[w]-=p[k[(w+3)%4]&63]});var _=function(k){var N=[];for(w=0;w<4;w++){var x=y.getInt16Le();b!==null&&(m?x^=b.getInt16Le():b.putInt16Le(x)),N.push(x&65535)}S=m?0:63;for(var f=0;f<k.length;f++)for(var u=0;u<k[f][0];u++)k[f][1](N);for(w=0;w<4;w++)b!==null&&(m?b.putInt16Le(N[w]):N[w]^=b.getInt16Le()),A.putInt16Le(N[w])},C=null;return C={start:function(k,N){k&&typeof k=="string"&&(k=t.util.createBuffer(k)),d=!1,y=t.util.createBuffer(),A=N||new t.util.createBuffer,b=k,C.output=A},update:function(k){for(d||y.putBuffer(k);y.length()>=8;)_([[5,h],[1,E],[6,h],[1,E],[5,h]])},finish:function(k){var N=!0;if(m)if(k)N=k(8,y,!m);else{var x=y.length()===8?8:8-y.length();y.fillWithByte(x,x)}if(N&&(d=!0,C.update()),!m&&(N=y.length()===0,N))if(k)N=k(8,A,!m);else{var f=A.length(),u=A.at(f-1);u>f?N=!1:A.truncate(u)}return N}},C};t.rc2.startEncrypting=function(l,o,m){var d=t.rc2.createEncryptionCipher(l,128);return d.start(o,m),d},t.rc2.createEncryptionCipher=function(l,o){return c(l,o,!0)},t.rc2.startDecrypting=function(l,o,m){var d=t.rc2.createDecryptionCipher(l,128);return d.start(o,m),d},t.rc2.createDecryptionCipher=function(l,o){return c(l,o,!1)}}}),Pn=Ee({"../../node_modules/node-forge/lib/jsbn.js"(i,e){"use strict";var t=Ae();e.exports=t.jsbn=t.jsbn||{};var r,s=0xdeadbeefcafe,a=(s&16777215)==15715070;function n(R,O,M){this.data=[],R!=null&&(typeof R=="number"?this.fromNumber(R,O,M):O==null&&typeof R!="string"?this.fromString(R,256):this.fromString(R,O))}t.jsbn.BigInteger=n;function c(){return new n(null)}function l(R,O,M,z,Q,X){for(;--X>=0;){var pe=O*this.data[R++]+M.data[z]+Q;Q=Math.floor(pe/67108864),M.data[z++]=pe&67108863}return Q}function o(R,O,M,z,Q,X){for(var pe=O&32767,ne=O>>15;--X>=0;){var Pe=this.data[R]&32767,xt=this.data[R++]>>15,Wt=ne*Pe+xt*pe;Pe=pe*Pe+((Wt&32767)<<15)+M.data[z]+(Q&1073741823),Q=(Pe>>>30)+(Wt>>>15)+ne*xt+(Q>>>30),M.data[z++]=Pe&1073741823}return Q}function m(R,O,M,z,Q,X){for(var pe=O&16383,ne=O>>14;--X>=0;){var Pe=this.data[R]&16383,xt=this.data[R++]>>14,Wt=ne*Pe+xt*pe;Pe=pe*Pe+((Wt&16383)<<14)+M.data[z]+Q,Q=(Pe>>28)+(Wt>>14)+ne*xt,M.data[z++]=Pe&268435455}return Q}typeof navigator>"u"?(n.prototype.am=m,r=28):a&&navigator.appName=="Microsoft Internet Explorer"?(n.prototype.am=o,r=30):a&&navigator.appName!="Netscape"?(n.prototype.am=l,r=26):(n.prototype.am=m,r=28),n.prototype.DB=r,n.prototype.DM=(1<<r)-1,n.prototype.DV=1<<r;var d=52;n.prototype.FV=Math.pow(2,d),n.prototype.F1=d-r,n.prototype.F2=2*r-d;var y="0123456789abcdefghijklmnopqrstuvwxyz",A=new Array,b,h;for(b=48,h=0;h<=9;++h)A[b++]=h;for(b=97,h=10;h<36;++h)A[b++]=h;for(b=65,h=10;h<36;++h)A[b++]=h;function E(R){return y.charAt(R)}function w(R,O){var M=A[R.charCodeAt(O)];return M??-1}function S(R){for(var O=this.t-1;O>=0;--O)R.data[O]=this.data[O];R.t=this.t,R.s=this.s}function p(R){this.t=1,this.s=R<0?-1:0,R>0?this.data[0]=R:R<-1?this.data[0]=R+this.DV:this.t=0}function _(R){var O=c();return O.fromInt(R),O}function C(R,O){var M;if(O==16)M=4;else if(O==8)M=3;else if(O==256)M=8;else if(O==2)M=1;else if(O==32)M=5;else if(O==4)M=2;else{this.fromRadix(R,O);return}this.t=0,this.s=0;for(var z=R.length,Q=!1,X=0;--z>=0;){var pe=M==8?R[z]&255:w(R,z);if(pe<0){R.charAt(z)=="-"&&(Q=!0);continue}Q=!1,X==0?this.data[this.t++]=pe:X+M>this.DB?(this.data[this.t-1]|=(pe&(1<<this.DB-X)-1)<<X,this.data[this.t++]=pe>>this.DB-X):this.data[this.t-1]|=pe<<X,X+=M,X>=this.DB&&(X-=this.DB)}M==8&&R[0]&128&&(this.s=-1,X>0&&(this.data[this.t-1]|=(1<<this.DB-X)-1<<X)),this.clamp(),Q&&n.ZERO.subTo(this,this)}function k(){for(var R=this.s&this.DM;this.t>0&&this.data[this.t-1]==R;)--this.t}function N(R){if(this.s<0)return"-"+this.negate().toString(R);var O;if(R==16)O=4;else if(R==8)O=3;else if(R==2)O=1;else if(R==32)O=5;else if(R==4)O=2;else return this.toRadix(R);var M=(1<<O)-1,z,Q=!1,X="",pe=this.t,ne=this.DB-pe*this.DB%O;if(pe-- >0)for(ne<this.DB&&(z=this.data[pe]>>ne)>0&&(Q=!0,X=E(z));pe>=0;)ne<O?(z=(this.data[pe]&(1<<ne)-1)<<O-ne,z|=this.data[--pe]>>(ne+=this.DB-O)):(z=this.data[pe]>>(ne-=O)&M,ne<=0&&(ne+=this.DB,--pe)),z>0&&(Q=!0),Q&&(X+=E(z));return Q?X:"0"}function x(){var R=c();return n.ZERO.subTo(this,R),R}function f(){return this.s<0?this.negate():this}function u(R){var O=this.s-R.s;if(O!=0)return O;var M=this.t;if(O=M-R.t,O!=0)return this.s<0?-O:O;for(;--M>=0;)if((O=this.data[M]-R.data[M])!=0)return O;return 0}function T(R){var O=1,M;return(M=R>>>16)!=0&&(R=M,O+=16),(M=R>>8)!=0&&(R=M,O+=8),(M=R>>4)!=0&&(R=M,O+=4),(M=R>>2)!=0&&(R=M,O+=2),(M=R>>1)!=0&&(R=M,O+=1),O}function P(){return this.t<=0?0:this.DB*(this.t-1)+T(this.data[this.t-1]^this.s&this.DM)}function q(R,O){var M;for(M=this.t-1;M>=0;--M)O.data[M+R]=this.data[M];for(M=R-1;M>=0;--M)O.data[M]=0;O.t=this.t+R,O.s=this.s}function U(R,O){for(var M=R;M<this.t;++M)O.data[M-R]=this.data[M];O.t=Math.max(this.t-R,0),O.s=this.s}function D(R,O){var M=R%this.DB,z=this.DB-M,Q=(1<<z)-1,X=Math.floor(R/this.DB),pe=this.s<<M&this.DM,ne;for(ne=this.t-1;ne>=0;--ne)O.data[ne+X+1]=this.data[ne]>>z|pe,pe=(this.data[ne]&Q)<<M;for(ne=X-1;ne>=0;--ne)O.data[ne]=0;O.data[X]=pe,O.t=this.t+X+1,O.s=this.s,O.clamp()}function F(R,O){O.s=this.s;var M=Math.floor(R/this.DB);if(M>=this.t){O.t=0;return}var z=R%this.DB,Q=this.DB-z,X=(1<<z)-1;O.data[0]=this.data[M]>>z;for(var pe=M+1;pe<this.t;++pe)O.data[pe-M-1]|=(this.data[pe]&X)<<Q,O.data[pe-M]=this.data[pe]>>z;z>0&&(O.data[this.t-M-1]|=(this.s&X)<<Q),O.t=this.t-M,O.clamp()}function K(R,O){for(var M=0,z=0,Q=Math.min(R.t,this.t);M<Q;)z+=this.data[M]-R.data[M],O.data[M++]=z&this.DM,z>>=this.DB;if(R.t<this.t){for(z-=R.s;M<this.t;)z+=this.data[M],O.data[M++]=z&this.DM,z>>=this.DB;z+=this.s}else{for(z+=this.s;M<R.t;)z-=R.data[M],O.data[M++]=z&this.DM,z>>=this.DB;z-=R.s}O.s=z<0?-1:0,z<-1?O.data[M++]=this.DV+z:z>0&&(O.data[M++]=z),O.t=M,O.clamp()}function G(R,O){var M=this.abs(),z=R.abs(),Q=M.t;for(O.t=Q+z.t;--Q>=0;)O.data[Q]=0;for(Q=0;Q<z.t;++Q)O.data[Q+M.t]=M.am(0,z.data[Q],O,Q,0,M.t);O.s=0,O.clamp(),this.s!=R.s&&n.ZERO.subTo(O,O)}function Y(R){for(var O=this.abs(),M=R.t=2*O.t;--M>=0;)R.data[M]=0;for(M=0;M<O.t-1;++M){var z=O.am(M,O.data[M],R,2*M,0,1);(R.data[M+O.t]+=O.am(M+1,2*O.data[M],R,2*M+1,z,O.t-M-1))>=O.DV&&(R.data[M+O.t]-=O.DV,R.data[M+O.t+1]=1)}R.t>0&&(R.data[R.t-1]+=O.am(M,O.data[M],R,2*M,0,1)),R.s=0,R.clamp()}function J(R,O,M){var z=R.abs();if(!(z.t<=0)){var Q=this.abs();if(Q.t<z.t){O?.fromInt(0),M!=null&&this.copyTo(M);return}M==null&&(M=c());var X=c(),pe=this.s,ne=R.s,Pe=this.DB-T(z.data[z.t-1]);Pe>0?(z.lShiftTo(Pe,X),Q.lShiftTo(Pe,M)):(z.copyTo(X),Q.copyTo(M));var xt=X.t,Wt=X.data[xt-1];if(Wt!=0){var Ft=Wt*(1<<this.F1)+(xt>1?X.data[xt-2]>>this.F2:0),Cr=this.FV/Ft,ga=(1<<this.F1)/Ft,rr=1<<this.F2,ir=M.t,ya=ir-xt,qr=O??c();for(X.dlShiftTo(ya,qr),M.compareTo(qr)>=0&&(M.data[M.t++]=1,M.subTo(qr,M)),n.ONE.dlShiftTo(xt,qr),qr.subTo(X,X);X.t<xt;)X.data[X.t++]=0;for(;--ya>=0;){var lo=M.data[--ir]==Wt?this.DM:Math.floor(M.data[ir]*Cr+(M.data[ir-1]+rr)*ga);if((M.data[ir]+=X.am(0,lo,M,ya,0,xt))<lo)for(X.dlShiftTo(ya,qr),M.subTo(qr,M);M.data[ir]<--lo;)M.subTo(qr,M)}O!=null&&(M.drShiftTo(xt,O),pe!=ne&&n.ZERO.subTo(O,O)),M.t=xt,M.clamp(),Pe>0&&M.rShiftTo(Pe,M),pe<0&&n.ZERO.subTo(M,M)}}}function re(R){var O=c();return this.abs().divRemTo(R,null,O),this.s<0&&O.compareTo(n.ZERO)>0&&R.subTo(O,O),O}function se(R){this.m=R}function ge(R){return R.s<0||R.compareTo(this.m)>=0?R.mod(this.m):R}function be(R){return R}function Ie(R){R.divRemTo(this.m,null,R)}function $(R,O,M){R.multiplyTo(O,M),this.reduce(M)}function ke(R,O){R.squareTo(O),this.reduce(O)}se.prototype.convert=ge,se.prototype.revert=be,se.prototype.reduce=Ie,se.prototype.mulTo=$,se.prototype.sqrTo=ke;function ae(){if(this.t<1)return 0;var R=this.data[0];if(!(R&1))return 0;var O=R&3;return O=O*(2-(R&15)*O)&15,O=O*(2-(R&255)*O)&255,O=O*(2-((R&65535)*O&65535))&65535,O=O*(2-R*O%this.DV)%this.DV,O>0?this.DV-O:-O}function te(R){this.m=R,this.mp=R.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<R.DB-15)-1,this.mt2=2*R.t}function fe(R){var O=c();return R.abs().dlShiftTo(this.m.t,O),O.divRemTo(this.m,null,O),R.s<0&&O.compareTo(n.ZERO)>0&&this.m.subTo(O,O),O}function g(R){var O=c();return R.copyTo(O),this.reduce(O),O}function L(R){for(;R.t<=this.mt2;)R.data[R.t++]=0;for(var O=0;O<this.m.t;++O){var M=R.data[O]&32767,z=M*this.mpl+((M*this.mph+(R.data[O]>>15)*this.mpl&this.um)<<15)&R.DM;for(M=O+this.m.t,R.data[M]+=this.m.am(0,z,R,O,0,this.m.t);R.data[M]>=R.DV;)R.data[M]-=R.DV,R.data[++M]++}R.clamp(),R.drShiftTo(this.m.t,R),R.compareTo(this.m)>=0&&R.subTo(this.m,R)}function B(R,O){R.squareTo(O),this.reduce(O)}function v(R,O,M){R.multiplyTo(O,M),this.reduce(M)}te.prototype.convert=fe,te.prototype.revert=g,te.prototype.reduce=L,te.prototype.mulTo=v,te.prototype.sqrTo=B;function I(){return(this.t>0?this.data[0]&1:this.s)==0}function H(R,O){if(R>4294967295||R<1)return n.ONE;var M=c(),z=c(),Q=O.convert(this),X=T(R)-1;for(Q.copyTo(M);--X>=0;)if(O.sqrTo(M,z),(R&1<<X)>0)O.mulTo(z,Q,M);else{var pe=M;M=z,z=pe}return O.revert(M)}function j(R,O){var M;return R<256||O.isEven()?M=new se(O):M=new te(O),this.exp(R,M)}n.prototype.copyTo=S,n.prototype.fromInt=p,n.prototype.fromString=C,n.prototype.clamp=k,n.prototype.dlShiftTo=q,n.prototype.drShiftTo=U,n.prototype.lShiftTo=D,n.prototype.rShiftTo=F,n.prototype.subTo=K,n.prototype.multiplyTo=G,n.prototype.squareTo=Y,n.prototype.divRemTo=J,n.prototype.invDigit=ae,n.prototype.isEven=I,n.prototype.exp=H,n.prototype.toString=N,n.prototype.negate=x,n.prototype.abs=f,n.prototype.compareTo=u,n.prototype.bitLength=P,n.prototype.mod=re,n.prototype.modPowInt=j,n.ZERO=_(0),n.ONE=_(1);function Z(){var R=c();return this.copyTo(R),R}function le(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function he(){return this.t==0?this.s:this.data[0]<<24>>24}function W(){return this.t==0?this.s:this.data[0]<<16>>16}function ue(R){return Math.floor(Math.LN2*this.DB/Math.log(R))}function _e(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function Be(R){if(R==null&&(R=10),this.signum()==0||R<2||R>36)return"0";var O=this.chunkSize(R),M=Math.pow(R,O),z=_(M),Q=c(),X=c(),pe="";for(this.divRemTo(z,Q,X);Q.signum()>0;)pe=(M+X.intValue()).toString(R).substr(1)+pe,Q.divRemTo(z,Q,X);return X.intValue().toString(R)+pe}function Ce(R,O){this.fromInt(0),O==null&&(O=10);for(var M=this.chunkSize(O),z=Math.pow(O,M),Q=!1,X=0,pe=0,ne=0;ne<R.length;++ne){var Pe=w(R,ne);if(Pe<0){R.charAt(ne)=="-"&&this.signum()==0&&(Q=!0);continue}pe=O*pe+Pe,++X>=M&&(this.dMultiply(z),this.dAddOffset(pe,0),X=0,pe=0)}X>0&&(this.dMultiply(Math.pow(O,X)),this.dAddOffset(pe,0)),Q&&n.ZERO.subTo(this,this)}function Ke(R,O,M){if(typeof O=="number")if(R<2)this.fromInt(1);else for(this.fromNumber(R,M),this.testBit(R-1)||this.bitwiseTo(n.ONE.shiftLeft(R-1),st,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(O);)this.dAddOffset(2,0),this.bitLength()>R&&this.subTo(n.ONE.shiftLeft(R-1),this);else{var z=new Array,Q=R&7;z.length=(R>>3)+1,O.nextBytes(z),Q>0?z[0]&=(1<<Q)-1:z[0]=0,this.fromString(z,256)}}function Xe(){var R=this.t,O=new Array;O[0]=this.s;var M=this.DB-R*this.DB%8,z,Q=0;if(R-- >0)for(M<this.DB&&(z=this.data[R]>>M)!=(this.s&this.DM)>>M&&(O[Q++]=z|this.s<<this.DB-M);R>=0;)M<8?(z=(this.data[R]&(1<<M)-1)<<8-M,z|=this.data[--R]>>(M+=this.DB-8)):(z=this.data[R]>>(M-=8)&255,M<=0&&(M+=this.DB,--R)),z&128&&(z|=-256),Q==0&&(this.s&128)!=(z&128)&&++Q,(Q>0||z!=this.s)&&(O[Q++]=z);return O}function Ye(R){return this.compareTo(R)==0}function ze(R){return this.compareTo(R)<0?this:R}function qe(R){return this.compareTo(R)>0?this:R}function je(R,O,M){var z,Q,X=Math.min(R.t,this.t);for(z=0;z<X;++z)M.data[z]=O(this.data[z],R.data[z]);if(R.t<this.t){for(Q=R.s&this.DM,z=X;z<this.t;++z)M.data[z]=O(this.data[z],Q);M.t=this.t}else{for(Q=this.s&this.DM,z=X;z<R.t;++z)M.data[z]=O(Q,R.data[z]);M.t=R.t}M.s=O(this.s,R.s),M.clamp()}function it(R,O){return R&O}function Et(R){var O=c();return this.bitwiseTo(R,it,O),O}function st(R,O){return R|O}function Rt(R){var O=c();return this.bitwiseTo(R,st,O),O}function It(R,O){return R^O}function Ut(R){var O=c();return this.bitwiseTo(R,It,O),O}function Mt(R,O){return R&~O}function er(R){var O=c();return this.bitwiseTo(R,Mt,O),O}function mr(){for(var R=c(),O=0;O<this.t;++O)R.data[O]=this.DM&~this.data[O];return R.t=this.t,R.s=~this.s,R}function Sr(R){var O=c();return R<0?this.rShiftTo(-R,O):this.lShiftTo(R,O),O}function Vr(R){var O=c();return R<0?this.lShiftTo(-R,O):this.rShiftTo(R,O),O}function ii(R){if(R==0)return-1;var O=0;return R&65535||(R>>=16,O+=16),R&255||(R>>=8,O+=8),R&15||(R>>=4,O+=4),R&3||(R>>=2,O+=2),R&1||++O,O}function _i(){for(var R=0;R<this.t;++R)if(this.data[R]!=0)return R*this.DB+ii(this.data[R]);return this.s<0?this.t*this.DB:-1}function ns(R){for(var O=0;R!=0;)R&=R-1,++O;return O}function va(){for(var R=0,O=this.s&this.DM,M=0;M<this.t;++M)R+=ns(this.data[M]^O);return R}function at(R){var O=Math.floor(R/this.DB);return O>=this.t?this.s!=0:(this.data[O]&1<<R%this.DB)!=0}function nt(R,O){var M=n.ONE.shiftLeft(R);return this.bitwiseTo(M,O,M),M}function ot(R){return this.changeBit(R,st)}function ct(R){return this.changeBit(R,Mt)}function lt(R){return this.changeBit(R,It)}function ut(R,O){for(var M=0,z=0,Q=Math.min(R.t,this.t);M<Q;)z+=this.data[M]+R.data[M],O.data[M++]=z&this.DM,z>>=this.DB;if(R.t<this.t){for(z+=R.s;M<this.t;)z+=this.data[M],O.data[M++]=z&this.DM,z>>=this.DB;z+=this.s}else{for(z+=this.s;M<R.t;)z+=R.data[M],O.data[M++]=z&this.DM,z>>=this.DB;z+=R.s}O.s=z<0?-1:0,z>0?O.data[M++]=z:z<-1&&(O.data[M++]=this.DV+z),O.t=M,O.clamp()}function pt(R){var O=c();return this.addTo(R,O),O}function dt(R){var O=c();return this.subTo(R,O),O}function ft(R){var O=c();return this.multiplyTo(R,O),O}function ht(R){var O=c();return this.divRemTo(R,O,null),O}function mt(R){var O=c();return this.divRemTo(R,null,O),O}function vt(R){var O=c(),M=c();return this.divRemTo(R,O,M),new Array(O,M)}function gt(R){this.data[this.t]=this.am(0,R-1,this,0,0,this.t),++this.t,this.clamp()}function yt(R,O){if(R!=0){for(;this.t<=O;)this.data[this.t++]=0;for(this.data[O]+=R;this.data[O]>=this.DV;)this.data[O]-=this.DV,++O>=this.t&&(this.data[this.t++]=0),++this.data[O]}}function Ge(){}function et(R){return R}function Og(R,O,M){R.multiplyTo(O,M)}function Lg(R,O){R.squareTo(O)}Ge.prototype.convert=et,Ge.prototype.revert=et,Ge.prototype.mulTo=Og,Ge.prototype.sqrTo=Lg;function Pg(R){return this.exp(R,new Ge)}function Dg(R,O,M){var z=Math.min(this.t+R.t,O);for(M.s=0,M.t=z;z>0;)M.data[--z]=0;var Q;for(Q=M.t-this.t;z<Q;++z)M.data[z+this.t]=this.am(0,R.data[z],M,z,0,this.t);for(Q=Math.min(R.t,O);z<Q;++z)this.am(0,R.data[z],M,z,0,O-z);M.clamp()}function Ug(R,O,M){--O;var z=M.t=this.t+R.t-O;for(M.s=0;--z>=0;)M.data[z]=0;for(z=Math.max(O-this.t,0);z<R.t;++z)M.data[this.t+z-O]=this.am(O-z,R.data[z],M,0,0,this.t+z-O);M.clamp(),M.drShiftTo(1,M)}function Ei(R){this.r2=c(),this.q3=c(),n.ONE.dlShiftTo(2*R.t,this.r2),this.mu=this.r2.divide(R),this.m=R}function Mg(R){if(R.s<0||R.t>2*this.m.t)return R.mod(this.m);if(R.compareTo(this.m)<0)return R;var O=c();return R.copyTo(O),this.reduce(O),O}function Fg(R){return R}function Vg(R){for(R.drShiftTo(this.m.t-1,this.r2),R.t>this.m.t+1&&(R.t=this.m.t+1,R.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);R.compareTo(this.r2)<0;)R.dAddOffset(1,this.m.t+1);for(R.subTo(this.r2,R);R.compareTo(this.m)>=0;)R.subTo(this.m,R)}function qg(R,O){R.squareTo(O),this.reduce(O)}function jg(R,O,M){R.multiplyTo(O,M),this.reduce(M)}Ei.prototype.convert=Mg,Ei.prototype.revert=Fg,Ei.prototype.reduce=Vg,Ei.prototype.mulTo=jg,Ei.prototype.sqrTo=qg;function Hg(R,O){var M=R.bitLength(),z,Q=_(1),X;if(M<=0)return Q;M<18?z=1:M<48?z=3:M<144?z=4:M<768?z=5:z=6,M<8?X=new se(O):O.isEven()?X=new Ei(O):X=new te(O);var pe=new Array,ne=3,Pe=z-1,xt=(1<<z)-1;if(pe[1]=X.convert(this),z>1){var Wt=c();for(X.sqrTo(pe[1],Wt);ne<=xt;)pe[ne]=c(),X.mulTo(Wt,pe[ne-2],pe[ne]),ne+=2}var Ft=R.t-1,Cr,ga=!0,rr=c(),ir;for(M=T(R.data[Ft])-1;Ft>=0;){for(M>=Pe?Cr=R.data[Ft]>>M-Pe&xt:(Cr=(R.data[Ft]&(1<<M+1)-1)<<Pe-M,Ft>0&&(Cr|=R.data[Ft-1]>>this.DB+M-Pe)),ne=z;!(Cr&1);)Cr>>=1,--ne;if((M-=ne)<0&&(M+=this.DB,--Ft),ga)pe[Cr].copyTo(Q),ga=!1;else{for(;ne>1;)X.sqrTo(Q,rr),X.sqrTo(rr,Q),ne-=2;ne>0?X.sqrTo(Q,rr):(ir=Q,Q=rr,rr=ir),X.mulTo(rr,pe[Cr],Q)}for(;Ft>=0&&!(R.data[Ft]&1<<M);)X.sqrTo(Q,rr),ir=Q,Q=rr,rr=ir,--M<0&&(M=this.DB-1,--Ft)}return X.revert(Q)}function Kg(R){var O=this.s<0?this.negate():this.clone(),M=R.s<0?R.negate():R.clone();if(O.compareTo(M)<0){var z=O;O=M,M=z}var Q=O.getLowestSetBit(),X=M.getLowestSetBit();if(X<0)return O;for(Q<X&&(X=Q),X>0&&(O.rShiftTo(X,O),M.rShiftTo(X,M));O.signum()>0;)(Q=O.getLowestSetBit())>0&&O.rShiftTo(Q,O),(Q=M.getLowestSetBit())>0&&M.rShiftTo(Q,M),O.compareTo(M)>=0?(O.subTo(M,O),O.rShiftTo(1,O)):(M.subTo(O,M),M.rShiftTo(1,M));return X>0&&M.lShiftTo(X,M),M}function zg(R){if(R<=0)return 0;var O=this.DV%R,M=this.s<0?R-1:0;if(this.t>0)if(O==0)M=this.data[0]%R;else for(var z=this.t-1;z>=0;--z)M=(O*M+this.data[z])%R;return M}function Gg(R){var O=R.isEven();if(this.isEven()&&O||R.signum()==0)return n.ZERO;for(var M=R.clone(),z=this.clone(),Q=_(1),X=_(0),pe=_(0),ne=_(1);M.signum()!=0;){for(;M.isEven();)M.rShiftTo(1,M),O?((!Q.isEven()||!X.isEven())&&(Q.addTo(this,Q),X.subTo(R,X)),Q.rShiftTo(1,Q)):X.isEven()||X.subTo(R,X),X.rShiftTo(1,X);for(;z.isEven();)z.rShiftTo(1,z),O?((!pe.isEven()||!ne.isEven())&&(pe.addTo(this,pe),ne.subTo(R,ne)),pe.rShiftTo(1,pe)):ne.isEven()||ne.subTo(R,ne),ne.rShiftTo(1,ne);M.compareTo(z)>=0?(M.subTo(z,M),O&&Q.subTo(pe,Q),X.subTo(ne,X)):(z.subTo(M,z),O&&pe.subTo(Q,pe),ne.subTo(X,ne))}if(z.compareTo(n.ONE)!=0)return n.ZERO;if(ne.compareTo(R)>=0)return ne.subtract(R);if(ne.signum()<0)ne.addTo(R,ne);else return ne;return ne.signum()<0?ne.add(R):ne}var tr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Wg=(1<<26)/tr[tr.length-1];function $g(R){var O,M=this.abs();if(M.t==1&&M.data[0]<=tr[tr.length-1]){for(O=0;O<tr.length;++O)if(M.data[0]==tr[O])return!0;return!1}if(M.isEven())return!1;for(O=1;O<tr.length;){for(var z=tr[O],Q=O+1;Q<tr.length&&z<Wg;)z*=tr[Q++];for(z=M.modInt(z);O<Q;)if(z%tr[O++]==0)return!1}return M.millerRabin(R)}function Yg(R){var O=this.subtract(n.ONE),M=O.getLowestSetBit();if(M<=0)return!1;for(var z=O.shiftRight(M),Q=Qg(),X,pe=0;pe<R;++pe){do X=new n(this.bitLength(),Q);while(X.compareTo(n.ONE)<=0||X.compareTo(O)>=0);var ne=X.modPow(z,this);if(ne.compareTo(n.ONE)!=0&&ne.compareTo(O)!=0){for(var Pe=1;Pe++<M&&ne.compareTo(O)!=0;)if(ne=ne.modPowInt(2,this),ne.compareTo(n.ONE)==0)return!1;if(ne.compareTo(O)!=0)return!1}}return!0}function Qg(){return{nextBytes:function(R){for(var O=0;O<R.length;++O)R[O]=Math.floor(Math.random()*256)}}}n.prototype.chunkSize=ue,n.prototype.toRadix=Be,n.prototype.fromRadix=Ce,n.prototype.fromNumber=Ke,n.prototype.bitwiseTo=je,n.prototype.changeBit=nt,n.prototype.addTo=ut,n.prototype.dMultiply=gt,n.prototype.dAddOffset=yt,n.prototype.multiplyLowerTo=Dg,n.prototype.multiplyUpperTo=Ug,n.prototype.modInt=zg,n.prototype.millerRabin=Yg,n.prototype.clone=Z,n.prototype.intValue=le,n.prototype.byteValue=he,n.prototype.shortValue=W,n.prototype.signum=_e,n.prototype.toByteArray=Xe,n.prototype.equals=Ye,n.prototype.min=ze,n.prototype.max=qe,n.prototype.and=Et,n.prototype.or=Rt,n.prototype.xor=Ut,n.prototype.andNot=er,n.prototype.not=mr,n.prototype.shiftLeft=Sr,n.prototype.shiftRight=Vr,n.prototype.getLowestSetBit=_i,n.prototype.bitCount=va,n.prototype.testBit=at,n.prototype.setBit=ot,n.prototype.clearBit=ct,n.prototype.flipBit=lt,n.prototype.add=pt,n.prototype.subtract=dt,n.prototype.multiply=ft,n.prototype.divide=ht,n.prototype.remainder=mt,n.prototype.divideAndRemainder=vt,n.prototype.modPow=Hg,n.prototype.modInverse=Gg,n.prototype.pow=Pg,n.prototype.gcd=Kg,n.prototype.isProbablePrime=$g}}),ra=Ee({"../../node_modules/node-forge/lib/sha1.js"(i,e){"use strict";var t=Ae();Dr(),Oe();var r=e.exports=t.sha1=t.sha1||{};t.md.sha1=t.md.algorithms.sha1=r,r.create=function(){a||n();var l=null,o=t.util.createBuffer(),m=new Array(80),d={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return d.start=function(){d.messageLength=0,d.fullMessageLength=d.messageLength64=[];for(var y=d.messageLengthSize/4,A=0;A<y;++A)d.fullMessageLength.push(0);return o=t.util.createBuffer(),l={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},d},d.start(),d.update=function(y,A){A==="utf8"&&(y=t.util.encodeUtf8(y));var b=y.length;d.messageLength+=b,b=[b/4294967296>>>0,b>>>0];for(var h=d.fullMessageLength.length-1;h>=0;--h)d.fullMessageLength[h]+=b[1],b[1]=b[0]+(d.fullMessageLength[h]/4294967296>>>0),d.fullMessageLength[h]=d.fullMessageLength[h]>>>0,b[0]=b[1]/4294967296>>>0;return o.putBytes(y),c(l,m,o),(o.read>2048||o.length()===0)&&o.compact(),d},d.digest=function(){var y=t.util.createBuffer();y.putBytes(o.bytes());var A=d.fullMessageLength[d.fullMessageLength.length-1]+d.messageLengthSize,b=A&d.blockLength-1;y.putBytes(s.substr(0,d.blockLength-b));for(var h,E,w=d.fullMessageLength[0]*8,S=0;S<d.fullMessageLength.length-1;++S)h=d.fullMessageLength[S+1]*8,E=h/4294967296>>>0,w+=E,y.putInt32(w>>>0),w=h>>>0;y.putInt32(w);var p={h0:l.h0,h1:l.h1,h2:l.h2,h3:l.h3,h4:l.h4};c(p,m,y);var _=t.util.createBuffer();return _.putInt32(p.h0),_.putInt32(p.h1),_.putInt32(p.h2),_.putInt32(p.h3),_.putInt32(p.h4),_},d};var s=null,a=!1;function n(){s="\x80",s+=t.util.fillString("\0",64),a=!0}function c(l,o,m){for(var d,y,A,b,h,E,w,S,p=m.length();p>=64;){for(y=l.h0,A=l.h1,b=l.h2,h=l.h3,E=l.h4,S=0;S<16;++S)d=m.getInt32(),o[S]=d,w=h^A&(b^h),d=(y<<5|y>>>27)+w+E+1518500249+d,E=h,h=b,b=(A<<30|A>>>2)>>>0,A=y,y=d;for(;S<20;++S)d=o[S-3]^o[S-8]^o[S-14]^o[S-16],d=d<<1|d>>>31,o[S]=d,w=h^A&(b^h),d=(y<<5|y>>>27)+w+E+1518500249+d,E=h,h=b,b=(A<<30|A>>>2)>>>0,A=y,y=d;for(;S<32;++S)d=o[S-3]^o[S-8]^o[S-14]^o[S-16],d=d<<1|d>>>31,o[S]=d,w=A^b^h,d=(y<<5|y>>>27)+w+E+1859775393+d,E=h,h=b,b=(A<<30|A>>>2)>>>0,A=y,y=d;for(;S<40;++S)d=o[S-6]^o[S-16]^o[S-28]^o[S-32],d=d<<2|d>>>30,o[S]=d,w=A^b^h,d=(y<<5|y>>>27)+w+E+1859775393+d,E=h,h=b,b=(A<<30|A>>>2)>>>0,A=y,y=d;for(;S<60;++S)d=o[S-6]^o[S-16]^o[S-28]^o[S-32],d=d<<2|d>>>30,o[S]=d,w=A&b|h&(A^b),d=(y<<5|y>>>27)+w+E+2400959708+d,E=h,h=b,b=(A<<30|A>>>2)>>>0,A=y,y=d;for(;S<80;++S)d=o[S-6]^o[S-16]^o[S-28]^o[S-32],d=d<<2|d>>>30,o[S]=d,w=A^b^h,d=(y<<5|y>>>27)+w+E+3395469782+d,E=h,h=b,b=(A<<30|A>>>2)>>>0,A=y,y=d;l.h0=l.h0+y|0,l.h1=l.h1+A|0,l.h2=l.h2+b|0,l.h3=l.h3+h|0,l.h4=l.h4+E|0,p-=64}}}}),Rh=Ee({"../../node_modules/node-forge/lib/pkcs1.js"(i,e){"use strict";var t=Ae();Oe(),fr(),ra();var r=e.exports=t.pkcs1=t.pkcs1||{};r.encode_rsa_oaep=function(a,n,c){var l,o,m,d;typeof c=="string"?(l=c,o=arguments[3]||void 0,m=arguments[4]||void 0):c&&(l=c.label||void 0,o=c.seed||void 0,m=c.md||void 0,c.mgf1&&c.mgf1.md&&(d=c.mgf1.md)),m?m.start():m=t.md.sha1.create(),d||(d=m);var y=Math.ceil(a.n.bitLength()/8),A=y-2*m.digestLength-2;if(n.length>A){var b=new Error("RSAES-OAEP input message length is too long.");throw b.length=n.length,b.maxLength=A,b}l||(l=""),m.update(l,"raw");for(var h=m.digest(),E="",w=A-n.length,S=0;S<w;S++)E+="\0";var p=h.getBytes()+E+""+n;if(!o)o=t.random.getBytes(m.digestLength);else if(o.length!==m.digestLength){var b=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw b.seedLength=o.length,b.digestLength=m.digestLength,b}var _=s(o,y-m.digestLength-1,d),C=t.util.xorBytes(p,_,p.length),k=s(C,m.digestLength,d),N=t.util.xorBytes(o,k,o.length);return"\0"+N+C},r.decode_rsa_oaep=function(a,n,c){var l,o,m;typeof c=="string"?(l=c,o=arguments[3]||void 0):c&&(l=c.label||void 0,o=c.md||void 0,c.mgf1&&c.mgf1.md&&(m=c.mgf1.md));var d=Math.ceil(a.n.bitLength()/8);if(n.length!==d){var C=new Error("RSAES-OAEP encoded message length is invalid.");throw C.length=n.length,C.expectedLength=d,C}if(o===void 0?o=t.md.sha1.create():o.start(),m||(m=o),d<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");l||(l=""),o.update(l,"raw");for(var y=o.digest().getBytes(),A=n.charAt(0),b=n.substring(1,o.digestLength+1),h=n.substring(1+o.digestLength),E=s(h,o.digestLength,m),w=t.util.xorBytes(b,E,b.length),S=s(w,d-o.digestLength-1,m),p=t.util.xorBytes(h,S,h.length),_=p.substring(0,o.digestLength),C=A!=="\0",k=0;k<o.digestLength;++k)C|=y.charAt(k)!==_.charAt(k);for(var N=1,x=o.digestLength,f=o.digestLength;f<p.length;f++){var u=p.charCodeAt(f),T=u&1^1,P=N?65534:0;C|=u&P,N=N&T,x+=N}if(C||p.charCodeAt(x)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(x+1)};function s(a,n,c){c||(c=t.md.sha1.create());for(var l="",o=Math.ceil(n/c.digestLength),m=0;m<o;++m){var d=String.fromCharCode(m>>24&255,m>>16&255,m>>8&255,m&255);c.start(),c.update(a+d),l+=c.digest().getBytes()}return l.substring(0,n)}}}),Ih=Ee({"../../node_modules/node-forge/lib/prime.js"(i,e){"use strict";var t=Ae();Oe(),Pn(),fr(),function(){if(t.prime){e.exports=t.prime;return}var r=e.exports=t.prime=t.prime||{},s=t.jsbn.BigInteger,a=[6,4,2,4,2,4,6,2],n=new s(null);n.fromInt(30);var c=function(b,h){return b|h};r.generateProbablePrime=function(b,h,E){typeof h=="function"&&(E=h,h={}),h=h||{};var w=h.algorithm||"PRIMEINC";typeof w=="string"&&(w={name:w}),w.options=w.options||{};var S=h.prng||t.random,p={nextBytes:function(_){for(var C=S.getBytesSync(_.length),k=0;k<_.length;++k)_[k]=C.charCodeAt(k)}};if(w.name==="PRIMEINC")return l(b,p,w.options,E);throw new Error("Invalid prime generation algorithm: "+w.name)};function l(b,h,E,w){return"workers"in E?d(b,h,E,w):o(b,h,E,w)}function o(b,h,E,w){var S=y(b,h),p=0,_=A(S.bitLength());"millerRabinTests"in E&&(_=E.millerRabinTests);var C=10;"maxBlockTime"in E&&(C=E.maxBlockTime),m(S,b,h,p,_,C,w)}function m(b,h,E,w,S,p,_){var C=+new Date;do{if(b.bitLength()>h&&(b=y(h,E)),b.isProbablePrime(S))return _(null,b);b.dAddOffset(a[w++%8],0)}while(p<0||+new Date-C<p);t.util.setImmediate(function(){m(b,h,E,w,S,p,_)})}function d(b,h,E,w){if(typeof Worker>"u")return o(b,h,E,w);var S=y(b,h),p=E.workers,_=E.workLoad||100,C=_*30/8,k=E.workerScript||"forge/prime.worker.js";if(p===-1)return t.util.estimateCores(function(x,f){x&&(f=2),p=f-1,N()});N();function N(){p=Math.max(1,p);for(var x=[],f=0;f<p;++f)x[f]=new Worker(k);for(var u=p,f=0;f<p;++f)x[f].addEventListener("message",P);var T=!1;function P(q){if(!T){--u;var U=q.data;if(U.found){for(var D=0;D<x.length;++D)x[D].terminate();return T=!0,w(null,new s(U.prime,16))}S.bitLength()>b&&(S=y(b,h));var F=S.toString(16);q.target.postMessage({hex:F,workLoad:_}),S.dAddOffset(C,0)}}}}function y(b,h){var E=new s(b,h),w=b-1;return E.testBit(w)||E.bitwiseTo(s.ONE.shiftLeft(w),c,E),E.dAddOffset(31-E.mod(n).byteValue(),0),E}function A(b){return b<=100?27:b<=150?18:b<=200?15:b<=250?12:b<=300?9:b<=350?8:b<=400?7:b<=500?6:b<=600?5:b<=800?4:b<=1250?3:2}}()}}),Dn=Ee({"../../node_modules/node-forge/lib/rsa.js"(i,e){"use strict";var t=Ae();_r(),Pn(),gi(),Rh(),Ih(),fr(),Oe(),typeof r>"u"&&(r=t.jsbn.BigInteger);var r,s=t.util.isNodejs?ul("crypto"):null,a=t.asn1,n=t.util;t.pki=t.pki||{},e.exports=t.pki.rsa=t.rsa=t.rsa||{};var c=t.pki,l=[6,4,2,4,2,4,6,2],o={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},m={name:"RSAPrivateKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},d={name:"RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},y=t.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},A={name:"DigestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},b=function(f){var u;if(f.algorithm in c.oids)u=c.oids[f.algorithm];else{var T=new Error("Unknown message digest algorithm.");throw T.algorithm=f.algorithm,T}var P=a.oidToDer(u).getBytes(),q=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),U=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);U.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,P)),U.value.push(a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,""));var D=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,f.digest().getBytes());return q.value.push(U),q.value.push(D),a.toDer(q).getBytes()},h=function(f,u,T){if(T)return f.modPow(u.e,u.n);if(!u.p||!u.q)return f.modPow(u.d,u.n);u.dP||(u.dP=u.d.mod(u.p.subtract(r.ONE))),u.dQ||(u.dQ=u.d.mod(u.q.subtract(r.ONE))),u.qInv||(u.qInv=u.q.modInverse(u.p));var P;do P=new r(t.util.bytesToHex(t.random.getBytes(u.n.bitLength()/8)),16);while(P.compareTo(u.n)>=0||!P.gcd(u.n).equals(r.ONE));f=f.multiply(P.modPow(u.e,u.n)).mod(u.n);for(var q=f.mod(u.p).modPow(u.dP,u.p),U=f.mod(u.q).modPow(u.dQ,u.q);q.compareTo(U)<0;)q=q.add(u.p);var D=q.subtract(U).multiply(u.qInv).mod(u.p).multiply(u.q).add(U);return D=D.multiply(P.modInverse(u.n)).mod(u.n),D};c.rsa.encrypt=function(f,u,T){var P=T,q,U=Math.ceil(u.n.bitLength()/8);T!==!1&&T!==!0?(P=T===2,q=E(f,u,T)):(q=t.util.createBuffer(),q.putBytes(f));for(var D=new r(q.toHex(),16),F=h(D,u,P),K=F.toString(16),G=t.util.createBuffer(),Y=U-Math.ceil(K.length/2);Y>0;)G.putByte(0),--Y;return G.putBytes(t.util.hexToBytes(K)),G.getBytes()},c.rsa.decrypt=function(f,u,T,P){var q=Math.ceil(u.n.bitLength()/8);if(f.length!==q){var U=new Error("Encrypted message length is invalid.");throw U.length=f.length,U.expected=q,U}var D=new r(t.util.createBuffer(f).toHex(),16);if(D.compareTo(u.n)>=0)throw new Error("Encrypted message is invalid.");for(var F=h(D,u,T),K=F.toString(16),G=t.util.createBuffer(),Y=q-Math.ceil(K.length/2);Y>0;)G.putByte(0),--Y;return G.putBytes(t.util.hexToBytes(K)),P!==!1?w(G.getBytes(),u,T):G.getBytes()},c.rsa.createKeyPairGenerationState=function(f,u,T){typeof f=="string"&&(f=parseInt(f,10)),f=f||2048,T=T||{};var P=T.prng||t.random,q={nextBytes:function(F){for(var K=P.getBytesSync(F.length),G=0;G<F.length;++G)F[G]=K.charCodeAt(G)}},U=T.algorithm||"PRIMEINC",D;if(U==="PRIMEINC")D={algorithm:U,state:0,bits:f,rng:q,eInt:u||65537,e:new r(null),p:null,q:null,qBits:f>>1,pBits:f-(f>>1),pqState:0,num:null,keys:null},D.e.fromInt(D.eInt);else throw new Error("Invalid key generation algorithm: "+U);return D},c.rsa.stepKeyPairGenerationState=function(f,u){"algorithm"in f||(f.algorithm="PRIMEINC");var T=new r(null);T.fromInt(30);for(var P=0,q=function(J,re){return J|re},U=+new Date,D,F=0;f.keys===null&&(u<=0||F<u);){if(f.state===0){var K=f.p===null?f.pBits:f.qBits,G=K-1;f.pqState===0?(f.num=new r(K,f.rng),f.num.testBit(G)||f.num.bitwiseTo(r.ONE.shiftLeft(G),q,f.num),f.num.dAddOffset(31-f.num.mod(T).byteValue(),0),P=0,++f.pqState):f.pqState===1?f.num.bitLength()>K?f.pqState=0:f.num.isProbablePrime(_(f.num.bitLength()))?++f.pqState:f.num.dAddOffset(l[P++%8],0):f.pqState===2?f.pqState=f.num.subtract(r.ONE).gcd(f.e).compareTo(r.ONE)===0?3:0:f.pqState===3&&(f.pqState=0,f.p===null?f.p=f.num:f.q=f.num,f.p!==null&&f.q!==null&&++f.state,f.num=null)}else if(f.state===1)f.p.compareTo(f.q)<0&&(f.num=f.p,f.p=f.q,f.q=f.num),++f.state;else if(f.state===2)f.p1=f.p.subtract(r.ONE),f.q1=f.q.subtract(r.ONE),f.phi=f.p1.multiply(f.q1),++f.state;else if(f.state===3)f.phi.gcd(f.e).compareTo(r.ONE)===0?++f.state:(f.p=null,f.q=null,f.state=0);else if(f.state===4)f.n=f.p.multiply(f.q),f.n.bitLength()===f.bits?++f.state:(f.q=null,f.state=0);else if(f.state===5){var Y=f.e.modInverse(f.phi);f.keys={privateKey:c.rsa.setPrivateKey(f.n,f.e,Y,f.p,f.q,Y.mod(f.p1),Y.mod(f.q1),f.q.modInverse(f.p)),publicKey:c.rsa.setPublicKey(f.n,f.e)}}D=+new Date,F+=D-U,U=D}return f.keys!==null},c.rsa.generateKeyPair=function(f,u,T,P){if(arguments.length===1?typeof f=="object"?(T=f,f=void 0):typeof f=="function"&&(P=f,f=void 0):arguments.length===2?typeof f=="number"?typeof u=="function"?(P=u,u=void 0):typeof u!="number"&&(T=u,u=void 0):(T=f,P=u,f=void 0,u=void 0):arguments.length===3&&(typeof u=="number"?typeof T=="function"&&(P=T,T=void 0):(P=T,T=u,u=void 0)),T=T||{},f===void 0&&(f=T.bits||2048),u===void 0&&(u=T.e||65537),!t.options.usePureJavaScript&&!T.prng&&f>=256&&f<=16384&&(u===65537||u===3)){if(P){if(C("generateKeyPair"))return s.generateKeyPair("rsa",{modulusLength:f,publicExponent:u,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(F,K,G){if(F)return P(F);P(null,{privateKey:c.privateKeyFromPem(G),publicKey:c.publicKeyFromPem(K)})});if(k("generateKey")&&k("exportKey"))return n.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:f,publicExponent:x(u),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(F){return n.globalScope.crypto.subtle.exportKey("pkcs8",F.privateKey)}).then(void 0,function(F){P(F)}).then(function(F){if(F){var K=c.privateKeyFromAsn1(a.fromDer(t.util.createBuffer(F)));P(null,{privateKey:K,publicKey:c.setRsaPublicKey(K.n,K.e)})}});if(N("generateKey")&&N("exportKey")){var q=n.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:f,publicExponent:x(u),hash:{name:"SHA-256"}},!0,["sign","verify"]);q.oncomplete=function(F){var K=F.target.result,G=n.globalScope.msCrypto.subtle.exportKey("pkcs8",K.privateKey);G.oncomplete=function(Y){var J=Y.target.result,re=c.privateKeyFromAsn1(a.fromDer(t.util.createBuffer(J)));P(null,{privateKey:re,publicKey:c.setRsaPublicKey(re.n,re.e)})},G.onerror=function(Y){P(Y)}},q.onerror=function(F){P(F)};return}}else if(C("generateKeyPairSync")){var U=s.generateKeyPairSync("rsa",{modulusLength:f,publicExponent:u,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c.privateKeyFromPem(U.privateKey),publicKey:c.publicKeyFromPem(U.publicKey)}}}var D=c.rsa.createKeyPairGenerationState(f,u,T);if(!P)return c.rsa.stepKeyPairGenerationState(D,0),D.keys;S(D,T,P)},c.setRsaPublicKey=c.rsa.setPublicKey=function(f,u){var T={n:f,e:u};return T.encrypt=function(P,q,U){if(typeof q=="string"?q=q.toUpperCase():q===void 0&&(q="RSAES-PKCS1-V1_5"),q==="RSAES-PKCS1-V1_5")q={encode:function(F,K,G){return E(F,K,2).getBytes()}};else if(q==="RSA-OAEP"||q==="RSAES-OAEP")q={encode:function(F,K){return t.pkcs1.encode_rsa_oaep(K,F,U)}};else if(["RAW","NONE","NULL",null].indexOf(q)!==-1)q={encode:function(F){return F}};else if(typeof q=="string")throw new Error('Unsupported encryption scheme: "'+q+'".');var D=q.encode(P,T,!0);return c.rsa.encrypt(D,T,!0)},T.verify=function(P,q,U,D){typeof U=="string"?U=U.toUpperCase():U===void 0&&(U="RSASSA-PKCS1-V1_5"),D===void 0&&(D={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in D||(D._parseAllDigestBytes=!0),U==="RSASSA-PKCS1-V1_5"?U={verify:function(K,G){G=w(G,T,!0);var Y=a.fromDer(G,{parseAllBytes:D._parseAllDigestBytes}),J={},re=[];if(!a.validate(Y,A,J,re)){var se=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw se.errors=re,se}var ge=a.derToOid(J.algorithmIdentifier);if(!(ge===t.oids.md2||ge===t.oids.md5||ge===t.oids.sha1||ge===t.oids.sha224||ge===t.oids.sha256||ge===t.oids.sha384||ge===t.oids.sha512||ge===t.oids["sha512-224"]||ge===t.oids["sha512-256"])){var se=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw se.oid=ge,se}if((ge===t.oids.md2||ge===t.oids.md5)&&!("parameters"in J))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return K===J.digest}}:(U==="NONE"||U==="NULL"||U===null)&&(U={verify:function(K,G){return G=w(G,T,!0),K===G}});var F=c.rsa.decrypt(q,T,!0,!1);return U.verify(P,F,T.n.bitLength())},T},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(f,u,T,P,q,U,D,F){var K={n:f,e:u,d:T,p:P,q,dP:U,dQ:D,qInv:F};return K.decrypt=function(G,Y,J){typeof Y=="string"?Y=Y.toUpperCase():Y===void 0&&(Y="RSAES-PKCS1-V1_5");var re=c.rsa.decrypt(G,K,!1,!1);if(Y==="RSAES-PKCS1-V1_5")Y={decode:w};else if(Y==="RSA-OAEP"||Y==="RSAES-OAEP")Y={decode:function(se,ge){return t.pkcs1.decode_rsa_oaep(ge,se,J)}};else if(["RAW","NONE","NULL",null].indexOf(Y)!==-1)Y={decode:function(se){return se}};else throw new Error('Unsupported encryption scheme: "'+Y+'".');return Y.decode(re,K,!1)},K.sign=function(G,Y){var J=!1;typeof Y=="string"&&(Y=Y.toUpperCase()),Y===void 0||Y==="RSASSA-PKCS1-V1_5"?(Y={encode:b},J=1):(Y==="NONE"||Y==="NULL"||Y===null)&&(Y={encode:function(){return G}},J=1);var re=Y.encode(G,K.n.bitLength());return c.rsa.encrypt(re,K,J)},K},c.wrapRsaPrivateKey=function(f){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(f).getBytes())])},c.privateKeyFromAsn1=function(f){var u={},T=[];if(a.validate(f,o,u,T)&&(f=a.fromDer(t.util.createBuffer(u.privateKey))),u={},T=[],!a.validate(f,m,u,T)){var P=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw P.errors=T,P}var q,U,D,F,K,G,Y,J;return q=t.util.createBuffer(u.privateKeyModulus).toHex(),U=t.util.createBuffer(u.privateKeyPublicExponent).toHex(),D=t.util.createBuffer(u.privateKeyPrivateExponent).toHex(),F=t.util.createBuffer(u.privateKeyPrime1).toHex(),K=t.util.createBuffer(u.privateKeyPrime2).toHex(),G=t.util.createBuffer(u.privateKeyExponent1).toHex(),Y=t.util.createBuffer(u.privateKeyExponent2).toHex(),J=t.util.createBuffer(u.privateKeyCoefficient).toHex(),c.setRsaPrivateKey(new r(q,16),new r(U,16),new r(D,16),new r(F,16),new r(K,16),new r(G,16),new r(Y,16),new r(J,16))},c.privateKeyToAsn1=c.privateKeyToRSAPrivateKey=function(f){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p(f.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p(f.e)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p(f.d)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p(f.p)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p(f.q)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p(f.dP)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p(f.dQ)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p(f.qInv))])},c.publicKeyFromAsn1=function(f){var u={},T=[];if(a.validate(f,y,u,T)){var P=a.derToOid(u.publicKeyOid);if(P!==c.oids.rsaEncryption){var q=new Error("Cannot read public key. Unknown OID.");throw q.oid=P,q}f=u.rsaPublicKey}if(T=[],!a.validate(f,d,u,T)){var q=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw q.errors=T,q}var U=t.util.createBuffer(u.publicKeyModulus).toHex(),D=t.util.createBuffer(u.publicKeyExponent).toHex();return c.setRsaPublicKey(new r(U,16),new r(D,16))},c.publicKeyToAsn1=c.publicKeyToSubjectPublicKeyInfo=function(f){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,[c.publicKeyToRSAPublicKey(f)])])},c.publicKeyToRSAPublicKey=function(f){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p(f.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p(f.e))])};function E(f,u,T){var P=t.util.createBuffer(),q=Math.ceil(u.n.bitLength()/8);if(f.length>q-11){var U=new Error("Message is too long for PKCS#1 v1.5 padding.");throw U.length=f.length,U.max=q-11,U}P.putByte(0),P.putByte(T);var D=q-3-f.length,F;if(T===0||T===1){F=T===0?0:255;for(var K=0;K<D;++K)P.putByte(F)}else for(;D>0;){for(var G=0,Y=t.random.getBytes(D),K=0;K<D;++K)F=Y.charCodeAt(K),F===0?++G:P.putByte(F);D=G}return P.putByte(0),P.putBytes(f),P}function w(f,u,T,P){var q=Math.ceil(u.n.bitLength()/8),U=t.util.createBuffer(f),D=U.getByte(),F=U.getByte();if(D!==0||T&&F!==0&&F!==1||!T&&F!=2||T&&F===0&&typeof P>"u")throw new Error("Encryption block is invalid.");var K=0;if(F===0){K=q-3-P;for(var G=0;G<K;++G)if(U.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(F===1)for(K=0;U.length()>1;){if(U.getByte()!==255){--U.read;break}++K}else if(F===2)for(K=0;U.length()>1;){if(U.getByte()===0){--U.read;break}++K}var Y=U.getByte();if(Y!==0||K!==q-3-U.length())throw new Error("Encryption block is invalid.");return U.getBytes()}function S(f,u,T){typeof u=="function"&&(T=u,u={}),u=u||{};var P={algorithm:{name:u.algorithm||"PRIMEINC",options:{workers:u.workers||2,workLoad:u.workLoad||100,workerScript:u.workerScript}}};"prng"in u&&(P.prng=u.prng),q();function q(){U(f.pBits,function(F,K){if(F)return T(F);if(f.p=K,f.q!==null)return D(F,f.q);U(f.qBits,D)})}function U(F,K){t.prime.generateProbablePrime(F,P,K)}function D(F,K){if(F)return T(F);if(f.q=K,f.p.compareTo(f.q)<0){var G=f.p;f.p=f.q,f.q=G}if(f.p.subtract(r.ONE).gcd(f.e).compareTo(r.ONE)!==0){f.p=null,q();return}if(f.q.subtract(r.ONE).gcd(f.e).compareTo(r.ONE)!==0){f.q=null,U(f.qBits,D);return}if(f.p1=f.p.subtract(r.ONE),f.q1=f.q.subtract(r.ONE),f.phi=f.p1.multiply(f.q1),f.phi.gcd(f.e).compareTo(r.ONE)!==0){f.p=f.q=null,q();return}if(f.n=f.p.multiply(f.q),f.n.bitLength()!==f.bits){f.q=null,U(f.qBits,D);return}var Y=f.e.modInverse(f.phi);f.keys={privateKey:c.rsa.setPrivateKey(f.n,f.e,Y,f.p,f.q,Y.mod(f.p1),Y.mod(f.q1),f.q.modInverse(f.p)),publicKey:c.rsa.setPublicKey(f.n,f.e)},T(null,f.keys)}}function p(f){var u=f.toString(16);u[0]>="8"&&(u="00"+u);var T=t.util.hexToBytes(u);return T.length>1&&(T.charCodeAt(0)===0&&!(T.charCodeAt(1)&128)||T.charCodeAt(0)===255&&(T.charCodeAt(1)&128)===128)?T.substr(1):T}function _(f){return f<=100?27:f<=150?18:f<=200?15:f<=250?12:f<=300?9:f<=350?8:f<=400?7:f<=500?6:f<=600?5:f<=800?4:f<=1250?3:2}function C(f){return t.util.isNodejs&&typeof s[f]=="function"}function k(f){return typeof n.globalScope<"u"&&typeof n.globalScope.crypto=="object"&&typeof n.globalScope.crypto.subtle=="object"&&typeof n.globalScope.crypto.subtle[f]=="function"}function N(f){return typeof n.globalScope<"u"&&typeof n.globalScope.msCrypto=="object"&&typeof n.globalScope.msCrypto.subtle=="object"&&typeof n.globalScope.msCrypto.subtle[f]=="function"}function x(f){for(var u=t.util.hexToBytes(f.toString(16)),T=new Uint8Array(u.length),P=0;P<u.length;++P)T[P]=u.charCodeAt(P);return T}}}),Bh=Ee({"../../node_modules/node-forge/lib/pbe.js"(i,e){"use strict";var t=Ae();vi(),_r(),Ln(),Dr(),gi(),fl(),Zi(),fr(),kh(),Dn(),Oe(),typeof r>"u"&&(r=t.jsbn.BigInteger);var r,s=t.asn1,a=t.pki=t.pki||{};e.exports=a.pbe=t.pbe=t.pbe||{};var n=a.oids,c={name:"EncryptedPrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},l={name:"PBES2Algorithms",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},o={name:"pkcs-12PbeParams",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"iterations"}]};a.encryptPrivateKeyInfo=function(b,h,E){E=E||{},E.saltSize=E.saltSize||8,E.count=E.count||2048,E.algorithm=E.algorithm||"aes128",E.prfAlgorithm=E.prfAlgorithm||"sha1";var w=t.random.getBytesSync(E.saltSize),S=E.count,p=s.integerToDer(S),_,C,k;if(E.algorithm.indexOf("aes")===0||E.algorithm==="des"){var N,x,f;switch(E.algorithm){case"aes128":_=16,N=16,x=n["aes128-CBC"],f=t.aes.createEncryptionCipher;break;case"aes192":_=24,N=16,x=n["aes192-CBC"],f=t.aes.createEncryptionCipher;break;case"aes256":_=32,N=16,x=n["aes256-CBC"],f=t.aes.createEncryptionCipher;break;case"des":_=8,N=8,x=n.desCBC,f=t.des.createEncryptionCipher;break;default:var u=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw u.algorithm=E.algorithm,u}var T="hmacWith"+E.prfAlgorithm.toUpperCase(),P=y(T),q=t.pkcs5.pbkdf2(h,w,S,_,P),U=t.random.getBytesSync(N),D=f(q);D.start(U),D.update(s.toDer(b)),D.finish(),k=D.output.getBytes();var F=A(w,p,_,T);C=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.pkcs5PBES2).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.pkcs5PBKDF2).getBytes()),F]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(x).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,U)])])])}else if(E.algorithm==="3des"){_=24;var K=new t.util.ByteBuffer(w),q=a.pbe.generatePkcs12Key(h,K,1,S,_),U=a.pbe.generatePkcs12Key(h,K,2,S,_),D=t.des.createEncryptionCipher(q);D.start(U),D.update(s.toDer(b)),D.finish(),k=D.output.getBytes(),C=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,w),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p.getBytes())])])}else{var u=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw u.algorithm=E.algorithm,u}var G=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[C,s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,k)]);return G},a.decryptPrivateKeyInfo=function(b,h){var E=null,w={},S=[];if(!s.validate(b,c,w,S)){var p=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=S,p}var _=s.derToOid(w.encryptionOid),C=a.pbe.getCipher(_,w.encryptionParams,h),k=t.util.createBuffer(w.encryptedData);return C.update(k),C.finish()&&(E=s.fromDer(C.output)),E},a.encryptedPrivateKeyToPem=function(b,h){var E={type:"ENCRYPTED PRIVATE KEY",body:s.toDer(b).getBytes()};return t.pem.encode(E,{maxline:h})},a.encryptedPrivateKeyFromPem=function(b){var h=t.pem.decode(b)[0];if(h.type!=="ENCRYPTED PRIVATE KEY"){var E=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw E.headerType=h.type,E}if(h.procType&&h.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return s.fromDer(h.body)},a.encryptRsaPrivateKey=function(b,h,E){if(E=E||{},!E.legacy){var w=a.wrapRsaPrivateKey(a.privateKeyToAsn1(b));return w=a.encryptPrivateKeyInfo(w,h,E),a.encryptedPrivateKeyToPem(w)}var S,p,_,C;switch(E.algorithm){case"aes128":S="AES-128-CBC",_=16,p=t.random.getBytesSync(16),C=t.aes.createEncryptionCipher;break;case"aes192":S="AES-192-CBC",_=24,p=t.random.getBytesSync(16),C=t.aes.createEncryptionCipher;break;case"aes256":S="AES-256-CBC",_=32,p=t.random.getBytesSync(16),C=t.aes.createEncryptionCipher;break;case"3des":S="DES-EDE3-CBC",_=24,p=t.random.getBytesSync(8),C=t.des.createEncryptionCipher;break;case"des":S="DES-CBC",_=8,p=t.random.getBytesSync(8),C=t.des.createEncryptionCipher;break;default:var k=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+E.algorithm+'".');throw k.algorithm=E.algorithm,k}var N=t.pbe.opensslDeriveBytes(h,p.substr(0,8),_),x=C(N);x.start(p),x.update(s.toDer(a.privateKeyToAsn1(b))),x.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:S,parameters:t.util.bytesToHex(p).toUpperCase()},body:x.output.getBytes()};return t.pem.encode(f)},a.decryptRsaPrivateKey=function(b,h){var E=null,w=t.pem.decode(b)[0];if(w.type!=="ENCRYPTED PRIVATE KEY"&&w.type!=="PRIVATE KEY"&&w.type!=="RSA PRIVATE KEY"){var S=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw S.headerType=S,S}if(w.procType&&w.procType.type==="ENCRYPTED"){var p,_;switch(w.dekInfo.algorithm){case"DES-CBC":p=8,_=t.des.createDecryptionCipher;break;case"DES-EDE3-CBC":p=24,_=t.des.createDecryptionCipher;break;case"AES-128-CBC":p=16,_=t.aes.createDecryptionCipher;break;case"AES-192-CBC":p=24,_=t.aes.createDecryptionCipher;break;case"AES-256-CBC":p=32,_=t.aes.createDecryptionCipher;break;case"RC2-40-CBC":p=5,_=function(f){return t.rc2.createDecryptionCipher(f,40)};break;case"RC2-64-CBC":p=8,_=function(f){return t.rc2.createDecryptionCipher(f,64)};break;case"RC2-128-CBC":p=16,_=function(f){return t.rc2.createDecryptionCipher(f,128)};break;default:var S=new Error('Could not decrypt private key; unsupported encryption algorithm "'+w.dekInfo.algorithm+'".');throw S.algorithm=w.dekInfo.algorithm,S}var C=t.util.hexToBytes(w.dekInfo.parameters),k=t.pbe.opensslDeriveBytes(h,C.substr(0,8),p),N=_(k);if(N.start(C),N.update(t.util.createBuffer(w.body)),N.finish())E=N.output.getBytes();else return E}else E=w.body;return w.type==="ENCRYPTED PRIVATE KEY"?E=a.decryptPrivateKeyInfo(s.fromDer(E),h):E=s.fromDer(E),E!==null&&(E=a.privateKeyFromAsn1(E)),E},a.pbe.generatePkcs12Key=function(b,h,E,w,S,p){var _,C;if(typeof p>"u"||p===null){if(!("sha1"in t.md))throw new Error('"sha1" hash algorithm unavailable.');p=t.md.sha1.create()}var k=p.digestLength,N=p.blockLength,x=new t.util.ByteBuffer,f=new t.util.ByteBuffer;if(b!=null){for(C=0;C<b.length;C++)f.putInt16(b.charCodeAt(C));f.putInt16(0)}var u=f.length(),T=h.length(),P=new t.util.ByteBuffer;P.fillWithByte(E,N);var q=N*Math.ceil(T/N),U=new t.util.ByteBuffer;for(C=0;C<q;C++)U.putByte(h.at(C%T));var D=N*Math.ceil(u/N),F=new t.util.ByteBuffer;for(C=0;C<D;C++)F.putByte(f.at(C%u));var K=U;K.putBuffer(F);for(var G=Math.ceil(S/k),Y=1;Y<=G;Y++){var J=new t.util.ByteBuffer;J.putBytes(P.bytes()),J.putBytes(K.bytes());for(var re=0;re<w;re++)p.start(),p.update(J.getBytes()),J=p.digest();var se=new t.util.ByteBuffer;for(C=0;C<N;C++)se.putByte(J.at(C%k));var ge=Math.ceil(T/N)+Math.ceil(u/N),be=new t.util.ByteBuffer;for(_=0;_<ge;_++){var Ie=new t.util.ByteBuffer(K.getBytes(N)),$=511;for(C=se.length()-1;C>=0;C--)$=$>>8,$+=se.at(C)+Ie.at(C),Ie.setAt(C,$&255);be.putBuffer(Ie)}K=be,x.putBuffer(J)}return x.truncate(x.length()-S),x},a.pbe.getCipher=function(b,h,E){switch(b){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(b,h,E);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(b,h,E);default:var w=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw w.oid=b,w.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],w}},a.pbe.getCipherForPBES2=function(b,h,E){var w={},S=[];if(!s.validate(h,l,w,S)){var p=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=S,p}if(b=s.derToOid(w.kdfOid),b!==a.oids.pkcs5PBKDF2){var p=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw p.oid=b,p.supportedOids=["pkcs5PBKDF2"],p}if(b=s.derToOid(w.encOid),b!==a.oids["aes128-CBC"]&&b!==a.oids["aes192-CBC"]&&b!==a.oids["aes256-CBC"]&&b!==a.oids["des-EDE3-CBC"]&&b!==a.oids.desCBC){var p=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw p.oid=b,p.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],p}var _=w.kdfSalt,C=t.util.createBuffer(w.kdfIterationCount);C=C.getInt(C.length()<<3);var k,N;switch(a.oids[b]){case"aes128-CBC":k=16,N=t.aes.createDecryptionCipher;break;case"aes192-CBC":k=24,N=t.aes.createDecryptionCipher;break;case"aes256-CBC":k=32,N=t.aes.createDecryptionCipher;break;case"des-EDE3-CBC":k=24,N=t.des.createDecryptionCipher;break;case"desCBC":k=8,N=t.des.createDecryptionCipher;break}var x=d(w.prfOid),f=t.pkcs5.pbkdf2(E,_,C,k,x),u=w.encIv,T=N(f);return T.start(u),T},a.pbe.getCipherForPKCS12PBE=function(b,h,E){var w={},S=[];if(!s.validate(h,o,w,S)){var p=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=S,p}var _=t.util.createBuffer(w.salt),C=t.util.createBuffer(w.iterations);C=C.getInt(C.length()<<3);var k,N,x;switch(b){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:k=24,N=8,x=t.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:k=5,N=8,x=function(q,U){var D=t.rc2.createDecryptionCipher(q,40);return D.start(U,null),D};break;default:var p=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw p.oid=b,p}var f=d(w.prfOid),u=a.pbe.generatePkcs12Key(E,_,1,C,k,f);f.start();var T=a.pbe.generatePkcs12Key(E,_,2,C,N,f);return x(u,T)},a.pbe.opensslDeriveBytes=function(b,h,E,w){if(typeof w>"u"||w===null){if(!("md5"in t.md))throw new Error('"md5" hash algorithm unavailable.');w=t.md.md5.create()}h===null&&(h="");for(var S=[m(w,b+h)],p=16,_=1;p<E;++_,p+=16)S.push(m(w,S[_-1]+b+h));return S.join("").substr(0,E)};function m(b,h){return b.start().update(h).digest().getBytes()}function d(b){var h;if(!b)h="hmacWithSHA1";else if(h=a.oids[s.derToOid(b)],!h){var E=new Error("Unsupported PRF OID.");throw E.oid=b,E.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],E}return y(h)}function y(b){var h=t.md;switch(b){case"hmacWithSHA224":h=t.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":b=b.substr(8).toLowerCase();break;default:var E=new Error("Unsupported PRF algorithm.");throw E.algorithm=b,E.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],E}if(!h||!(b in h))throw new Error("Unknown hash algorithm: "+b);return h[b].create()}function A(b,h,E,w){var S=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,b),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,h.getBytes())]);return w!=="hmacWithSHA1"&&S.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,t.util.hexToBytes(E.toString(16))),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.oids[w]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")])),S}}}),Nh=Ee({"../../node_modules/node-forge/lib/pkcs7asn1.js"(i,e){"use strict";var t=Ae();_r(),Oe();var r=t.asn1,s=e.exports=t.pkcs7asn1=t.pkcs7asn1||{};t.pkcs7=t.pkcs7||{},t.pkcs7.asn1=s;var a={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=a;var n={name:"EncryptedContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(n)},s.encryptedDataValidator={name:"EncryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"}].concat(n)};var c={name:"SignerInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};s.signedDataValidator={name:"SignedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}}),Oh=Ee({"../../node_modules/node-forge/lib/mgf1.js"(i,e){"use strict";var t=Ae();Oe(),t.mgf=t.mgf||{};var r=e.exports=t.mgf.mgf1=t.mgf1=t.mgf1||{};r.create=function(s){var a={generate:function(n,c){for(var l=new t.util.ByteBuffer,o=Math.ceil(c/s.digestLength),m=0;m<o;m++){var d=new t.util.ByteBuffer;d.putInt32(m),s.start(),s.update(n+d.getBytes()),l.putBuffer(s.digest())}return l.truncate(l.length()-c),l.getBytes()}};return a}}}),Ib=Ee({"../../node_modules/node-forge/lib/mgf.js"(i,e){"use strict";var t=Ae();Oh(),e.exports=t.mgf=t.mgf||{},t.mgf.mgf1=t.mgf1}}),hl=Ee({"../../node_modules/node-forge/lib/pss.js"(i,e){"use strict";var t=Ae();fr(),Oe();var r=e.exports=t.pss=t.pss||{};r.create=function(s){arguments.length===3&&(s={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var a=s.md,n=s.mgf,c=a.digestLength,l=s.salt||null;typeof l=="string"&&(l=t.util.createBuffer(l));var o;if("saltLength"in s)o=s.saltLength;else if(l!==null)o=l.length();else throw new Error("Salt length not specified or specific salt not given.");if(l!==null&&l.length()!==o)throw new Error("Given salt length does not match length of given salt.");var m=s.prng||t.random,d={};return d.encode=function(y,A){var b,h=A-1,E=Math.ceil(h/8),w=y.digest().getBytes();if(E<c+o+2)throw new Error("Message is too long to encrypt.");var S;l===null?S=m.getBytesSync(o):S=l.bytes();var p=new t.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(w),p.putBytes(S),a.start(),a.update(p.getBytes());var _=a.digest().getBytes(),C=new t.util.ByteBuffer;C.fillWithByte(0,E-o-c-2),C.putByte(1),C.putBytes(S);var k=C.getBytes(),N=E-c-1,x=n.generate(_,N),f="";for(b=0;b<N;b++)f+=String.fromCharCode(k.charCodeAt(b)^x.charCodeAt(b));var u=65280>>8*E-h&255;return f=String.fromCharCode(f.charCodeAt(0)&~u)+f.substr(1),f+_+"\xBC"},d.verify=function(y,A,b){var h,E=b-1,w=Math.ceil(E/8);if(A=A.substr(-w),w<c+o+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(A.charCodeAt(w-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var S=w-c-1,p=A.substr(0,S),_=A.substr(S,c),C=65280>>8*w-E&255;if(p.charCodeAt(0)&C)throw new Error("Bits beyond keysize not zero as expected.");var k=n.generate(_,S),N="";for(h=0;h<S;h++)N+=String.fromCharCode(p.charCodeAt(h)^k.charCodeAt(h));N=String.fromCharCode(N.charCodeAt(0)&~C)+N.substr(1);var x=w-c-o-2;for(h=0;h<x;h++)if(N.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(N.charCodeAt(x)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var f=N.substr(-o),u=new t.util.ByteBuffer;u.fillWithByte(0,8),u.putBytes(y),u.putBytes(f),a.start(),a.update(u.getBytes());var T=a.digest().getBytes();return _===T},d}}}),ml=Ee({"../../node_modules/node-forge/lib/x509.js"(i,e){"use strict";var t=Ae();vi(),_r(),Ln(),Dr(),Ib(),gi(),Zi(),hl(),Dn(),Oe();var r=t.asn1,s=e.exports=t.pki=t.pki||{},a=s.oids,n={};n.CN=a.commonName,n.commonName="CN",n.C=a.countryName,n.countryName="C",n.L=a.localityName,n.localityName="L",n.ST=a.stateOrProvinceName,n.stateOrProvinceName="ST",n.O=a.organizationName,n.organizationName="O",n.OU=a.organizationalUnitName,n.organizationalUnitName="OU",n.E=a.emailAddress,n.emailAddress="E";var c=t.pki.rsa.publicKeyValidator,l={name:"Certificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},o={name:"rsapss",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},m={name:"CertificationRequestInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0}]}]}]},d={name:"CertificationRequest",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[m,{name:"CertificationRequest.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};s.RDNAttributesAsArray=function(x,f){for(var u=[],T,P,q,U=0;U<x.value.length;++U){T=x.value[U];for(var D=0;D<T.value.length;++D)q={},P=T.value[D],q.type=r.derToOid(P.value[0].value),q.value=P.value[1].value,q.valueTagClass=P.value[1].type,q.type in a&&(q.name=a[q.type],q.name in n&&(q.shortName=n[q.name])),f&&(f.update(q.type),f.update(q.value)),u.push(q)}return u},s.CRIAttributesAsArray=function(x){for(var f=[],u=0;u<x.length;++u)for(var T=x[u],P=r.derToOid(T.value[0].value),q=T.value[1].value,U=0;U<q.length;++U){var D={};if(D.type=P,D.value=q[U].value,D.valueTagClass=q[U].type,D.type in a&&(D.name=a[D.type],D.name in n&&(D.shortName=n[D.name])),D.type===a.extensionRequest){D.extensions=[];for(var F=0;F<D.value.length;++F)D.extensions.push(s.certificateExtensionFromAsn1(D.value[F]))}f.push(D)}return f};function y(x,f){typeof f=="string"&&(f={shortName:f});for(var u=null,T,P=0;u===null&&P<x.attributes.length;++P)T=x.attributes[P],(f.type&&f.type===T.type||f.name&&f.name===T.name||f.shortName&&f.shortName===T.shortName)&&(u=T);return u}var A=function(x,f,u){var T={};if(x!==a["RSASSA-PSS"])return T;u&&(T={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var P={},q=[];if(!r.validate(f,o,P,q)){var U=new Error("Cannot read RSASSA-PSS parameter block.");throw U.errors=q,U}return P.hashOid!==void 0&&(T.hash=T.hash||{},T.hash.algorithmOid=r.derToOid(P.hashOid)),P.maskGenOid!==void 0&&(T.mgf=T.mgf||{},T.mgf.algorithmOid=r.derToOid(P.maskGenOid),T.mgf.hash=T.mgf.hash||{},T.mgf.hash.algorithmOid=r.derToOid(P.maskGenHashOid)),P.saltLength!==void 0&&(T.saltLength=P.saltLength.charCodeAt(0)),T},b=function(x){switch(a[x.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return t.md.sha1.create();case"md5WithRSAEncryption":return t.md.md5.create();case"sha256WithRSAEncryption":return t.md.sha256.create();case"sha384WithRSAEncryption":return t.md.sha384.create();case"sha512WithRSAEncryption":return t.md.sha512.create();case"RSASSA-PSS":return t.md.sha256.create();default:var f=new Error("Could not compute "+x.type+" digest. Unknown signature OID.");throw f.signatureOid=x.signatureOid,f}},h=function(x){var f=x.certificate,u;switch(f.signatureOid){case a.sha1WithRSAEncryption:case a.sha1WithRSASignature:break;case a["RSASSA-PSS"]:var T,P;if(T=a[f.signatureParameters.mgf.hash.algorithmOid],T===void 0||t.md[T]===void 0){var q=new Error("Unsupported MGF hash function.");throw q.oid=f.signatureParameters.mgf.hash.algorithmOid,q.name=T,q}if(P=a[f.signatureParameters.mgf.algorithmOid],P===void 0||t.mgf[P]===void 0){var q=new Error("Unsupported MGF function.");throw q.oid=f.signatureParameters.mgf.algorithmOid,q.name=P,q}if(P=t.mgf[P].create(t.md[T].create()),T=a[f.signatureParameters.hash.algorithmOid],T===void 0||t.md[T]===void 0){var q=new Error("Unsupported RSASSA-PSS hash function.");throw q.oid=f.signatureParameters.hash.algorithmOid,q.name=T,q}u=t.pss.create(t.md[T].create(),P,f.signatureParameters.saltLength);break}return f.publicKey.verify(x.md.digest().getBytes(),x.signature,u)};s.certificateFromPem=function(x,f,u){var T=t.pem.decode(x)[0];if(T.type!=="CERTIFICATE"&&T.type!=="X509 CERTIFICATE"&&T.type!=="TRUSTED CERTIFICATE"){var P=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw P.headerType=T.type,P}if(T.procType&&T.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var q=r.fromDer(T.body,u);return s.certificateFromAsn1(q,f)},s.certificateToPem=function(x,f){var u={type:"CERTIFICATE",body:r.toDer(s.certificateToAsn1(x)).getBytes()};return t.pem.encode(u,{maxline:f})},s.publicKeyFromPem=function(x){var f=t.pem.decode(x)[0];if(f.type!=="PUBLIC KEY"&&f.type!=="RSA PUBLIC KEY"){var u=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw u.headerType=f.type,u}if(f.procType&&f.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var T=r.fromDer(f.body);return s.publicKeyFromAsn1(T)},s.publicKeyToPem=function(x,f){var u={type:"PUBLIC KEY",body:r.toDer(s.publicKeyToAsn1(x)).getBytes()};return t.pem.encode(u,{maxline:f})},s.publicKeyToRSAPublicKeyPem=function(x,f){var u={type:"RSA PUBLIC KEY",body:r.toDer(s.publicKeyToRSAPublicKey(x)).getBytes()};return t.pem.encode(u,{maxline:f})},s.getPublicKeyFingerprint=function(x,f){f=f||{};var u=f.md||t.md.sha1.create(),T=f.type||"RSAPublicKey",P;switch(T){case"RSAPublicKey":P=r.toDer(s.publicKeyToRSAPublicKey(x)).getBytes();break;case"SubjectPublicKeyInfo":P=r.toDer(s.publicKeyToAsn1(x)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+f.type+'".')}u.start(),u.update(P);var q=u.digest();if(f.encoding==="hex"){var U=q.toHex();return f.delimiter?U.match(/.{2}/g).join(f.delimiter):U}else{if(f.encoding==="binary")return q.getBytes();if(f.encoding)throw new Error('Unknown encoding "'+f.encoding+'".')}return q},s.certificationRequestFromPem=function(x,f,u){var T=t.pem.decode(x)[0];if(T.type!=="CERTIFICATE REQUEST"){var P=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw P.headerType=T.type,P}if(T.procType&&T.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var q=r.fromDer(T.body,u);return s.certificationRequestFromAsn1(q,f)},s.certificationRequestToPem=function(x,f){var u={type:"CERTIFICATE REQUEST",body:r.toDer(s.certificationRequestToAsn1(x)).getBytes()};return t.pem.encode(u,{maxline:f})},s.createCertificate=function(){var x={};return x.version=2,x.serialNumber="00",x.signatureOid=null,x.signature=null,x.siginfo={},x.siginfo.algorithmOid=null,x.validity={},x.validity.notBefore=new Date,x.validity.notAfter=new Date,x.issuer={},x.issuer.getField=function(f){return y(x.issuer,f)},x.issuer.addField=function(f){w([f]),x.issuer.attributes.push(f)},x.issuer.attributes=[],x.issuer.hash=null,x.subject={},x.subject.getField=function(f){return y(x.subject,f)},x.subject.addField=function(f){w([f]),x.subject.attributes.push(f)},x.subject.attributes=[],x.subject.hash=null,x.extensions=[],x.publicKey=null,x.md=null,x.setSubject=function(f,u){w(f),x.subject.attributes=f,delete x.subject.uniqueId,u&&(x.subject.uniqueId=u),x.subject.hash=null},x.setIssuer=function(f,u){w(f),x.issuer.attributes=f,delete x.issuer.uniqueId,u&&(x.issuer.uniqueId=u),x.issuer.hash=null},x.setExtensions=function(f){for(var u=0;u<f.length;++u)S(f[u],{cert:x});x.extensions=f},x.getExtension=function(f){typeof f=="string"&&(f={name:f});for(var u=null,T,P=0;u===null&&P<x.extensions.length;++P)T=x.extensions[P],(f.id&&T.id===f.id||f.name&&T.name===f.name)&&(u=T);return u},x.sign=function(f,u){x.md=u||t.md.sha1.create();var T=a[x.md.algorithm+"WithRSAEncryption"];if(!T){var P=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw P.algorithm=x.md.algorithm,P}x.signatureOid=x.siginfo.algorithmOid=T,x.tbsCertificate=s.getTBSCertificate(x);var q=r.toDer(x.tbsCertificate);x.md.update(q.getBytes()),x.signature=f.sign(x.md)},x.verify=function(f){var u=!1;if(!x.issued(f)){var T=f.issuer,P=x.subject,q=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw q.expectedIssuer=P.attributes,q.actualIssuer=T.attributes,q}var U=f.md;if(U===null){U=b({signatureOid:f.signatureOid,type:"certificate"});var D=f.tbsCertificate||s.getTBSCertificate(f),F=r.toDer(D);U.update(F.getBytes())}return U!==null&&(u=h({certificate:x,md:U,signature:f.signature})),u},x.isIssuer=function(f){var u=!1,T=x.issuer,P=f.subject;if(T.hash&&P.hash)u=T.hash===P.hash;else if(T.attributes.length===P.attributes.length){u=!0;for(var q,U,D=0;u&&D<T.attributes.length;++D)q=T.attributes[D],U=P.attributes[D],(q.type!==U.type||q.value!==U.value)&&(u=!1)}return u},x.issued=function(f){return f.isIssuer(x)},x.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(x.publicKey,{type:"RSAPublicKey"})},x.verifySubjectKeyIdentifier=function(){for(var f=a.subjectKeyIdentifier,u=0;u<x.extensions.length;++u){var T=x.extensions[u];if(T.id===f){var P=x.generateSubjectKeyIdentifier().getBytes();return t.util.hexToBytes(T.subjectKeyIdentifier)===P}}return!1},x},s.certificateFromAsn1=function(x,f){var u={},T=[];if(!r.validate(x,l,u,T)){var P=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw P.errors=T,P}var q=r.derToOid(u.publicKeyOid);if(q!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var U=s.createCertificate();U.version=u.certVersion?u.certVersion.charCodeAt(0):0;var D=t.util.createBuffer(u.certSerialNumber);U.serialNumber=D.toHex(),U.signatureOid=t.asn1.derToOid(u.certSignatureOid),U.signatureParameters=A(U.signatureOid,u.certSignatureParams,!0),U.siginfo.algorithmOid=t.asn1.derToOid(u.certinfoSignatureOid),U.siginfo.parameters=A(U.siginfo.algorithmOid,u.certinfoSignatureParams,!1),U.signature=u.certSignature;var F=[];if(u.certValidity1UTCTime!==void 0&&F.push(r.utcTimeToDate(u.certValidity1UTCTime)),u.certValidity2GeneralizedTime!==void 0&&F.push(r.generalizedTimeToDate(u.certValidity2GeneralizedTime)),u.certValidity3UTCTime!==void 0&&F.push(r.utcTimeToDate(u.certValidity3UTCTime)),u.certValidity4GeneralizedTime!==void 0&&F.push(r.generalizedTimeToDate(u.certValidity4GeneralizedTime)),F.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(F.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(U.validity.notBefore=F[0],U.validity.notAfter=F[1],U.tbsCertificate=u.tbsCertificate,f){U.md=b({signatureOid:U.signatureOid,type:"certificate"});var K=r.toDer(U.tbsCertificate);U.md.update(K.getBytes())}var G=t.md.sha1.create(),Y=r.toDer(u.certIssuer);G.update(Y.getBytes()),U.issuer.getField=function(se){return y(U.issuer,se)},U.issuer.addField=function(se){w([se]),U.issuer.attributes.push(se)},U.issuer.attributes=s.RDNAttributesAsArray(u.certIssuer),u.certIssuerUniqueId&&(U.issuer.uniqueId=u.certIssuerUniqueId),U.issuer.hash=G.digest().toHex();var J=t.md.sha1.create(),re=r.toDer(u.certSubject);return J.update(re.getBytes()),U.subject.getField=function(se){return y(U.subject,se)},U.subject.addField=function(se){w([se]),U.subject.attributes.push(se)},U.subject.attributes=s.RDNAttributesAsArray(u.certSubject),u.certSubjectUniqueId&&(U.subject.uniqueId=u.certSubjectUniqueId),U.subject.hash=J.digest().toHex(),u.certExtensions?U.extensions=s.certificateExtensionsFromAsn1(u.certExtensions):U.extensions=[],U.publicKey=s.publicKeyFromAsn1(u.subjectPublicKeyInfo),U},s.certificateExtensionsFromAsn1=function(x){for(var f=[],u=0;u<x.value.length;++u)for(var T=x.value[u],P=0;P<T.value.length;++P)f.push(s.certificateExtensionFromAsn1(T.value[P]));return f},s.certificateExtensionFromAsn1=function(x){var f={};if(f.id=r.derToOid(x.value[0].value),f.critical=!1,x.value[1].type===r.Type.BOOLEAN?(f.critical=x.value[1].value.charCodeAt(0)!==0,f.value=x.value[2].value):f.value=x.value[1].value,f.id in a){if(f.name=a[f.id],f.name==="keyUsage"){var u=r.fromDer(f.value),T=0,P=0;u.value.length>1&&(T=u.value.charCodeAt(1),P=u.value.length>2?u.value.charCodeAt(2):0),f.digitalSignature=(T&128)===128,f.nonRepudiation=(T&64)===64,f.keyEncipherment=(T&32)===32,f.dataEncipherment=(T&16)===16,f.keyAgreement=(T&8)===8,f.keyCertSign=(T&4)===4,f.cRLSign=(T&2)===2,f.encipherOnly=(T&1)===1,f.decipherOnly=(P&128)===128}else if(f.name==="basicConstraints"){var u=r.fromDer(f.value);u.value.length>0&&u.value[0].type===r.Type.BOOLEAN?f.cA=u.value[0].value.charCodeAt(0)!==0:f.cA=!1;var q=null;u.value.length>0&&u.value[0].type===r.Type.INTEGER?q=u.value[0].value:u.value.length>1&&(q=u.value[1].value),q!==null&&(f.pathLenConstraint=r.derToInteger(q))}else if(f.name==="extKeyUsage")for(var u=r.fromDer(f.value),U=0;U<u.value.length;++U){var D=r.derToOid(u.value[U].value);D in a?f[a[D]]=!0:f[D]=!0}else if(f.name==="nsCertType"){var u=r.fromDer(f.value),T=0;u.value.length>1&&(T=u.value.charCodeAt(1)),f.client=(T&128)===128,f.server=(T&64)===64,f.email=(T&32)===32,f.objsign=(T&16)===16,f.reserved=(T&8)===8,f.sslCA=(T&4)===4,f.emailCA=(T&2)===2,f.objCA=(T&1)===1}else if(f.name==="subjectAltName"||f.name==="issuerAltName"){f.altNames=[];for(var F,u=r.fromDer(f.value),K=0;K<u.value.length;++K){F=u.value[K];var G={type:F.type,value:F.value};switch(f.altNames.push(G),F.type){case 1:case 2:case 6:break;case 7:G.ip=t.util.bytesToIP(F.value);break;case 8:G.oid=r.derToOid(F.value);break;default:}}}else if(f.name==="subjectKeyIdentifier"){var u=r.fromDer(f.value);f.subjectKeyIdentifier=t.util.bytesToHex(u.value)}}return f},s.certificationRequestFromAsn1=function(x,f){var u={},T=[];if(!r.validate(x,d,u,T)){var P=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw P.errors=T,P}var q=r.derToOid(u.publicKeyOid);if(q!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var U=s.createCertificationRequest();if(U.version=u.csrVersion?u.csrVersion.charCodeAt(0):0,U.signatureOid=t.asn1.derToOid(u.csrSignatureOid),U.signatureParameters=A(U.signatureOid,u.csrSignatureParams,!0),U.siginfo.algorithmOid=t.asn1.derToOid(u.csrSignatureOid),U.siginfo.parameters=A(U.siginfo.algorithmOid,u.csrSignatureParams,!1),U.signature=u.csrSignature,U.certificationRequestInfo=u.certificationRequestInfo,f){U.md=b({signatureOid:U.signatureOid,type:"certification request"});var D=r.toDer(U.certificationRequestInfo);U.md.update(D.getBytes())}var F=t.md.sha1.create();return U.subject.getField=function(K){return y(U.subject,K)},U.subject.addField=function(K){w([K]),U.subject.attributes.push(K)},U.subject.attributes=s.RDNAttributesAsArray(u.certificationRequestInfoSubject,F),U.subject.hash=F.digest().toHex(),U.publicKey=s.publicKeyFromAsn1(u.subjectPublicKeyInfo),U.getAttribute=function(K){return y(U,K)},U.addAttribute=function(K){w([K]),U.attributes.push(K)},U.attributes=s.CRIAttributesAsArray(u.certificationRequestInfoAttributes||[]),U},s.createCertificationRequest=function(){var x={};return x.version=0,x.signatureOid=null,x.signature=null,x.siginfo={},x.siginfo.algorithmOid=null,x.subject={},x.subject.getField=function(f){return y(x.subject,f)},x.subject.addField=function(f){w([f]),x.subject.attributes.push(f)},x.subject.attributes=[],x.subject.hash=null,x.publicKey=null,x.attributes=[],x.getAttribute=function(f){return y(x,f)},x.addAttribute=function(f){w([f]),x.attributes.push(f)},x.md=null,x.setSubject=function(f){w(f),x.subject.attributes=f,x.subject.hash=null},x.setAttributes=function(f){w(f),x.attributes=f},x.sign=function(f,u){x.md=u||t.md.sha1.create();var T=a[x.md.algorithm+"WithRSAEncryption"];if(!T){var P=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw P.algorithm=x.md.algorithm,P}x.signatureOid=x.siginfo.algorithmOid=T,x.certificationRequestInfo=s.getCertificationRequestInfo(x);var q=r.toDer(x.certificationRequestInfo);x.md.update(q.getBytes()),x.signature=f.sign(x.md)},x.verify=function(){var f=!1,u=x.md;if(u===null){u=b({signatureOid:x.signatureOid,type:"certification request"});var T=x.certificationRequestInfo||s.getCertificationRequestInfo(x),P=r.toDer(T);u.update(P.getBytes())}return u!==null&&(f=h({certificate:x,md:u,signature:x.signature})),f},x};function E(x){for(var f=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),u,T,P=x.attributes,q=0;q<P.length;++q){u=P[q];var U=u.value,D=r.Type.PRINTABLESTRING;"valueTagClass"in u&&(D=u.valueTagClass,D===r.Type.UTF8&&(U=t.util.encodeUtf8(U))),T=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(u.type).getBytes()),r.create(r.Class.UNIVERSAL,D,!1,U)])]),f.value.push(T)}return f}function w(x){for(var f,u=0;u<x.length;++u){if(f=x[u],typeof f.name>"u"&&(f.type&&f.type in s.oids?f.name=s.oids[f.type]:f.shortName&&f.shortName in n&&(f.name=s.oids[n[f.shortName]])),typeof f.type>"u")if(f.name&&f.name in s.oids)f.type=s.oids[f.name];else{var T=new Error("Attribute type not specified.");throw T.attribute=f,T}if(typeof f.shortName>"u"&&f.name&&f.name in n&&(f.shortName=n[f.name]),f.type===a.extensionRequest&&(f.valueConstructed=!0,f.valueTagClass=r.Type.SEQUENCE,!f.value&&f.extensions)){f.value=[];for(var P=0;P<f.extensions.length;++P)f.value.push(s.certificateExtensionToAsn1(S(f.extensions[P])))}if(typeof f.value>"u"){var T=new Error("Attribute value not specified.");throw T.attribute=f,T}}}function S(x,f){if(f=f||{},typeof x.name>"u"&&x.id&&x.id in s.oids&&(x.name=s.oids[x.id]),typeof x.id>"u")if(x.name&&x.name in s.oids)x.id=s.oids[x.name];else{var u=new Error("Extension ID not specified.");throw u.extension=x,u}if(typeof x.value<"u")return x;if(x.name==="keyUsage"){var T=0,P=0,q=0;x.digitalSignature&&(P|=128,T=7),x.nonRepudiation&&(P|=64,T=6),x.keyEncipherment&&(P|=32,T=5),x.dataEncipherment&&(P|=16,T=4),x.keyAgreement&&(P|=8,T=3),x.keyCertSign&&(P|=4,T=2),x.cRLSign&&(P|=2,T=1),x.encipherOnly&&(P|=1,T=0),x.decipherOnly&&(q|=128,T=7);var U=String.fromCharCode(T);q!==0?U+=String.fromCharCode(P)+String.fromCharCode(q):P!==0&&(U+=String.fromCharCode(P)),x.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,U)}else if(x.name==="basicConstraints")x.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),x.cA&&x.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in x&&x.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(x.pathLenConstraint).getBytes()));else if(x.name==="extKeyUsage"){x.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var D=x.value.value;for(var F in x)x[F]===!0&&(F in a?D.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a[F]).getBytes())):F.indexOf(".")!==-1&&D.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(F).getBytes())))}else if(x.name==="nsCertType"){var T=0,P=0;x.client&&(P|=128,T=7),x.server&&(P|=64,T=6),x.email&&(P|=32,T=5),x.objsign&&(P|=16,T=4),x.reserved&&(P|=8,T=3),x.sslCA&&(P|=4,T=2),x.emailCA&&(P|=2,T=1),x.objCA&&(P|=1,T=0);var U=String.fromCharCode(T);P!==0&&(U+=String.fromCharCode(P)),x.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,U)}else if(x.name==="subjectAltName"||x.name==="issuerAltName"){x.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var K,G=0;G<x.altNames.length;++G){K=x.altNames[G];var U=K.value;if(K.type===7&&K.ip){if(U=t.util.bytesFromIP(K.ip),U===null){var u=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw u.extension=x,u}}else K.type===8&&(K.oid?U=r.oidToDer(r.oidToDer(K.oid)):U=r.oidToDer(U));x.value.value.push(r.create(r.Class.CONTEXT_SPECIFIC,K.type,!1,U))}}else if(x.name==="nsComment"&&f.cert){if(!/^[\x00-\x7F]*$/.test(x.comment)||x.comment.length<1||x.comment.length>128)throw new Error('Invalid "nsComment" content.');x.value=r.create(r.Class.UNIVERSAL,r.Type.IA5STRING,!1,x.comment)}else if(x.name==="subjectKeyIdentifier"&&f.cert){var Y=f.cert.generateSubjectKeyIdentifier();x.subjectKeyIdentifier=Y.toHex(),x.value=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Y.getBytes())}else if(x.name==="authorityKeyIdentifier"&&f.cert){x.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var D=x.value.value;if(x.keyIdentifier){var J=x.keyIdentifier===!0?f.cert.generateSubjectKeyIdentifier().getBytes():x.keyIdentifier;D.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!1,J))}if(x.authorityCertIssuer){var re=[r.create(r.Class.CONTEXT_SPECIFIC,4,!0,[E(x.authorityCertIssuer===!0?f.cert.issuer:x.authorityCertIssuer)])];D.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,re))}if(x.serialNumber){var se=t.util.hexToBytes(x.serialNumber===!0?f.cert.serialNumber:x.serialNumber);D.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!1,se))}}else if(x.name==="cRLDistributionPoints"){x.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var D=x.value.value,ge=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),be=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]),K,G=0;G<x.altNames.length;++G){K=x.altNames[G];var U=K.value;if(K.type===7&&K.ip){if(U=t.util.bytesFromIP(K.ip),U===null){var u=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw u.extension=x,u}}else K.type===8&&(K.oid?U=r.oidToDer(r.oidToDer(K.oid)):U=r.oidToDer(U));be.value.push(r.create(r.Class.CONTEXT_SPECIFIC,K.type,!1,U))}ge.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[be])),D.push(ge)}if(typeof x.value>"u"){var u=new Error("Extension value not specified.");throw u.extension=x,u}return x}function p(x,f){switch(x){case a["RSASSA-PSS"]:var u=[];return f.hash.algorithmOid!==void 0&&u.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(f.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])),f.mgf.algorithmOid!==void 0&&u.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(f.mgf.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(f.mgf.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])])),f.saltLength!==void 0&&u.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(f.saltLength).getBytes())])),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,u);default:return r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")}}function _(x){var f=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);if(x.attributes.length===0)return f;for(var u=x.attributes,T=0;T<u.length;++T){var P=u[T],q=P.value,U=r.Type.UTF8;"valueTagClass"in P&&(U=P.valueTagClass),U===r.Type.UTF8&&(q=t.util.encodeUtf8(q));var D=!1;"valueConstructed"in P&&(D=P.valueConstructed);var F=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(P.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,U,D,q)])]);f.value.push(F)}return f}var C=new Date("1950-01-01T00:00:00Z"),k=new Date("2050-01-01T00:00:00Z");function N(x){return x>=C&&x<k?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(x)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(x))}s.getTBSCertificate=function(x){var f=N(x.validity.notBefore),u=N(x.validity.notAfter),T=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(x.version).getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(x.serialNumber)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(x.siginfo.algorithmOid).getBytes()),p(x.siginfo.algorithmOid,x.siginfo.parameters)]),E(x.issuer),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[f,u]),E(x.subject),s.publicKeyToAsn1(x.publicKey)]);return x.issuer.uniqueId&&T.value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+x.issuer.uniqueId)])),x.subject.uniqueId&&T.value.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+x.subject.uniqueId)])),x.extensions.length>0&&T.value.push(s.certificateExtensionsToAsn1(x.extensions)),T},s.getCertificationRequestInfo=function(x){var f=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(x.version).getBytes()),E(x.subject),s.publicKeyToAsn1(x.publicKey),_(x)]);return f},s.distinguishedNameToAsn1=function(x){return E(x)},s.certificateToAsn1=function(x){var f=x.tbsCertificate||s.getTBSCertificate(x);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[f,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(x.signatureOid).getBytes()),p(x.signatureOid,x.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+x.signature)])},s.certificateExtensionsToAsn1=function(x){var f=r.create(r.Class.CONTEXT_SPECIFIC,3,!0,[]),u=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);f.value.push(u);for(var T=0;T<x.length;++T)u.value.push(s.certificateExtensionToAsn1(x[T]));return f},s.certificateExtensionToAsn1=function(x){var f=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);f.value.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(x.id).getBytes())),x.critical&&f.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,"\xFF"));var u=x.value;return typeof x.value!="string"&&(u=r.toDer(u).getBytes()),f.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,u)),f},s.certificationRequestToAsn1=function(x){var f=x.certificationRequestInfo||s.getCertificationRequestInfo(x);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[f,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(x.signatureOid).getBytes()),p(x.signatureOid,x.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+x.signature)])},s.createCaStore=function(x){var f={certs:{}};f.getIssuer=function(U){var D=u(U.issuer);return D},f.addCertificate=function(U){if(typeof U=="string"&&(U=t.pki.certificateFromPem(U)),T(U.subject),!f.hasCertificate(U))if(U.subject.hash in f.certs){var D=f.certs[U.subject.hash];t.util.isArray(D)||(D=[D]),D.push(U),f.certs[U.subject.hash]=D}else f.certs[U.subject.hash]=U},f.hasCertificate=function(U){typeof U=="string"&&(U=t.pki.certificateFromPem(U));var D=u(U.subject);if(!D)return!1;t.util.isArray(D)||(D=[D]);for(var F=r.toDer(s.certificateToAsn1(U)).getBytes(),K=0;K<D.length;++K){var G=r.toDer(s.certificateToAsn1(D[K])).getBytes();if(F===G)return!0}return!1},f.listAllCertificates=function(){var U=[];for(var D in f.certs)if(f.certs.hasOwnProperty(D)){var F=f.certs[D];if(!t.util.isArray(F))U.push(F);else for(var K=0;K<F.length;++K)U.push(F[K])}return U},f.removeCertificate=function(U){var D;if(typeof U=="string"&&(U=t.pki.certificateFromPem(U)),T(U.subject),!f.hasCertificate(U))return null;var F=u(U.subject);if(!t.util.isArray(F))return D=f.certs[U.subject.hash],delete f.certs[U.subject.hash],D;for(var K=r.toDer(s.certificateToAsn1(U)).getBytes(),G=0;G<F.length;++G){var Y=r.toDer(s.certificateToAsn1(F[G])).getBytes();K===Y&&(D=F[G],F.splice(G,1))}return F.length===0&&delete f.certs[U.subject.hash],D};function u(U){return T(U),f.certs[U.hash]||null}function T(U){if(!U.hash){var D=t.md.sha1.create();U.attributes=s.RDNAttributesAsArray(E(U),D),U.hash=D.digest().toHex()}}if(x)for(var P=0;P<x.length;++P){var q=x[P];f.addCertificate(q)}return f},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(x,f,u){typeof u=="function"&&(u={verify:u}),u=u||{},f=f.slice(0);var T=f.slice(0),P=u.validityCheckDate;typeof P>"u"&&(P=new Date);var q=!0,U=null,D=0;do{var F=f.shift(),K=null,G=!1;if(P&&(P<F.validity.notBefore||P>F.validity.notAfter)&&(U={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:F.validity.notBefore,notAfter:F.validity.notAfter,now:P}),U===null){if(K=f[0]||x.getIssuer(F),K===null&&F.isIssuer(F)&&(G=!0,K=F),K){var Y=K;t.util.isArray(Y)||(Y=[Y]);for(var J=!1;!J&&Y.length>0;){K=Y.shift();try{J=K.verify(F)}catch{}}J||(U={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}U===null&&(!K||G)&&!x.hasCertificate(F)&&(U={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(U===null&&K&&!F.isIssuer(K)&&(U={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),U===null)for(var re={keyUsage:!0,basicConstraints:!0},se=0;U===null&&se<F.extensions.length;++se){var ge=F.extensions[se];ge.critical&&!(ge.name in re)&&(U={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(U===null&&(!q||f.length===0&&(!K||G))){var be=F.getExtension("basicConstraints"),Ie=F.getExtension("keyUsage");if(Ie!==null&&(!Ie.keyCertSign||be===null)&&(U={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:s.certificateError.bad_certificate}),U===null&&be!==null&&!be.cA&&(U={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:s.certificateError.bad_certificate}),U===null&&Ie!==null&&"pathLenConstraint"in be){var $=D-1;$>be.pathLenConstraint&&(U={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})}}var ke=U===null?!0:U.error,ae=u.verify?u.verify(ke,D,T):ke;if(ae===!0)U=null;else throw ke===!0&&(U={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(ae||ae===0)&&(typeof ae=="object"&&!t.util.isArray(ae)?(ae.message&&(U.message=ae.message),ae.error&&(U.error=ae.error)):typeof ae=="string"&&(U.error=ae)),U;q=!1,++D}while(f.length>0);return!0}}}),Lh=Ee({"../../node_modules/node-forge/lib/pkcs12.js"(i,e){"use strict";var t=Ae();_r(),ta(),gi(),Nh(),Bh(),fr(),Dn(),ra(),Oe(),ml();var r=t.asn1,s=t.pki,a=e.exports=t.pkcs12=t.pkcs12||{},n={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},n,{name:"PFX.macData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},l={name:"SafeBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},o={name:"Attribute",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,capture:"values"}]},m={name:"CertBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:r.Class.UNIVERSAL,type:r.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function d(w,S,p,_){for(var C=[],k=0;k<w.length;k++)for(var N=0;N<w[k].safeBags.length;N++){var x=w[k].safeBags[N];if(!(_!==void 0&&x.type!==_)){if(S===null){C.push(x);continue}x.attributes[S]!==void 0&&x.attributes[S].indexOf(p)>=0&&C.push(x)}}return C}a.pkcs12FromAsn1=function(w,S,p){typeof S=="string"?(p=S,S=!0):S===void 0&&(S=!0);var _={},C=[];if(!r.validate(w,c,_,C)){var k=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw k.errors=k,k}var N={version:_.version.charCodeAt(0),safeContents:[],getBags:function(K){var G={},Y;return"localKeyId"in K?Y=K.localKeyId:"localKeyIdHex"in K&&(Y=t.util.hexToBytes(K.localKeyIdHex)),Y===void 0&&!("friendlyName"in K)&&"bagType"in K&&(G[K.bagType]=d(N.safeContents,null,null,K.bagType)),Y!==void 0&&(G.localKeyId=d(N.safeContents,"localKeyId",Y,K.bagType)),"friendlyName"in K&&(G.friendlyName=d(N.safeContents,"friendlyName",K.friendlyName,K.bagType)),G},getBagsByFriendlyName:function(K,G){return d(N.safeContents,"friendlyName",K,G)},getBagsByLocalKeyId:function(K,G){return d(N.safeContents,"localKeyId",K,G)}};if(_.version.charCodeAt(0)!==3){var k=new Error("PKCS#12 PFX of version other than 3 not supported.");throw k.version=_.version.charCodeAt(0),k}if(r.derToOid(_.contentType)!==s.oids.data){var k=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw k.oid=r.derToOid(_.contentType),k}var x=_.content.value[0];if(x.tagClass!==r.Class.UNIVERSAL||x.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(x=y(x),_.mac){var f=null,u=0,T=r.derToOid(_.macAlgorithm);switch(T){case s.oids.sha1:f=t.md.sha1.create(),u=20;break;case s.oids.sha256:f=t.md.sha256.create(),u=32;break;case s.oids.sha384:f=t.md.sha384.create(),u=48;break;case s.oids.sha512:f=t.md.sha512.create(),u=64;break;case s.oids.md5:f=t.md.md5.create(),u=16;break}if(f===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+T);var P=new t.util.ByteBuffer(_.macSalt),q="macIterations"in _?parseInt(t.util.bytesToHex(_.macIterations),16):1,U=a.generateKey(p,P,3,q,u,f),D=t.hmac.create();D.start(f,U),D.update(x.value);var F=D.getMac();if(F.getBytes()!==_.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return A(N,x.value,S,p),N};function y(w){if(w.composed||w.constructed){for(var S=t.util.createBuffer(),p=0;p<w.value.length;++p)S.putBytes(w.value[p].value);w.composed=w.constructed=!1,w.value=S.getBytes()}return w}function A(w,S,p,_){if(S=r.fromDer(S,p),S.tagClass!==r.Class.UNIVERSAL||S.type!==r.Type.SEQUENCE||S.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var C=0;C<S.value.length;C++){var k=S.value[C],N={},x=[];if(!r.validate(k,n,N,x)){var f=new Error("Cannot read ContentInfo.");throw f.errors=x,f}var u={encrypted:!1},T=null,P=N.content.value[0];switch(r.derToOid(N.contentType)){case s.oids.data:if(P.tagClass!==r.Class.UNIVERSAL||P.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");T=y(P).value;break;case s.oids.encryptedData:T=b(P,_),u.encrypted=!0;break;default:var f=new Error("Unsupported PKCS#12 contentType.");throw f.contentType=r.derToOid(N.contentType),f}u.safeBags=h(T,p,_),w.safeContents.push(u)}}function b(w,S){var p={},_=[];if(!r.validate(w,t.pkcs7.asn1.encryptedDataValidator,p,_)){var C=new Error("Cannot read EncryptedContentInfo.");throw C.errors=_,C}var k=r.derToOid(p.contentType);if(k!==s.oids.data){var C=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw C.oid=k,C}k=r.derToOid(p.encAlgorithm);var N=s.pbe.getCipher(k,p.encParameter,S),x=y(p.encryptedContentAsn1),f=t.util.createBuffer(x.value);if(N.update(f),!N.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return N.output.getBytes()}function h(w,S,p){if(!S&&w.length===0)return[];if(w=r.fromDer(w,S),w.tagClass!==r.Class.UNIVERSAL||w.type!==r.Type.SEQUENCE||w.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var _=[],C=0;C<w.value.length;C++){var k=w.value[C],N={},x=[];if(!r.validate(k,l,N,x)){var f=new Error("Cannot read SafeBag.");throw f.errors=x,f}var u={type:r.derToOid(N.bagId),attributes:E(N.bagAttributes)};_.push(u);var T,P,q=N.bagValue.value[0];switch(u.type){case s.oids.pkcs8ShroudedKeyBag:if(q=s.decryptPrivateKeyInfo(q,p),q===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case s.oids.keyBag:try{u.key=s.privateKeyFromAsn1(q)}catch{u.key=null,u.asn1=q}continue;case s.oids.certBag:T=m,P=function(){if(r.derToOid(N.certId)!==s.oids.x509Certificate){var D=new Error("Unsupported certificate type, only X.509 supported.");throw D.oid=r.derToOid(N.certId),D}var F=r.fromDer(N.cert,S);try{u.cert=s.certificateFromAsn1(F,!0)}catch{u.cert=null,u.asn1=F}};break;default:var f=new Error("Unsupported PKCS#12 SafeBag type.");throw f.oid=u.type,f}if(T!==void 0&&!r.validate(q,T,N,x)){var f=new Error("Cannot read PKCS#12 "+T.name);throw f.errors=x,f}P()}return _}function E(w){var S={};if(w!==void 0)for(var p=0;p<w.length;++p){var _={},C=[];if(!r.validate(w[p],o,_,C)){var k=new Error("Cannot read PKCS#12 BagAttribute.");throw k.errors=C,k}var N=r.derToOid(_.oid);if(s.oids[N]!==void 0){S[s.oids[N]]=[];for(var x=0;x<_.values.length;++x)S[s.oids[N]].push(_.values[x].value)}}return S}a.toPkcs12Asn1=function(w,S,p,_){_=_||{},_.saltSize=_.saltSize||8,_.count=_.count||2048,_.algorithm=_.algorithm||_.encAlgorithm||"aes128","useMac"in _||(_.useMac=!0),"localKeyId"in _||(_.localKeyId=null),"generateLocalKeyId"in _||(_.generateLocalKeyId=!0);var C=_.localKeyId,k;if(C!==null)C=t.util.hexToBytes(C);else if(_.generateLocalKeyId)if(S){var N=t.util.isArray(S)?S[0]:S;typeof N=="string"&&(N=s.certificateFromPem(N));var x=t.md.sha1.create();x.update(r.toDer(s.certificateToAsn1(N)).getBytes()),C=x.digest().getBytes()}else C=t.random.getBytes(20);var f=[];C!==null&&f.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.localKeyId).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,C)])])),"friendlyName"in _&&f.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.friendlyName).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.BMPSTRING,!1,_.friendlyName)])])),f.length>0&&(k=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,f));var u=[],T=[];S!==null&&(t.util.isArray(S)?T=S:T=[S]);for(var P=[],q=0;q<T.length;++q){S=T[q],typeof S=="string"&&(S=s.certificateFromPem(S));var U=q===0?k:void 0,D=s.certificateToAsn1(S),F=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.certBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.x509Certificate).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(D).getBytes())])])]),U]);P.push(F)}if(P.length>0){var K=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,P),G=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(K).getBytes())])]);u.push(G)}var Y=null;if(w!==null){var J=s.wrapRsaPrivateKey(s.privateKeyToAsn1(w));p===null?Y=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.keyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[J]),k]):Y=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.pkcs8ShroudedKeyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[s.encryptPrivateKeyInfo(J,p,_)]),k]);var re=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[Y]),se=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(re).getBytes())])]);u.push(se)}var ge=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,u),be;if(_.useMac){var x=t.md.sha1.create(),Ie=new t.util.ByteBuffer(t.random.getBytes(_.saltSize)),$=_.count,w=a.generateKey(p,Ie,3,$,20),ke=t.hmac.create();ke.start(x,w),ke.update(r.toDer(ge).getBytes());var ae=ke.getMac();be=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.sha1).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,ae.getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Ie.getBytes()),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer($).getBytes())])}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(3).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(ge).getBytes())])]),be])},a.generateKey=t.pbe.generatePkcs12Key}}),Ph=Ee({"../../node_modules/node-forge/lib/pki.js"(i,e){"use strict";var t=Ae();_r(),gi(),Bh(),Zi(),fl(),Lh(),hl(),Dn(),Oe(),ml();var r=t.asn1,s=e.exports=t.pki=t.pki||{};s.pemToDer=function(a){var n=t.pem.decode(a)[0];if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return t.util.createBuffer(n.body)},s.privateKeyFromPem=function(a){var n=t.pem.decode(a)[0];if(n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var c=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw c.headerType=n.type,c}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var l=r.fromDer(n.body);return s.privateKeyFromAsn1(l)},s.privateKeyToPem=function(a,n){var c={type:"RSA PRIVATE KEY",body:r.toDer(s.privateKeyToAsn1(a)).getBytes()};return t.pem.encode(c,{maxline:n})},s.privateKeyInfoToPem=function(a,n){var c={type:"PRIVATE KEY",body:r.toDer(a).getBytes()};return t.pem.encode(c,{maxline:n})}}}),Dh=Ee({"../../node_modules/node-forge/lib/tls.js"(i,e){"use strict";var t=Ae();_r(),ta(),dl(),Zi(),Ph(),fr(),ra(),Oe();var r=function(g,L,B,v){var I=t.util.createBuffer(),H=g.length>>1,j=H+(g.length&1),Z=g.substr(0,j),le=g.substr(H,j),he=t.util.createBuffer(),W=t.hmac.create();B=L+B;var ue=Math.ceil(v/16),_e=Math.ceil(v/20);W.start("MD5",Z);var Be=t.util.createBuffer();he.putBytes(B);for(var Ce=0;Ce<ue;++Ce)W.start(null,null),W.update(he.getBytes()),he.putBuffer(W.digest()),W.start(null,null),W.update(he.bytes()+B),Be.putBuffer(W.digest());W.start("SHA1",le);var Ke=t.util.createBuffer();he.clear(),he.putBytes(B);for(var Ce=0;Ce<_e;++Ce)W.start(null,null),W.update(he.getBytes()),he.putBuffer(W.digest()),W.start(null,null),W.update(he.bytes()+B),Ke.putBuffer(W.digest());return I.putBytes(t.util.xorBytes(Be.getBytes(),Ke.getBytes(),v)),I},s=function(g,L,B){var v=t.hmac.create();v.start("SHA1",g);var I=t.util.createBuffer();return I.putInt32(L[0]),I.putInt32(L[1]),I.putByte(B.type),I.putByte(B.version.major),I.putByte(B.version.minor),I.putInt16(B.length),I.putBytes(B.fragment.bytes()),v.update(I.getBytes()),v.digest().getBytes()},a=function(g,L,B){var v=!1;try{var I=g.deflate(L.fragment.getBytes());L.fragment=t.util.createBuffer(I),L.length=I.length,v=!0}catch{}return v},n=function(g,L,B){var v=!1;try{var I=g.inflate(L.fragment.getBytes());L.fragment=t.util.createBuffer(I),L.length=I.length,v=!0}catch{}return v},c=function(g,L){var B=0;switch(L){case 1:B=g.getByte();break;case 2:B=g.getInt16();break;case 3:B=g.getInt24();break;case 4:B=g.getInt32();break}return t.util.createBuffer(g.getBytes(B))},l=function(g,L,B){g.putInt(B.length(),L<<3),g.putBuffer(B)},o={};o.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},o.SupportedVersions=[o.Versions.TLS_1_1,o.Versions.TLS_1_0],o.Version=o.SupportedVersions[0],o.MaxFragment=15360,o.ConnectionEnd={server:0,client:1},o.PRFAlgorithm={tls_prf_sha256:0},o.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},o.CipherType={stream:0,block:1,aead:2},o.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},o.CompressionMethod={none:0,deflate:1},o.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},o.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},o.Alert={},o.Alert.Level={warning:1,fatal:2},o.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},o.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},o.CipherSuites={},o.getCipherSuite=function(g){var L=null;for(var B in o.CipherSuites){var v=o.CipherSuites[B];if(v.id[0]===g.charCodeAt(0)&&v.id[1]===g.charCodeAt(1)){L=v;break}}return L},o.handleUnexpected=function(g,L){var B=!g.open&&g.entity===o.ConnectionEnd.client;B||g.error(g,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.unexpected_message}})},o.handleHelloRequest=function(g,L,B){!g.handshaking&&g.handshakes>0&&(o.queue(g,o.createAlert(g,{level:o.Alert.Level.warning,description:o.Alert.Description.no_renegotiation})),o.flush(g)),g.process()},o.parseHelloMessage=function(g,L,B){var v=null,I=g.entity===o.ConnectionEnd.client;if(B<38)g.error(g,{message:I?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}});else{var H=L.fragment,j=H.length();if(v={version:{major:H.getByte(),minor:H.getByte()},random:t.util.createBuffer(H.getBytes(32)),session_id:c(H,1),extensions:[]},I?(v.cipher_suite=H.getBytes(2),v.compression_method=H.getByte()):(v.cipher_suites=c(H,2),v.compression_methods=c(H,1)),j=B-(j-H.length()),j>0){for(var Z=c(H,2);Z.length()>0;)v.extensions.push({type:[Z.getByte(),Z.getByte()],data:c(Z,2)});if(!I)for(var le=0;le<v.extensions.length;++le){var he=v.extensions[le];if(he.type[0]===0&&he.type[1]===0)for(var W=c(he.data,2);W.length()>0;){var ue=W.getByte();if(ue!==0)break;g.session.extensions.server_name.serverNameList.push(c(W,2).getBytes())}}}if(g.session.version&&(v.version.major!==g.session.version.major||v.version.minor!==g.session.version.minor))return g.error(g,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.protocol_version}});if(I)g.session.cipherSuite=o.getCipherSuite(v.cipher_suite);else for(var _e=t.util.createBuffer(v.cipher_suites.bytes());_e.length()>0&&(g.session.cipherSuite=o.getCipherSuite(_e.getBytes(2)),g.session.cipherSuite===null););if(g.session.cipherSuite===null)return g.error(g,{message:"No cipher suites in common.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.handshake_failure},cipherSuite:t.util.bytesToHex(v.cipher_suite)});I?g.session.compressionMethod=v.compression_method:g.session.compressionMethod=o.CompressionMethod.none}return v},o.createSecurityParameters=function(g,L){var B=g.entity===o.ConnectionEnd.client,v=L.random.bytes(),I=B?g.session.sp.client_random:v,H=B?v:o.createRandom().getBytes();g.session.sp={entity:g.entity,prf_algorithm:o.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:g.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:I,server_random:H}},o.handleServerHello=function(g,L,B){var v=o.parseHelloMessage(g,L,B);if(!g.fail){if(v.version.minor<=g.version.minor)g.version.minor=v.version.minor;else return g.error(g,{message:"Incompatible TLS version.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.protocol_version}});g.session.version=g.version;var I=v.session_id.bytes();I.length>0&&I===g.session.id?(g.expect=h,g.session.resuming=!0,g.session.sp.server_random=v.random.bytes()):(g.expect=d,g.session.resuming=!1,o.createSecurityParameters(g,v)),g.session.id=I,g.process()}},o.handleClientHello=function(g,L,B){var v=o.parseHelloMessage(g,L,B);if(!g.fail){var I=v.session_id.bytes(),H=null;if(g.sessionCache&&(H=g.sessionCache.getSession(I),H===null?I="":(H.version.major!==v.version.major||H.version.minor>v.version.minor)&&(H=null,I="")),I.length===0&&(I=t.random.getBytes(32)),g.session.id=I,g.session.clientHelloVersion=v.version,g.session.sp={},H)g.version=g.session.version=H.version,g.session.sp=H.sp;else{for(var j,Z=1;Z<o.SupportedVersions.length&&(j=o.SupportedVersions[Z],!(j.minor<=v.version.minor));++Z);g.version={major:j.major,minor:j.minor},g.session.version=g.version}H!==null?(g.expect=N,g.session.resuming=!0,g.session.sp.client_random=v.random.bytes()):(g.expect=g.verifyClient!==!1?_:C,g.session.resuming=!1,o.createSecurityParameters(g,v)),g.open=!0,o.queue(g,o.createRecord(g,{type:o.ContentType.handshake,data:o.createServerHello(g)})),g.session.resuming?(o.queue(g,o.createRecord(g,{type:o.ContentType.change_cipher_spec,data:o.createChangeCipherSpec()})),g.state.pending=o.createConnectionState(g),g.state.current.write=g.state.pending.write,o.queue(g,o.createRecord(g,{type:o.ContentType.handshake,data:o.createFinished(g)}))):(o.queue(g,o.createRecord(g,{type:o.ContentType.handshake,data:o.createCertificate(g)})),g.fail||(o.queue(g,o.createRecord(g,{type:o.ContentType.handshake,data:o.createServerKeyExchange(g)})),g.verifyClient!==!1&&o.queue(g,o.createRecord(g,{type:o.ContentType.handshake,data:o.createCertificateRequest(g)})),o.queue(g,o.createRecord(g,{type:o.ContentType.handshake,data:o.createServerHelloDone(g)})))),o.flush(g),g.process()}},o.handleCertificate=function(g,L,B){if(B<3)return g.error(g,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}});var v=L.fragment,I={certificate_list:c(v,3)},H,j,Z=[];try{for(;I.certificate_list.length()>0;)H=c(I.certificate_list,3),j=t.asn1.fromDer(H),H=t.pki.certificateFromAsn1(j,!0),Z.push(H)}catch(he){return g.error(g,{message:"Could not parse certificate list.",cause:he,send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.bad_certificate}})}var le=g.entity===o.ConnectionEnd.client;(le||g.verifyClient===!0)&&Z.length===0?g.error(g,{message:le?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}}):Z.length===0?g.expect=le?y:C:(le?g.session.serverCertificate=Z[0]:g.session.clientCertificate=Z[0],o.verifyCertificateChain(g,Z)&&(g.expect=le?y:C)),g.process()},o.handleServerKeyExchange=function(g,L,B){if(B>0)return g.error(g,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.unsupported_certificate}});g.expect=A,g.process()},o.handleClientKeyExchange=function(g,L,B){if(B<48)return g.error(g,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.unsupported_certificate}});var v=L.fragment,I={enc_pre_master_secret:c(v,2).getBytes()},H=null;if(g.getPrivateKey)try{H=g.getPrivateKey(g,g.session.serverCertificate),H=t.pki.privateKeyFromPem(H)}catch(le){g.error(g,{message:"Could not get private key.",cause:le,send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}})}if(H===null)return g.error(g,{message:"No private key set.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}});try{var j=g.session.sp;j.pre_master_secret=H.decrypt(I.enc_pre_master_secret);var Z=g.session.clientHelloVersion;if(Z.major!==j.pre_master_secret.charCodeAt(0)||Z.minor!==j.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{j.pre_master_secret=t.random.getBytes(48)}g.expect=N,g.session.clientCertificate!==null&&(g.expect=k),g.process()},o.handleCertificateRequest=function(g,L,B){if(B<3)return g.error(g,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}});var v=L.fragment,I={certificate_types:c(v,1),certificate_authorities:c(v,2)};g.session.certificateRequest=I,g.expect=b,g.process()},o.handleCertificateVerify=function(g,L,B){if(B<2)return g.error(g,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}});var v=L.fragment;v.read-=4;var I=v.bytes();v.read+=4;var H={signature:c(v,2).getBytes()},j=t.util.createBuffer();j.putBuffer(g.session.md5.digest()),j.putBuffer(g.session.sha1.digest()),j=j.getBytes();try{var Z=g.session.clientCertificate;if(!Z.publicKey.verify(j,H.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");g.session.md5.update(I),g.session.sha1.update(I)}catch{return g.error(g,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.handshake_failure}})}g.expect=N,g.process()},o.handleServerHelloDone=function(g,L,B){if(B>0)return g.error(g,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.record_overflow}});if(g.serverCertificate===null){var v={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.insufficient_security}},I=0,H=g.verify(g,v.alert.description,I,[]);if(H!==!0)return(H||H===0)&&(typeof H=="object"&&!t.util.isArray(H)?(H.message&&(v.message=H.message),H.alert&&(v.alert.description=H.alert)):typeof H=="number"&&(v.alert.description=H)),g.error(g,v)}g.session.certificateRequest!==null&&(L=o.createRecord(g,{type:o.ContentType.handshake,data:o.createCertificate(g)}),o.queue(g,L)),L=o.createRecord(g,{type:o.ContentType.handshake,data:o.createClientKeyExchange(g)}),o.queue(g,L),g.expect=S;var j=function(Z,le){Z.session.certificateRequest!==null&&Z.session.clientCertificate!==null&&o.queue(Z,o.createRecord(Z,{type:o.ContentType.handshake,data:o.createCertificateVerify(Z,le)})),o.queue(Z,o.createRecord(Z,{type:o.ContentType.change_cipher_spec,data:o.createChangeCipherSpec()})),Z.state.pending=o.createConnectionState(Z),Z.state.current.write=Z.state.pending.write,o.queue(Z,o.createRecord(Z,{type:o.ContentType.handshake,data:o.createFinished(Z)})),Z.expect=h,o.flush(Z),Z.process()};if(g.session.certificateRequest===null||g.session.clientCertificate===null)return j(g,null);o.getClientSignature(g,j)},o.handleChangeCipherSpec=function(g,L){if(L.fragment.getByte()!==1)return g.error(g,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}});var B=g.entity===o.ConnectionEnd.client;(g.session.resuming&&B||!g.session.resuming&&!B)&&(g.state.pending=o.createConnectionState(g)),g.state.current.read=g.state.pending.read,(!g.session.resuming&&B||g.session.resuming&&!B)&&(g.state.pending=null),g.expect=B?E:x,g.process()},o.handleFinished=function(g,L,B){var v=L.fragment;v.read-=4;var I=v.bytes();v.read+=4;var H=L.fragment.getBytes();v=t.util.createBuffer(),v.putBuffer(g.session.md5.digest()),v.putBuffer(g.session.sha1.digest());var j=g.entity===o.ConnectionEnd.client,Z=j?"server finished":"client finished",le=g.session.sp,he=12,W=r;if(v=W(le.master_secret,Z,v.getBytes(),he),v.getBytes()!==H)return g.error(g,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.decrypt_error}});g.session.md5.update(I),g.session.sha1.update(I),(g.session.resuming&&j||!g.session.resuming&&!j)&&(o.queue(g,o.createRecord(g,{type:o.ContentType.change_cipher_spec,data:o.createChangeCipherSpec()})),g.state.current.write=g.state.pending.write,g.state.pending=null,o.queue(g,o.createRecord(g,{type:o.ContentType.handshake,data:o.createFinished(g)}))),g.expect=j?w:f,g.handshaking=!1,++g.handshakes,g.peerCertificate=j?g.session.serverCertificate:g.session.clientCertificate,o.flush(g),g.isConnected=!0,g.connected(g),g.process()},o.handleAlert=function(g,L){var B=L.fragment,v={level:B.getByte(),description:B.getByte()},I;switch(v.description){case o.Alert.Description.close_notify:I="Connection closed.";break;case o.Alert.Description.unexpected_message:I="Unexpected message.";break;case o.Alert.Description.bad_record_mac:I="Bad record MAC.";break;case o.Alert.Description.decryption_failed:I="Decryption failed.";break;case o.Alert.Description.record_overflow:I="Record overflow.";break;case o.Alert.Description.decompression_failure:I="Decompression failed.";break;case o.Alert.Description.handshake_failure:I="Handshake failure.";break;case o.Alert.Description.bad_certificate:I="Bad certificate.";break;case o.Alert.Description.unsupported_certificate:I="Unsupported certificate.";break;case o.Alert.Description.certificate_revoked:I="Certificate revoked.";break;case o.Alert.Description.certificate_expired:I="Certificate expired.";break;case o.Alert.Description.certificate_unknown:I="Certificate unknown.";break;case o.Alert.Description.illegal_parameter:I="Illegal parameter.";break;case o.Alert.Description.unknown_ca:I="Unknown certificate authority.";break;case o.Alert.Description.access_denied:I="Access denied.";break;case o.Alert.Description.decode_error:I="Decode error.";break;case o.Alert.Description.decrypt_error:I="Decrypt error.";break;case o.Alert.Description.export_restriction:I="Export restriction.";break;case o.Alert.Description.protocol_version:I="Unsupported protocol version.";break;case o.Alert.Description.insufficient_security:I="Insufficient security.";break;case o.Alert.Description.internal_error:I="Internal error.";break;case o.Alert.Description.user_canceled:I="User canceled.";break;case o.Alert.Description.no_renegotiation:I="Renegotiation not supported.";break;default:I="Unknown error.";break}if(v.description===o.Alert.Description.close_notify)return g.close();g.error(g,{message:I,send:!1,origin:g.entity===o.ConnectionEnd.client?"server":"client",alert:v}),g.process()},o.handleHandshake=function(g,L){var B=L.fragment,v=B.getByte(),I=B.getInt24();if(I>B.length())return g.fragmented=L,L.fragment=t.util.createBuffer(),B.read-=4,g.process();g.fragmented=null,B.read-=4;var H=B.bytes(I+4);B.read+=4,v in be[g.entity][g.expect]?(g.entity===o.ConnectionEnd.server&&!g.open&&!g.fail&&(g.handshaking=!0,g.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:t.md.md5.create(),sha1:t.md.sha1.create()}),v!==o.HandshakeType.hello_request&&v!==o.HandshakeType.certificate_verify&&v!==o.HandshakeType.finished&&(g.session.md5.update(H),g.session.sha1.update(H)),be[g.entity][g.expect][v](g,L,I)):o.handleUnexpected(g,L)},o.handleApplicationData=function(g,L){g.data.putBuffer(L.fragment),g.dataReady(g),g.process()},o.handleHeartbeat=function(g,L){var B=L.fragment,v=B.getByte(),I=B.getInt16(),H=B.getBytes(I);if(v===o.HeartbeatMessageType.heartbeat_request){if(g.handshaking||I>H.length)return g.process();o.queue(g,o.createRecord(g,{type:o.ContentType.heartbeat,data:o.createHeartbeat(o.HeartbeatMessageType.heartbeat_response,H)})),o.flush(g)}else if(v===o.HeartbeatMessageType.heartbeat_response){if(H!==g.expectedHeartbeatPayload)return g.process();g.heartbeatReceived&&g.heartbeatReceived(g,t.util.createBuffer(H))}g.process()};var m=0,d=1,y=2,A=3,b=4,h=5,E=6,w=7,S=8,p=0,_=1,C=2,k=3,N=4,x=5,f=6,u=o.handleUnexpected,T=o.handleChangeCipherSpec,P=o.handleAlert,q=o.handleHandshake,U=o.handleApplicationData,D=o.handleHeartbeat,F=[];F[o.ConnectionEnd.client]=[[u,P,q,u,D],[u,P,q,u,D],[u,P,q,u,D],[u,P,q,u,D],[u,P,q,u,D],[T,P,u,u,D],[u,P,q,u,D],[u,P,q,U,D],[u,P,q,u,D]],F[o.ConnectionEnd.server]=[[u,P,q,u,D],[u,P,q,u,D],[u,P,q,u,D],[u,P,q,u,D],[T,P,u,u,D],[u,P,q,u,D],[u,P,q,U,D],[u,P,q,u,D]];var K=o.handleHelloRequest,G=o.handleServerHello,Y=o.handleCertificate,J=o.handleServerKeyExchange,re=o.handleCertificateRequest,se=o.handleServerHelloDone,ge=o.handleFinished,be=[];be[o.ConnectionEnd.client]=[[u,u,G,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u],[K,u,u,u,u,u,u,u,u,u,u,Y,J,re,se,u,u,u,u,u,u],[K,u,u,u,u,u,u,u,u,u,u,u,J,re,se,u,u,u,u,u,u],[K,u,u,u,u,u,u,u,u,u,u,u,u,re,se,u,u,u,u,u,u],[K,u,u,u,u,u,u,u,u,u,u,u,u,u,se,u,u,u,u,u,u],[K,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u],[K,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,ge],[K,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u],[K,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u]];var Ie=o.handleClientHello,$=o.handleClientKeyExchange,ke=o.handleCertificateVerify;be[o.ConnectionEnd.server]=[[u,Ie,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u],[u,u,u,u,u,u,u,u,u,u,u,Y,u,u,u,u,u,u,u,u,u],[u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,$,u,u,u,u],[u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,ke,u,u,u,u,u],[u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u],[u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,ge],[u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u],[u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u]],o.generateKeys=function(g,L){var B=r,v=L.client_random+L.server_random;g.session.resuming||(L.master_secret=B(L.pre_master_secret,"master secret",v,48).bytes(),L.pre_master_secret=null),v=L.server_random+L.client_random;var I=2*L.mac_key_length+2*L.enc_key_length,H=g.version.major===o.Versions.TLS_1_0.major&&g.version.minor===o.Versions.TLS_1_0.minor;H&&(I+=2*L.fixed_iv_length);var j=B(L.master_secret,"key expansion",v,I),Z={client_write_MAC_key:j.getBytes(L.mac_key_length),server_write_MAC_key:j.getBytes(L.mac_key_length),client_write_key:j.getBytes(L.enc_key_length),server_write_key:j.getBytes(L.enc_key_length)};return H&&(Z.client_write_IV=j.getBytes(L.fixed_iv_length),Z.server_write_IV=j.getBytes(L.fixed_iv_length)),Z},o.createConnectionState=function(g){var L=g.entity===o.ConnectionEnd.client,B=function(){var H={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(j){return!0},compressionState:null,compressFunction:function(j){return!0},updateSequenceNumber:function(){H.sequenceNumber[1]===4294967295?(H.sequenceNumber[1]=0,++H.sequenceNumber[0]):++H.sequenceNumber[1]}};return H},v={read:B(),write:B()};if(v.read.update=function(H,j){return v.read.cipherFunction(j,v.read)?v.read.compressFunction(H,j,v.read)||H.error(H,{message:"Could not decompress record.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.decompression_failure}}):H.error(H,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.bad_record_mac}}),!H.fail},v.write.update=function(H,j){return v.write.compressFunction(H,j,v.write)?v.write.cipherFunction(j,v.write)||H.error(H,{message:"Could not encrypt record.",send:!1,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}}):H.error(H,{message:"Could not compress record.",send:!1,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}}),!H.fail},g.session){var I=g.session.sp;switch(g.session.cipherSuite.initSecurityParameters(I),I.keys=o.generateKeys(g,I),v.read.macKey=L?I.keys.server_write_MAC_key:I.keys.client_write_MAC_key,v.write.macKey=L?I.keys.client_write_MAC_key:I.keys.server_write_MAC_key,g.session.cipherSuite.initConnectionState(v,g,I),I.compression_algorithm){case o.CompressionMethod.none:break;case o.CompressionMethod.deflate:v.read.compressFunction=n,v.write.compressFunction=a;break;default:throw new Error("Unsupported compression algorithm.")}}return v},o.createRandom=function(){var g=new Date,L=+g+g.getTimezoneOffset()*6e4,B=t.util.createBuffer();return B.putInt32(L),B.putBytes(t.random.getBytes(28)),B},o.createRecord=function(g,L){if(!L.data)return null;var B={type:L.type,version:{major:g.version.major,minor:g.version.minor},length:L.data.length(),fragment:L.data};return B},o.createAlert=function(g,L){var B=t.util.createBuffer();return B.putByte(L.level),B.putByte(L.description),o.createRecord(g,{type:o.ContentType.alert,data:B})},o.createClientHello=function(g){g.session.clientHelloVersion={major:g.version.major,minor:g.version.minor};for(var L=t.util.createBuffer(),B=0;B<g.cipherSuites.length;++B){var v=g.cipherSuites[B];L.putByte(v.id[0]),L.putByte(v.id[1])}var I=L.length(),H=t.util.createBuffer();H.putByte(o.CompressionMethod.none);var j=H.length(),Z=t.util.createBuffer();if(g.virtualHost){var le=t.util.createBuffer();le.putByte(0),le.putByte(0);var he=t.util.createBuffer();he.putByte(0),l(he,2,t.util.createBuffer(g.virtualHost));var W=t.util.createBuffer();l(W,2,he),l(le,2,W),Z.putBuffer(le)}var ue=Z.length();ue>0&&(ue+=2);var _e=g.session.id,Be=_e.length+1+2+4+28+2+I+1+j+ue,Ce=t.util.createBuffer();return Ce.putByte(o.HandshakeType.client_hello),Ce.putInt24(Be),Ce.putByte(g.version.major),Ce.putByte(g.version.minor),Ce.putBytes(g.session.sp.client_random),l(Ce,1,t.util.createBuffer(_e)),l(Ce,2,L),l(Ce,1,H),ue>0&&l(Ce,2,Z),Ce},o.createServerHello=function(g){var L=g.session.id,B=L.length+1+2+4+28+2+1,v=t.util.createBuffer();return v.putByte(o.HandshakeType.server_hello),v.putInt24(B),v.putByte(g.version.major),v.putByte(g.version.minor),v.putBytes(g.session.sp.server_random),l(v,1,t.util.createBuffer(L)),v.putByte(g.session.cipherSuite.id[0]),v.putByte(g.session.cipherSuite.id[1]),v.putByte(g.session.compressionMethod),v},o.createCertificate=function(g){var L=g.entity===o.ConnectionEnd.client,B=null;if(g.getCertificate){var v;L?v=g.session.certificateRequest:v=g.session.extensions.server_name.serverNameList,B=g.getCertificate(g,v)}var I=t.util.createBuffer();if(B!==null)try{t.util.isArray(B)||(B=[B]);for(var H=null,j=0;j<B.length;++j){var Z=t.pem.decode(B[j])[0];if(Z.type!=="CERTIFICATE"&&Z.type!=="X509 CERTIFICATE"&&Z.type!=="TRUSTED CERTIFICATE"){var le=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw le.headerType=Z.type,le}if(Z.procType&&Z.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var he=t.util.createBuffer(Z.body);H===null&&(H=t.asn1.fromDer(he.bytes(),!1));var W=t.util.createBuffer();l(W,3,he),I.putBuffer(W)}B=t.pki.certificateFromAsn1(H),L?g.session.clientCertificate=B:g.session.serverCertificate=B}catch(Be){return g.error(g,{message:"Could not send certificate list.",cause:Be,send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.bad_certificate}})}var ue=3+I.length(),_e=t.util.createBuffer();return _e.putByte(o.HandshakeType.certificate),_e.putInt24(ue),l(_e,3,I),_e},o.createClientKeyExchange=function(g){var L=t.util.createBuffer();L.putByte(g.session.clientHelloVersion.major),L.putByte(g.session.clientHelloVersion.minor),L.putBytes(t.random.getBytes(46));var B=g.session.sp;B.pre_master_secret=L.getBytes();var v=g.session.serverCertificate.publicKey;L=v.encrypt(B.pre_master_secret);var I=L.length+2,H=t.util.createBuffer();return H.putByte(o.HandshakeType.client_key_exchange),H.putInt24(I),H.putInt16(L.length),H.putBytes(L),H},o.createServerKeyExchange=function(g){var L=0,B=t.util.createBuffer();return L>0&&(B.putByte(o.HandshakeType.server_key_exchange),B.putInt24(L)),B},o.getClientSignature=function(g,L){var B=t.util.createBuffer();B.putBuffer(g.session.md5.digest()),B.putBuffer(g.session.sha1.digest()),B=B.getBytes(),g.getSignature=g.getSignature||function(v,I,H){var j=null;if(v.getPrivateKey)try{j=v.getPrivateKey(v,v.session.clientCertificate),j=t.pki.privateKeyFromPem(j)}catch(Z){v.error(v,{message:"Could not get private key.",cause:Z,send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}})}j===null?v.error(v,{message:"No private key set.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}}):I=j.sign(I,null),H(v,I)},g.getSignature(g,B,L)},o.createCertificateVerify=function(g,L){var B=L.length+2,v=t.util.createBuffer();return v.putByte(o.HandshakeType.certificate_verify),v.putInt24(B),v.putInt16(L.length),v.putBytes(L),v},o.createCertificateRequest=function(g){var L=t.util.createBuffer();L.putByte(1);var B=t.util.createBuffer();for(var v in g.caStore.certs){var I=g.caStore.certs[v],H=t.pki.distinguishedNameToAsn1(I.subject),j=t.asn1.toDer(H);B.putInt16(j.length()),B.putBuffer(j)}var Z=1+L.length()+2+B.length(),le=t.util.createBuffer();return le.putByte(o.HandshakeType.certificate_request),le.putInt24(Z),l(le,1,L),l(le,2,B),le},o.createServerHelloDone=function(g){var L=t.util.createBuffer();return L.putByte(o.HandshakeType.server_hello_done),L.putInt24(0),L},o.createChangeCipherSpec=function(){var g=t.util.createBuffer();return g.putByte(1),g},o.createFinished=function(g){var L=t.util.createBuffer();L.putBuffer(g.session.md5.digest()),L.putBuffer(g.session.sha1.digest());var B=g.entity===o.ConnectionEnd.client,v=g.session.sp,I=12,H=r,j=B?"client finished":"server finished";L=H(v.master_secret,j,L.getBytes(),I);var Z=t.util.createBuffer();return Z.putByte(o.HandshakeType.finished),Z.putInt24(L.length()),Z.putBuffer(L),Z},o.createHeartbeat=function(g,L,B){typeof B>"u"&&(B=L.length);var v=t.util.createBuffer();v.putByte(g),v.putInt16(B),v.putBytes(L);var I=v.length(),H=Math.max(16,I-B-3);return v.putBytes(t.random.getBytes(H)),v},o.queue=function(g,L){if(L&&!(L.fragment.length()===0&&(L.type===o.ContentType.handshake||L.type===o.ContentType.alert||L.type===o.ContentType.change_cipher_spec))){if(L.type===o.ContentType.handshake){var B=L.fragment.bytes();g.session.md5.update(B),g.session.sha1.update(B),B=null}var v;if(L.fragment.length()<=o.MaxFragment)v=[L];else{v=[];for(var I=L.fragment.bytes();I.length>o.MaxFragment;)v.push(o.createRecord(g,{type:L.type,data:t.util.createBuffer(I.slice(0,o.MaxFragment))})),I=I.slice(o.MaxFragment);I.length>0&&v.push(o.createRecord(g,{type:L.type,data:t.util.createBuffer(I)}))}for(var H=0;H<v.length&&!g.fail;++H){var j=v[H],Z=g.state.current.write;Z.update(g,j)&&g.records.push(j)}}},o.flush=function(g){for(var L=0;L<g.records.length;++L){var B=g.records[L];g.tlsData.putByte(B.type),g.tlsData.putByte(B.version.major),g.tlsData.putByte(B.version.minor),g.tlsData.putInt16(B.fragment.length()),g.tlsData.putBuffer(g.records[L].fragment)}return g.records=[],g.tlsDataReady(g)};var ae=function(g){switch(g){case!0:return!0;case t.pki.certificateError.bad_certificate:return o.Alert.Description.bad_certificate;case t.pki.certificateError.unsupported_certificate:return o.Alert.Description.unsupported_certificate;case t.pki.certificateError.certificate_revoked:return o.Alert.Description.certificate_revoked;case t.pki.certificateError.certificate_expired:return o.Alert.Description.certificate_expired;case t.pki.certificateError.certificate_unknown:return o.Alert.Description.certificate_unknown;case t.pki.certificateError.unknown_ca:return o.Alert.Description.unknown_ca;default:return o.Alert.Description.bad_certificate}},te=function(g){switch(g){case!0:return!0;case o.Alert.Description.bad_certificate:return t.pki.certificateError.bad_certificate;case o.Alert.Description.unsupported_certificate:return t.pki.certificateError.unsupported_certificate;case o.Alert.Description.certificate_revoked:return t.pki.certificateError.certificate_revoked;case o.Alert.Description.certificate_expired:return t.pki.certificateError.certificate_expired;case o.Alert.Description.certificate_unknown:return t.pki.certificateError.certificate_unknown;case o.Alert.Description.unknown_ca:return t.pki.certificateError.unknown_ca;default:return t.pki.certificateError.bad_certificate}};o.verifyCertificateChain=function(g,L){try{var B={};for(var v in g.verifyOptions)B[v]=g.verifyOptions[v];B.verify=function(H,j,Z){var le=ae(H),he=g.verify(g,H,j,Z);if(he!==!0){if(typeof he=="object"&&!t.util.isArray(he)){var W=new Error("The application rejected the certificate.");throw W.send=!0,W.alert={level:o.Alert.Level.fatal,description:o.Alert.Description.bad_certificate},he.message&&(W.message=he.message),he.alert&&(W.alert.description=he.alert),W}he!==H&&(he=te(he))}return he},t.pki.verifyCertificateChain(g.caStore,L,B)}catch(H){var I=H;(typeof I!="object"||t.util.isArray(I))&&(I={send:!0,alert:{level:o.Alert.Level.fatal,description:ae(H)}}),"send"in I||(I.send=!0),"alert"in I||(I.alert={level:o.Alert.Level.fatal,description:ae(I.error)}),g.error(g,I)}return!g.fail},o.createSessionCache=function(g,L){var B=null;if(g&&g.getSession&&g.setSession&&g.order)B=g;else{B={},B.cache=g||{},B.capacity=Math.max(L||100,1),B.order=[];for(var v in g)B.order.length<=L?B.order.push(v):delete g[v];B.getSession=function(I){var H=null,j=null;if(I?j=t.util.bytesToHex(I):B.order.length>0&&(j=B.order[0]),j!==null&&j in B.cache){H=B.cache[j],delete B.cache[j];for(var Z in B.order)if(B.order[Z]===j){B.order.splice(Z,1);break}}return H},B.setSession=function(I,H){if(B.order.length===B.capacity){var j=B.order.shift();delete B.cache[j]}var j=t.util.bytesToHex(I);B.order.push(j),B.cache[j]=H}}return B},o.createConnection=function(g){var L=null;g.caStore?t.util.isArray(g.caStore)?L=t.pki.createCaStore(g.caStore):L=g.caStore:L=t.pki.createCaStore();var B=g.cipherSuites||null;if(B===null){B=[];for(var v in o.CipherSuites)B.push(o.CipherSuites[v])}var I=g.server?o.ConnectionEnd.server:o.ConnectionEnd.client,H=g.sessionCache?o.createSessionCache(g.sessionCache):null,j={version:{major:o.Version.major,minor:o.Version.minor},entity:I,sessionId:g.sessionId,caStore:L,sessionCache:H,cipherSuites:B,connected:g.connected,virtualHost:g.virtualHost||null,verifyClient:g.verifyClient||!1,verify:g.verify||function(W,ue,_e,Be){return ue},verifyOptions:g.verifyOptions||{},getCertificate:g.getCertificate||null,getPrivateKey:g.getPrivateKey||null,getSignature:g.getSignature||null,input:t.util.createBuffer(),tlsData:t.util.createBuffer(),data:t.util.createBuffer(),tlsDataReady:g.tlsDataReady,dataReady:g.dataReady,heartbeatReceived:g.heartbeatReceived,closed:g.closed,error:function(W,ue){ue.origin=ue.origin||(W.entity===o.ConnectionEnd.client?"client":"server"),ue.send&&(o.queue(W,o.createAlert(W,ue.alert)),o.flush(W));var _e=ue.fatal!==!1;_e&&(W.fail=!0),g.error(W,ue),_e&&W.close(!1)},deflate:g.deflate||null,inflate:g.inflate||null};j.reset=function(W){j.version={major:o.Version.major,minor:o.Version.minor},j.record=null,j.session=null,j.peerCertificate=null,j.state={pending:null,current:null},j.expect=j.entity===o.ConnectionEnd.client?m:p,j.fragmented=null,j.records=[],j.open=!1,j.handshakes=0,j.handshaking=!1,j.isConnected=!1,j.fail=!(W||typeof W>"u"),j.input.clear(),j.tlsData.clear(),j.data.clear(),j.state.current=o.createConnectionState(j)},j.reset();var Z=function(W,ue){var _e=ue.type-o.ContentType.change_cipher_spec,Be=F[W.entity][W.expect];_e in Be?Be[_e](W,ue):o.handleUnexpected(W,ue)},le=function(W){var ue=0,_e=W.input,Be=_e.length();if(Be<5)ue=5-Be;else{W.record={type:_e.getByte(),version:{major:_e.getByte(),minor:_e.getByte()},length:_e.getInt16(),fragment:t.util.createBuffer(),ready:!1};var Ce=W.record.version.major===W.version.major;Ce&&W.session&&W.session.version&&(Ce=W.record.version.minor===W.version.minor),Ce||W.error(W,{message:"Incompatible TLS version.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.protocol_version}})}return ue},he=function(W){var ue=0,_e=W.input,Be=_e.length();if(Be<W.record.length)ue=W.record.length-Be;else{W.record.fragment.putBytes(_e.getBytes(W.record.length)),_e.compact();var Ce=W.state.current.read;Ce.update(W,W.record)&&(W.fragmented!==null&&(W.fragmented.type===W.record.type?(W.fragmented.fragment.putBuffer(W.record.fragment),W.record=W.fragmented):W.error(W,{message:"Invalid fragmented record.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.unexpected_message}})),W.record.ready=!0)}return ue};return j.handshake=function(W){if(j.entity!==o.ConnectionEnd.client)j.error(j,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(j.handshaking)j.error(j,{message:"Handshake already in progress.",fatal:!1});else{j.fail&&!j.open&&j.handshakes===0&&(j.fail=!1),j.handshaking=!0,W=W||"";var ue=null;W.length>0&&(j.sessionCache&&(ue=j.sessionCache.getSession(W)),ue===null&&(W="")),W.length===0&&j.sessionCache&&(ue=j.sessionCache.getSession(),ue!==null&&(W=ue.id)),j.session={id:W,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:t.md.md5.create(),sha1:t.md.sha1.create()},ue&&(j.version=ue.version,j.session.sp=ue.sp),j.session.sp.client_random=o.createRandom().getBytes(),j.open=!0,o.queue(j,o.createRecord(j,{type:o.ContentType.handshake,data:o.createClientHello(j)})),o.flush(j)}},j.process=function(W){var ue=0;return W&&j.input.putBytes(W),j.fail||(j.record!==null&&j.record.ready&&j.record.fragment.isEmpty()&&(j.record=null),j.record===null&&(ue=le(j)),!j.fail&&j.record!==null&&!j.record.ready&&(ue=he(j)),!j.fail&&j.record!==null&&j.record.ready&&Z(j,j.record)),ue},j.prepare=function(W){return o.queue(j,o.createRecord(j,{type:o.ContentType.application_data,data:t.util.createBuffer(W)})),o.flush(j)},j.prepareHeartbeatRequest=function(W,ue){return W instanceof t.util.ByteBuffer&&(W=W.bytes()),typeof ue>"u"&&(ue=W.length),j.expectedHeartbeatPayload=W,o.queue(j,o.createRecord(j,{type:o.ContentType.heartbeat,data:o.createHeartbeat(o.HeartbeatMessageType.heartbeat_request,W,ue)})),o.flush(j)},j.close=function(W){if(!j.fail&&j.sessionCache&&j.session){var ue={id:j.session.id,version:j.session.version,sp:j.session.sp};ue.sp.keys=null,j.sessionCache.setSession(ue.id,ue)}j.open&&(j.open=!1,j.input.clear(),(j.isConnected||j.handshaking)&&(j.isConnected=j.handshaking=!1,o.queue(j,o.createAlert(j,{level:o.Alert.Level.warning,description:o.Alert.Description.close_notify})),o.flush(j)),j.closed(j)),j.reset(W)},j},e.exports=t.tls=t.tls||{};for(fe in o)typeof o[fe]!="function"&&(t.tls[fe]=o[fe]);var fe;t.tls.prf_tls1=r,t.tls.hmac_sha1=s,t.tls.createSessionCache=o.createSessionCache,t.tls.createConnection=o.createConnection}}),Bb=Ee({"../../node_modules/node-forge/lib/aesCipherSuites.js"(i,e){"use strict";var t=Ae();vi(),Dh();var r=e.exports=t.tls;r.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(m){m.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,m.cipher_type=r.CipherType.block,m.enc_key_length=16,m.block_length=16,m.fixed_iv_length=16,m.record_iv_length=16,m.mac_algorithm=r.MACAlgorithm.hmac_sha1,m.mac_length=20,m.mac_key_length=20},initConnectionState:s},r.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(m){m.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,m.cipher_type=r.CipherType.block,m.enc_key_length=32,m.block_length=16,m.fixed_iv_length=16,m.record_iv_length=16,m.mac_algorithm=r.MACAlgorithm.hmac_sha1,m.mac_length=20,m.mac_key_length=20},initConnectionState:s};function s(m,d,y){var A=d.entity===t.tls.ConnectionEnd.client;m.read.cipherState={init:!1,cipher:t.cipher.createDecipher("AES-CBC",A?y.keys.server_write_key:y.keys.client_write_key),iv:A?y.keys.server_write_IV:y.keys.client_write_IV},m.write.cipherState={init:!1,cipher:t.cipher.createCipher("AES-CBC",A?y.keys.client_write_key:y.keys.server_write_key),iv:A?y.keys.client_write_IV:y.keys.server_write_IV},m.read.cipherFunction=l,m.write.cipherFunction=a,m.read.macLength=m.write.macLength=y.mac_length,m.read.macFunction=m.write.macFunction=r.hmac_sha1}function a(m,d){var y=!1,A=d.macFunction(d.macKey,d.sequenceNumber,m);m.fragment.putBytes(A),d.updateSequenceNumber();var b;m.version.minor===r.Versions.TLS_1_0.minor?b=d.cipherState.init?null:d.cipherState.iv:b=t.random.getBytesSync(16),d.cipherState.init=!0;var h=d.cipherState.cipher;return h.start({iv:b}),m.version.minor>=r.Versions.TLS_1_1.minor&&h.output.putBytes(b),h.update(m.fragment),h.finish(n)&&(m.fragment=h.output,m.length=m.fragment.length(),y=!0),y}function n(m,d,y){if(!y){var A=m-d.length()%m;d.fillWithByte(A-1,A)}return!0}function c(m,d,y){var A=!0;if(y){for(var b=d.length(),h=d.last(),E=b-1-h;E<b-1;++E)A=A&&d.at(E)==h;A&&d.truncate(h+1)}return A}function l(m,d){var y=!1,A;m.version.minor===r.Versions.TLS_1_0.minor?A=d.cipherState.init?null:d.cipherState.iv:A=m.fragment.getBytes(16),d.cipherState.init=!0;var b=d.cipherState.cipher;b.start({iv:A}),b.update(m.fragment),y=b.finish(c);var h=d.macLength,E=t.random.getBytesSync(h),w=b.output.length();w>=h?(m.fragment=b.output.getBytes(w-h),E=b.output.getBytes(h)):m.fragment=b.output.getBytes(),m.fragment=t.util.createBuffer(m.fragment),m.length=m.fragment.length();var S=d.macFunction(d.macKey,d.sequenceNumber,m);return d.updateSequenceNumber(),y=o(d.macKey,E,S)&&y,y}function o(m,d,y){var A=t.hmac.create();return A.start("SHA1",m),A.update(d),d=A.digest().getBytes(),A.start(null,null),A.update(y),y=A.digest().getBytes(),d===y}}}),Uh=Ee({"../../node_modules/node-forge/lib/sha512.js"(i,e){"use strict";var t=Ae();Dr(),Oe();var r=e.exports=t.sha512=t.sha512||{};t.md.sha512=t.md.algorithms.sha512=r;var s=t.sha384=t.sha512.sha384=t.sha512.sha384||{};s.create=function(){return r.create("SHA-384")},t.md.sha384=t.md.algorithms.sha384=s,t.sha512.sha256=t.sha512.sha256||{create:function(){return r.create("SHA-512/256")}},t.md["sha512/256"]=t.md.algorithms["sha512/256"]=t.sha512.sha256,t.sha512.sha224=t.sha512.sha224||{create:function(){return r.create("SHA-512/224")}},t.md["sha512/224"]=t.md.algorithms["sha512/224"]=t.sha512.sha224,r.create=function(d){if(n||o(),typeof d>"u"&&(d="SHA-512"),!(d in l))throw new Error("Invalid SHA-512 algorithm: "+d);for(var y=l[d],A=null,b=t.util.createBuffer(),h=new Array(80),E=0;E<80;++E)h[E]=new Array(2);var w=64;switch(d){case"SHA-384":w=48;break;case"SHA-512/256":w=32;break;case"SHA-512/224":w=28;break}var S={algorithm:d.replace("-","").toLowerCase(),blockLength:128,digestLength:w,messageLength:0,fullMessageLength:null,messageLengthSize:16};return S.start=function(){S.messageLength=0,S.fullMessageLength=S.messageLength128=[];for(var p=S.messageLengthSize/4,_=0;_<p;++_)S.fullMessageLength.push(0);b=t.util.createBuffer(),A=new Array(y.length);for(var _=0;_<y.length;++_)A[_]=y[_].slice(0);return S},S.start(),S.update=function(p,_){_==="utf8"&&(p=t.util.encodeUtf8(p));var C=p.length;S.messageLength+=C,C=[C/4294967296>>>0,C>>>0];for(var k=S.fullMessageLength.length-1;k>=0;--k)S.fullMessageLength[k]+=C[1],C[1]=C[0]+(S.fullMessageLength[k]/4294967296>>>0),S.fullMessageLength[k]=S.fullMessageLength[k]>>>0,C[0]=C[1]/4294967296>>>0;return b.putBytes(p),m(A,h,b),(b.read>2048||b.length()===0)&&b.compact(),S},S.digest=function(){var p=t.util.createBuffer();p.putBytes(b.bytes());var _=S.fullMessageLength[S.fullMessageLength.length-1]+S.messageLengthSize,C=_&S.blockLength-1;p.putBytes(a.substr(0,S.blockLength-C));for(var k,N,x=S.fullMessageLength[0]*8,f=0;f<S.fullMessageLength.length-1;++f)k=S.fullMessageLength[f+1]*8,N=k/4294967296>>>0,x+=N,p.putInt32(x>>>0),x=k>>>0;p.putInt32(x);for(var u=new Array(A.length),f=0;f<A.length;++f)u[f]=A[f].slice(0);m(u,h,p);var T=t.util.createBuffer(),P;d==="SHA-512"?P=u.length:d==="SHA-384"?P=u.length-2:P=u.length-4;for(var f=0;f<P;++f)T.putInt32(u[f][0]),(f!==P-1||d!=="SHA-512/224")&&T.putInt32(u[f][1]);return T},S};var a=null,n=!1,c=null,l=null;function o(){a="\x80",a+=t.util.fillString("\0",128),c=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],l={},l["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],l["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],l["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],l["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],n=!0}function m(d,y,A){for(var b,h,E,w,S,p,_,C,k,N,x,f,u,T,P,q,U,D,F,K,G,Y,J,re,se,ge,be,Ie,$,ke,ae,te,fe,g,L,B=A.length();B>=128;){for($=0;$<16;++$)y[$][0]=A.getInt32()>>>0,y[$][1]=A.getInt32()>>>0;for(;$<80;++$)te=y[$-2],ke=te[0],ae=te[1],b=((ke>>>19|ae<<13)^(ae>>>29|ke<<3)^ke>>>6)>>>0,h=((ke<<13|ae>>>19)^(ae<<3|ke>>>29)^(ke<<26|ae>>>6))>>>0,g=y[$-15],ke=g[0],ae=g[1],E=((ke>>>1|ae<<31)^(ke>>>8|ae<<24)^ke>>>7)>>>0,w=((ke<<31|ae>>>1)^(ke<<24|ae>>>8)^(ke<<25|ae>>>7))>>>0,fe=y[$-7],L=y[$-16],ae=h+fe[1]+w+L[1],y[$][0]=b+fe[0]+E+L[0]+(ae/4294967296>>>0)>>>0,y[$][1]=ae>>>0;for(u=d[0][0],T=d[0][1],P=d[1][0],q=d[1][1],U=d[2][0],D=d[2][1],F=d[3][0],K=d[3][1],G=d[4][0],Y=d[4][1],J=d[5][0],re=d[5][1],se=d[6][0],ge=d[6][1],be=d[7][0],Ie=d[7][1],$=0;$<80;++$)_=((G>>>14|Y<<18)^(G>>>18|Y<<14)^(Y>>>9|G<<23))>>>0,C=((G<<18|Y>>>14)^(G<<14|Y>>>18)^(Y<<23|G>>>9))>>>0,k=(se^G&(J^se))>>>0,N=(ge^Y&(re^ge))>>>0,S=((u>>>28|T<<4)^(T>>>2|u<<30)^(T>>>7|u<<25))>>>0,p=((u<<4|T>>>28)^(T<<30|u>>>2)^(T<<25|u>>>7))>>>0,x=(u&P|U&(u^P))>>>0,f=(T&q|D&(T^q))>>>0,ae=Ie+C+N+c[$][1]+y[$][1],b=be+_+k+c[$][0]+y[$][0]+(ae/4294967296>>>0)>>>0,h=ae>>>0,ae=p+f,E=S+x+(ae/4294967296>>>0)>>>0,w=ae>>>0,be=se,Ie=ge,se=J,ge=re,J=G,re=Y,ae=K+h,G=F+b+(ae/4294967296>>>0)>>>0,Y=ae>>>0,F=U,K=D,U=P,D=q,P=u,q=T,ae=h+w,u=b+E+(ae/4294967296>>>0)>>>0,T=ae>>>0;ae=d[0][1]+T,d[0][0]=d[0][0]+u+(ae/4294967296>>>0)>>>0,d[0][1]=ae>>>0,ae=d[1][1]+q,d[1][0]=d[1][0]+P+(ae/4294967296>>>0)>>>0,d[1][1]=ae>>>0,ae=d[2][1]+D,d[2][0]=d[2][0]+U+(ae/4294967296>>>0)>>>0,d[2][1]=ae>>>0,ae=d[3][1]+K,d[3][0]=d[3][0]+F+(ae/4294967296>>>0)>>>0,d[3][1]=ae>>>0,ae=d[4][1]+Y,d[4][0]=d[4][0]+G+(ae/4294967296>>>0)>>>0,d[4][1]=ae>>>0,ae=d[5][1]+re,d[5][0]=d[5][0]+J+(ae/4294967296>>>0)>>>0,d[5][1]=ae>>>0,ae=d[6][1]+ge,d[6][0]=d[6][0]+se+(ae/4294967296>>>0)>>>0,d[6][1]=ae>>>0,ae=d[7][1]+Ie,d[7][0]=d[7][0]+be+(ae/4294967296>>>0)>>>0,d[7][1]=ae>>>0,B-=128}}}}),Nb=Ee({"../../node_modules/node-forge/lib/asn1-validator.js"(i){"use strict";var e=Ae();_r();var t=e.asn1;i.privateKeyValidator={name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},i.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}}}),Ob=Ee({"../../node_modules/node-forge/lib/ed25519.js"(i,e){"use strict";var t=Ae();Pn(),fr(),Uh(),Oe();var r=Nb(),s=r.publicKeyValidator,a=r.privateKeyValidator;typeof n>"u"&&(n=t.jsbn.BigInteger);var n,c=t.util.ByteBuffer,l=typeof Buffer>"u"?Uint8Array:Buffer;t.pki=t.pki||{},e.exports=t.pki.ed25519=t.ed25519=t.ed25519||{};var o=t.ed25519;o.constants={},o.constants.PUBLIC_KEY_BYTE_LENGTH=32,o.constants.PRIVATE_KEY_BYTE_LENGTH=64,o.constants.SEED_BYTE_LENGTH=32,o.constants.SIGN_BYTE_LENGTH=64,o.constants.HASH_BYTE_LENGTH=64,o.generateKeyPair=function(g){g=g||{};var L=g.seed;if(L===void 0)L=t.random.getBytesSync(o.constants.SEED_BYTE_LENGTH);else if(typeof L=="string"){if(L.length!==o.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+o.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(L instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');L=m({message:L,encoding:"binary"});for(var B=new l(o.constants.PUBLIC_KEY_BYTE_LENGTH),v=new l(o.constants.PRIVATE_KEY_BYTE_LENGTH),I=0;I<32;++I)v[I]=L[I];return _(B,v),{publicKey:B,privateKey:v}},o.privateKeyFromAsn1=function(g){var L={},B=[],v=t.asn1.validate(g,a,L,B);if(!v){var I=new Error("Invalid Key.");throw I.errors=B,I}var H=t.asn1.derToOid(L.privateKeyOid),j=t.oids.EdDSA25519;if(H!==j)throw new Error('Invalid OID "'+H+'"; OID must be "'+j+'".');var Z=L.privateKey,le=m({message:t.asn1.fromDer(Z).value,encoding:"binary"});return{privateKeyBytes:le}},o.publicKeyFromAsn1=function(g){var L={},B=[],v=t.asn1.validate(g,s,L,B);if(!v){var I=new Error("Invalid Key.");throw I.errors=B,I}var H=t.asn1.derToOid(L.publicKeyOid),j=t.oids.EdDSA25519;if(H!==j)throw new Error('Invalid OID "'+H+'"; OID must be "'+j+'".');var Z=L.ed25519PublicKey;if(Z.length!==o.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return m({message:Z,encoding:"binary"})},o.publicKeyFromPrivateKey=function(g){g=g||{};var L=m({message:g.privateKey,encoding:"binary"});if(L.length!==o.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+o.constants.PRIVATE_KEY_BYTE_LENGTH);for(var B=new l(o.constants.PUBLIC_KEY_BYTE_LENGTH),v=0;v<B.length;++v)B[v]=L[32+v];return B},o.sign=function(g){g=g||{};var L=m(g),B=m({message:g.privateKey,encoding:"binary"});if(B.length===o.constants.SEED_BYTE_LENGTH){var v=o.generateKeyPair({seed:B});B=v.privateKey}else if(B.length!==o.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+o.constants.SEED_BYTE_LENGTH+" or "+o.constants.PRIVATE_KEY_BYTE_LENGTH);var I=new l(o.constants.SIGN_BYTE_LENGTH+L.length);C(I,L,L.length,B);for(var H=new l(o.constants.SIGN_BYTE_LENGTH),j=0;j<H.length;++j)H[j]=I[j];return H},o.verify=function(g){g=g||{};var L=m(g);if(g.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var B=m({message:g.signature,encoding:"binary"});if(B.length!==o.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+o.constants.SIGN_BYTE_LENGTH);var v=m({message:g.publicKey,encoding:"binary"});if(v.length!==o.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+o.constants.PUBLIC_KEY_BYTE_LENGTH);var I=new l(o.constants.SIGN_BYTE_LENGTH+L.length),H=new l(o.constants.SIGN_BYTE_LENGTH+L.length),j;for(j=0;j<o.constants.SIGN_BYTE_LENGTH;++j)I[j]=B[j];for(j=0;j<L.length;++j)I[j+o.constants.SIGN_BYTE_LENGTH]=L[j];return k(H,I,I.length,v)>=0};function m(g){var L=g.message;if(L instanceof Uint8Array||L instanceof l)return L;var B=g.encoding;if(L===void 0)if(g.md)L=g.md.digest().getBytes(),B="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof L=="string"&&!B)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof L=="string"){if(typeof Buffer<"u")return Buffer.from(L,B);L=new c(L,B)}else if(!(L instanceof c))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var v=new l(L.length()),I=0;I<v.length;++I)v[I]=L.at(I);return v}var d=$(),y=$([1]),A=$([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),b=$([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=$([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),E=$([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),S=$([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(g,L){var B=t.md.sha512.create(),v=new c(g);B.update(v.getBytes(L),"binary");var I=B.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(I,"binary");for(var H=new l(o.constants.HASH_BYTE_LENGTH),j=0;j<64;++j)H[j]=I.charCodeAt(j);return H}function _(g,L){var B=[$(),$(),$(),$()],v,I=p(L,32);for(I[0]&=248,I[31]&=127,I[31]|=64,re(B,I),T(g,B),v=0;v<32;++v)L[v+32]=g[v];return 0}function C(g,L,B,v){var I,H,j=new Float64Array(64),Z=[$(),$(),$(),$()],le=p(v,32);le[0]&=248,le[31]&=127,le[31]|=64;var he=B+64;for(I=0;I<B;++I)g[64+I]=L[I];for(I=0;I<32;++I)g[32+I]=le[32+I];var W=p(g.subarray(32),B+32);for(x(W),re(Z,W),T(g,Z),I=32;I<64;++I)g[I]=v[I];var ue=p(g,B+64);for(x(ue),I=32;I<64;++I)j[I]=0;for(I=0;I<32;++I)j[I]=W[I];for(I=0;I<32;++I)for(H=0;H<32;H++)j[I+H]+=ue[I]*le[H];return N(g.subarray(32),j),he}function k(g,L,B,v){var I,H,j=new l(32),Z=[$(),$(),$(),$()],le=[$(),$(),$(),$()];if(H=-1,B<64||q(le,v))return-1;for(I=0;I<B;++I)g[I]=L[I];for(I=0;I<32;++I)g[I+32]=v[I];var he=p(g,B);if(x(he),J(Z,le,he),re(le,L.subarray(32)),f(Z,le),T(j,Z),B-=64,K(L,0,j,0)){for(I=0;I<B;++I)g[I]=0;return-1}for(I=0;I<B;++I)g[I]=L[I+64];return H=B,H}function N(g,L){var B,v,I,H;for(v=63;v>=32;--v){for(B=0,I=v-32,H=v-12;I<H;++I)L[I]+=B-16*L[v]*w[I-(v-32)],B=L[I]+128>>8,L[I]-=B*256;L[I]+=B,L[v]=0}for(B=0,I=0;I<32;++I)L[I]+=B-(L[31]>>4)*w[I],B=L[I]>>8,L[I]&=255;for(I=0;I<32;++I)L[I]-=B*w[I];for(v=0;v<32;++v)L[v+1]+=L[v]>>8,g[v]=L[v]&255}function x(g){for(var L=new Float64Array(64),B=0;B<64;++B)L[B]=g[B],g[B]=0;N(g,L)}function f(g,L){var B=$(),v=$(),I=$(),H=$(),j=$(),Z=$(),le=$(),he=$(),W=$();ae(B,g[1],g[0]),ae(W,L[1],L[0]),fe(B,B,W),ke(v,g[0],g[1]),ke(W,L[0],L[1]),fe(v,v,W),fe(I,g[3],L[3]),fe(I,I,b),fe(H,g[2],L[2]),ke(H,H,H),ae(j,v,B),ae(Z,H,I),ke(le,H,I),ke(he,v,B),fe(g[0],j,Z),fe(g[1],he,le),fe(g[2],le,Z),fe(g[3],j,he)}function u(g,L,B){for(var v=0;v<4;++v)Ie(g[v],L[v],B)}function T(g,L){var B=$(),v=$(),I=$();ge(I,L[2]),fe(B,L[0],I),fe(v,L[1],I),P(g,v),g[31]^=Y(B)<<7}function P(g,L){var B,v,I,H=$(),j=$();for(B=0;B<16;++B)j[B]=L[B];for(be(j),be(j),be(j),v=0;v<2;++v){for(H[0]=j[0]-65517,B=1;B<15;++B)H[B]=j[B]-65535-(H[B-1]>>16&1),H[B-1]&=65535;H[15]=j[15]-32767-(H[14]>>16&1),I=H[15]>>16&1,H[14]&=65535,Ie(j,H,1-I)}for(B=0;B<16;B++)g[2*B]=j[B]&255,g[2*B+1]=j[B]>>8}function q(g,L){var B=$(),v=$(),I=$(),H=$(),j=$(),Z=$(),le=$();return se(g[2],y),U(g[1],L),te(I,g[1]),fe(H,I,A),ae(I,I,g[2]),ke(H,g[2],H),te(j,H),te(Z,j),fe(le,Z,j),fe(B,le,I),fe(B,B,H),D(B,B),fe(B,B,I),fe(B,B,H),fe(B,B,H),fe(g[0],B,H),te(v,g[0]),fe(v,v,H),F(v,I)&&fe(g[0],g[0],S),te(v,g[0]),fe(v,v,H),F(v,I)?-1:(Y(g[0])===L[31]>>7&&ae(g[0],d,g[0]),fe(g[3],g[0],g[1]),0)}function U(g,L){var B;for(B=0;B<16;++B)g[B]=L[2*B]+(L[2*B+1]<<8);g[15]&=32767}function D(g,L){var B=$(),v;for(v=0;v<16;++v)B[v]=L[v];for(v=250;v>=0;--v)te(B,B),v!==1&&fe(B,B,L);for(v=0;v<16;++v)g[v]=B[v]}function F(g,L){var B=new l(32),v=new l(32);return P(B,g),P(v,L),K(B,0,v,0)}function K(g,L,B,v){return G(g,L,B,v,32)}function G(g,L,B,v,I){var H,j=0;for(H=0;H<I;++H)j|=g[L+H]^B[v+H];return(1&j-1>>>8)-1}function Y(g){var L=new l(32);return P(L,g),L[0]&1}function J(g,L,B){var v,I;for(se(g[0],d),se(g[1],y),se(g[2],y),se(g[3],d),I=255;I>=0;--I)v=B[I/8|0]>>(I&7)&1,u(g,L,v),f(L,g),f(g,g),u(g,L,v)}function re(g,L){var B=[$(),$(),$(),$()];se(B[0],h),se(B[1],E),se(B[2],y),fe(B[3],h,E),J(g,B,L)}function se(g,L){var B;for(B=0;B<16;B++)g[B]=L[B]|0}function ge(g,L){var B=$(),v;for(v=0;v<16;++v)B[v]=L[v];for(v=253;v>=0;--v)te(B,B),v!==2&&v!==4&&fe(B,B,L);for(v=0;v<16;++v)g[v]=B[v]}function be(g){var L,B,v=1;for(L=0;L<16;++L)B=g[L]+v+65535,v=Math.floor(B/65536),g[L]=B-v*65536;g[0]+=v-1+37*(v-1)}function Ie(g,L,B){for(var v,I=~(B-1),H=0;H<16;++H)v=I&(g[H]^L[H]),g[H]^=v,L[H]^=v}function $(g){var L,B=new Float64Array(16);if(g)for(L=0;L<g.length;++L)B[L]=g[L];return B}function ke(g,L,B){for(var v=0;v<16;++v)g[v]=L[v]+B[v]}function ae(g,L,B){for(var v=0;v<16;++v)g[v]=L[v]-B[v]}function te(g,L){fe(g,L,L)}function fe(g,L,B){var v,I,H=0,j=0,Z=0,le=0,he=0,W=0,ue=0,_e=0,Be=0,Ce=0,Ke=0,Xe=0,Ye=0,ze=0,qe=0,je=0,it=0,Et=0,st=0,Rt=0,It=0,Ut=0,Mt=0,er=0,mr=0,Sr=0,Vr=0,ii=0,_i=0,ns=0,va=0,at=B[0],nt=B[1],ot=B[2],ct=B[3],lt=B[4],ut=B[5],pt=B[6],dt=B[7],ft=B[8],ht=B[9],mt=B[10],vt=B[11],gt=B[12],yt=B[13],Ge=B[14],et=B[15];v=L[0],H+=v*at,j+=v*nt,Z+=v*ot,le+=v*ct,he+=v*lt,W+=v*ut,ue+=v*pt,_e+=v*dt,Be+=v*ft,Ce+=v*ht,Ke+=v*mt,Xe+=v*vt,Ye+=v*gt,ze+=v*yt,qe+=v*Ge,je+=v*et,v=L[1],j+=v*at,Z+=v*nt,le+=v*ot,he+=v*ct,W+=v*lt,ue+=v*ut,_e+=v*pt,Be+=v*dt,Ce+=v*ft,Ke+=v*ht,Xe+=v*mt,Ye+=v*vt,ze+=v*gt,qe+=v*yt,je+=v*Ge,it+=v*et,v=L[2],Z+=v*at,le+=v*nt,he+=v*ot,W+=v*ct,ue+=v*lt,_e+=v*ut,Be+=v*pt,Ce+=v*dt,Ke+=v*ft,Xe+=v*ht,Ye+=v*mt,ze+=v*vt,qe+=v*gt,je+=v*yt,it+=v*Ge,Et+=v*et,v=L[3],le+=v*at,he+=v*nt,W+=v*ot,ue+=v*ct,_e+=v*lt,Be+=v*ut,Ce+=v*pt,Ke+=v*dt,Xe+=v*ft,Ye+=v*ht,ze+=v*mt,qe+=v*vt,je+=v*gt,it+=v*yt,Et+=v*Ge,st+=v*et,v=L[4],he+=v*at,W+=v*nt,ue+=v*ot,_e+=v*ct,Be+=v*lt,Ce+=v*ut,Ke+=v*pt,Xe+=v*dt,Ye+=v*ft,ze+=v*ht,qe+=v*mt,je+=v*vt,it+=v*gt,Et+=v*yt,st+=v*Ge,Rt+=v*et,v=L[5],W+=v*at,ue+=v*nt,_e+=v*ot,Be+=v*ct,Ce+=v*lt,Ke+=v*ut,Xe+=v*pt,Ye+=v*dt,ze+=v*ft,qe+=v*ht,je+=v*mt,it+=v*vt,Et+=v*gt,st+=v*yt,Rt+=v*Ge,It+=v*et,v=L[6],ue+=v*at,_e+=v*nt,Be+=v*ot,Ce+=v*ct,Ke+=v*lt,Xe+=v*ut,Ye+=v*pt,ze+=v*dt,qe+=v*ft,je+=v*ht,it+=v*mt,Et+=v*vt,st+=v*gt,Rt+=v*yt,It+=v*Ge,Ut+=v*et,v=L[7],_e+=v*at,Be+=v*nt,Ce+=v*ot,Ke+=v*ct,Xe+=v*lt,Ye+=v*ut,ze+=v*pt,qe+=v*dt,je+=v*ft,it+=v*ht,Et+=v*mt,st+=v*vt,Rt+=v*gt,It+=v*yt,Ut+=v*Ge,Mt+=v*et,v=L[8],Be+=v*at,Ce+=v*nt,Ke+=v*ot,Xe+=v*ct,Ye+=v*lt,ze+=v*ut,qe+=v*pt,je+=v*dt,it+=v*ft,Et+=v*ht,st+=v*mt,Rt+=v*vt,It+=v*gt,Ut+=v*yt,Mt+=v*Ge,er+=v*et,v=L[9],Ce+=v*at,Ke+=v*nt,Xe+=v*ot,Ye+=v*ct,ze+=v*lt,qe+=v*ut,je+=v*pt,it+=v*dt,Et+=v*ft,st+=v*ht,Rt+=v*mt,It+=v*vt,Ut+=v*gt,Mt+=v*yt,er+=v*Ge,mr+=v*et,v=L[10],Ke+=v*at,Xe+=v*nt,Ye+=v*ot,ze+=v*ct,qe+=v*lt,je+=v*ut,it+=v*pt,Et+=v*dt,st+=v*ft,Rt+=v*ht,It+=v*mt,Ut+=v*vt,Mt+=v*gt,er+=v*yt,mr+=v*Ge,Sr+=v*et,v=L[11],Xe+=v*at,Ye+=v*nt,ze+=v*ot,qe+=v*ct,je+=v*lt,it+=v*ut,Et+=v*pt,st+=v*dt,Rt+=v*ft,It+=v*ht,Ut+=v*mt,Mt+=v*vt,er+=v*gt,mr+=v*yt,Sr+=v*Ge,Vr+=v*et,v=L[12],Ye+=v*at,ze+=v*nt,qe+=v*ot,je+=v*ct,it+=v*lt,Et+=v*ut,st+=v*pt,Rt+=v*dt,It+=v*ft,Ut+=v*ht,Mt+=v*mt,er+=v*vt,mr+=v*gt,Sr+=v*yt,Vr+=v*Ge,ii+=v*et,v=L[13],ze+=v*at,qe+=v*nt,je+=v*ot,it+=v*ct,Et+=v*lt,st+=v*ut,Rt+=v*pt,It+=v*dt,Ut+=v*ft,Mt+=v*ht,er+=v*mt,mr+=v*vt,Sr+=v*gt,Vr+=v*yt,ii+=v*Ge,_i+=v*et,v=L[14],qe+=v*at,je+=v*nt,it+=v*ot,Et+=v*ct,st+=v*lt,Rt+=v*ut,It+=v*pt,Ut+=v*dt,Mt+=v*ft,er+=v*ht,mr+=v*mt,Sr+=v*vt,Vr+=v*gt,ii+=v*yt,_i+=v*Ge,ns+=v*et,v=L[15],je+=v*at,it+=v*nt,Et+=v*ot,st+=v*ct,Rt+=v*lt,It+=v*ut,Ut+=v*pt,Mt+=v*dt,er+=v*ft,mr+=v*ht,Sr+=v*mt,Vr+=v*vt,ii+=v*gt,_i+=v*yt,ns+=v*Ge,va+=v*et,H+=38*it,j+=38*Et,Z+=38*st,le+=38*Rt,he+=38*It,W+=38*Ut,ue+=38*Mt,_e+=38*er,Be+=38*mr,Ce+=38*Sr,Ke+=38*Vr,Xe+=38*ii,Ye+=38*_i,ze+=38*ns,qe+=38*va,I=1,v=H+I+65535,I=Math.floor(v/65536),H=v-I*65536,v=j+I+65535,I=Math.floor(v/65536),j=v-I*65536,v=Z+I+65535,I=Math.floor(v/65536),Z=v-I*65536,v=le+I+65535,I=Math.floor(v/65536),le=v-I*65536,v=he+I+65535,I=Math.floor(v/65536),he=v-I*65536,v=W+I+65535,I=Math.floor(v/65536),W=v-I*65536,v=ue+I+65535,I=Math.floor(v/65536),ue=v-I*65536,v=_e+I+65535,I=Math.floor(v/65536),_e=v-I*65536,v=Be+I+65535,I=Math.floor(v/65536),Be=v-I*65536,v=Ce+I+65535,I=Math.floor(v/65536),Ce=v-I*65536,v=Ke+I+65535,I=Math.floor(v/65536),Ke=v-I*65536,v=Xe+I+65535,I=Math.floor(v/65536),Xe=v-I*65536,v=Ye+I+65535,I=Math.floor(v/65536),Ye=v-I*65536,v=ze+I+65535,I=Math.floor(v/65536),ze=v-I*65536,v=qe+I+65535,I=Math.floor(v/65536),qe=v-I*65536,v=je+I+65535,I=Math.floor(v/65536),je=v-I*65536,H+=I-1+37*(I-1),I=1,v=H+I+65535,I=Math.floor(v/65536),H=v-I*65536,v=j+I+65535,I=Math.floor(v/65536),j=v-I*65536,v=Z+I+65535,I=Math.floor(v/65536),Z=v-I*65536,v=le+I+65535,I=Math.floor(v/65536),le=v-I*65536,v=he+I+65535,I=Math.floor(v/65536),he=v-I*65536,v=W+I+65535,I=Math.floor(v/65536),W=v-I*65536,v=ue+I+65535,I=Math.floor(v/65536),ue=v-I*65536,v=_e+I+65535,I=Math.floor(v/65536),_e=v-I*65536,v=Be+I+65535,I=Math.floor(v/65536),Be=v-I*65536,v=Ce+I+65535,I=Math.floor(v/65536),Ce=v-I*65536,v=Ke+I+65535,I=Math.floor(v/65536),Ke=v-I*65536,v=Xe+I+65535,I=Math.floor(v/65536),Xe=v-I*65536,v=Ye+I+65535,I=Math.floor(v/65536),Ye=v-I*65536,v=ze+I+65535,I=Math.floor(v/65536),ze=v-I*65536,v=qe+I+65535,I=Math.floor(v/65536),qe=v-I*65536,v=je+I+65535,I=Math.floor(v/65536),je=v-I*65536,H+=I-1+37*(I-1),g[0]=H,g[1]=j,g[2]=Z,g[3]=le,g[4]=he,g[5]=W,g[6]=ue,g[7]=_e,g[8]=Be,g[9]=Ce,g[10]=Ke,g[11]=Xe,g[12]=Ye,g[13]=ze,g[14]=qe,g[15]=je}}}),Lb=Ee({"../../node_modules/node-forge/lib/kem.js"(i,e){"use strict";var t=Ae();Oe(),fr(),Pn(),e.exports=t.kem=t.kem||{};var r=t.jsbn.BigInteger;t.kem.rsa={},t.kem.rsa.create=function(a,n){n=n||{};var c=n.prng||t.random,l={};return l.encrypt=function(o,m){var d=Math.ceil(o.n.bitLength()/8),y;do y=new r(t.util.bytesToHex(c.getBytesSync(d)),16).mod(o.n);while(y.compareTo(r.ONE)<=0);y=t.util.hexToBytes(y.toString(16));var A=d-y.length;A>0&&(y=t.util.fillString("\0",A)+y);var b=o.encrypt(y,"NONE"),h=a.generate(y,m);return{encapsulation:b,key:h}},l.decrypt=function(o,m,d){var y=o.decrypt(m,"NONE");return a.generate(y,d)},l},t.kem.kdf1=function(a,n){s(this,a,0,n||a.digestLength)},t.kem.kdf2=function(a,n){s(this,a,1,n||a.digestLength)};function s(a,n,c,l){a.generate=function(o,m){for(var d=new t.util.ByteBuffer,y=Math.ceil(m/l)+c,A=new t.util.ByteBuffer,b=c;b<y;++b){A.putInt32(b),n.start(),n.update(o+A.getBytes());var h=n.digest();d.putBytes(h.getBytes(l))}return d.truncate(d.length()-m),d.getBytes()}}}}),Pb=Ee({"../../node_modules/node-forge/lib/log.js"(i,e){"use strict";var t=Ae();Oe(),e.exports=t.log=t.log||{},t.log.levels=["none","error","warning","info","debug","verbose","max"];var r={},s=[],a=null;for(t.log.LEVEL_LOCKED=2,t.log.NO_LEVEL_CHECK=4,t.log.INTERPOLATE=8,l=0;l<t.log.levels.length;++l)n=t.log.levels[l],r[n]={index:l,name:n.toUpperCase()};var n,l;for(t.log.logMessage=function(b){for(var h=r[b.level].index,E=0;E<s.length;++E){var w=s[E];if(w.flags&t.log.NO_LEVEL_CHECK)w.f(b);else{var S=r[w.level].index;h<=S&&w.f(w,b)}}},t.log.prepareStandard=function(b){"standard"in b||(b.standard=r[b.level].name+" ["+b.category+"] "+b.message)},t.log.prepareFull=function(b){if(!("full"in b)){var h=[b.message];h=h.concat([]),b.full=t.util.format.apply(this,h)}},t.log.prepareStandardFull=function(b){"standardFull"in b||(t.log.prepareStandard(b),b.standardFull=b.standard)},c=["error","warning","info","debug","verbose"],l=0;l<c.length;++l)(function(b){t.log[b]=function(h,E){var w=Array.prototype.slice.call(arguments).slice(2),S={timestamp:new Date,level:b,category:h,message:E,arguments:w};t.log.logMessage(S)}})(c[l]);var c,l;t.log.makeLogger=function(b){var h={flags:0,f:b};return t.log.setLevel(h,"none"),h},t.log.setLevel=function(b,h){var E=!1;if(b&&!(b.flags&t.log.LEVEL_LOCKED))for(var w=0;w<t.log.levels.length;++w){var S=t.log.levels[w];if(h==S){b.level=h,E=!0;break}}return E},t.log.lock=function(b,h){typeof h>"u"||h?b.flags|=t.log.LEVEL_LOCKED:b.flags&=~t.log.LEVEL_LOCKED},t.log.addLogger=function(b){s.push(b)},typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(m={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},d=function(b,h){t.log.prepareStandard(h);var E=m[h.level],w=[h.standard];w=w.concat(h.arguments.slice()),E.apply(console,w)},o=t.log.makeLogger(d)):(d=function(b,h){t.log.prepareStandardFull(h),console.log(h.standardFull)},o=t.log.makeLogger(d)),t.log.setLevel(o,"debug"),t.log.addLogger(o),a=o):console={log:function(){}};var o,m,d;a!==null&&typeof window<"u"&&window.location&&(y=new URL(window.location.href).searchParams,y.has("console.level")&&t.log.setLevel(a,y.get("console.level").slice(-1)[0]),y.has("console.lock")&&(A=y.get("console.lock").slice(-1)[0],A=="true"&&t.log.lock(a)));var y,A;t.log.consoleLogger=a}}),Db=Ee({"../../node_modules/node-forge/lib/md.all.js"(i,e){"use strict";e.exports=Dr(),dl(),ra(),Th(),Uh()}}),Ub=Ee({"../../node_modules/node-forge/lib/pkcs7.js"(i,e){"use strict";var t=Ae();vi(),_r(),Ln(),gi(),Zi(),Nh(),fr(),Oe(),ml();var r=t.asn1,s=e.exports=t.pkcs7=t.pkcs7||{};s.messageFromPem=function(h){var E=t.pem.decode(h)[0];if(E.type!=="PKCS7"){var w=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw w.headerType=E.type,w}if(E.procType&&E.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var S=r.fromDer(E.body);return s.messageFromAsn1(S)},s.messageToPem=function(h,E){var w={type:"PKCS7",body:r.toDer(h.toAsn1()).getBytes()};return t.pem.encode(w,{maxline:E})},s.messageFromAsn1=function(h){var E={},w=[];if(!r.validate(h,s.asn1.contentInfoValidator,E,w)){var S=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw S.errors=w,S}var p=r.derToOid(E.contentType),_;switch(p){case t.pki.oids.envelopedData:_=s.createEnvelopedData();break;case t.pki.oids.encryptedData:_=s.createEncryptedData();break;case t.pki.oids.signedData:_=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+p+" is not (yet) supported.")}return _.fromAsn1(E.content.value[0]),_},s.createSignedData=function(){var h=null;return h={type:t.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(S){if(A(h,S,s.asn1.signedDataValidator),h.certificates=[],h.crls=[],h.digestAlgorithmIdentifiers=[],h.contentInfo=null,h.signerInfos=[],h.rawCapture.certificates)for(var p=h.rawCapture.certificates.value,_=0;_<p.length;++_)h.certificates.push(t.pki.certificateFromAsn1(p[_]))},toAsn1:function(){h.contentInfo||h.sign();for(var S=[],p=0;p<h.certificates.length;++p)S.push(t.pki.certificateToAsn1(h.certificates[p]));var _=[],C=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(h.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,h.digestAlgorithmIdentifiers),h.contentInfo])]);return S.length>0&&C.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,S)),_.length>0&&C.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,_)),C.value[0].value.push(r.create(r.Class.UNIVERSAL,r.Type.SET,!0,h.signerInfos)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.type).getBytes()),C])},addSigner:function(S){var p=S.issuer,_=S.serialNumber;if(S.certificate){var C=S.certificate;typeof C=="string"&&(C=t.pki.certificateFromPem(C)),p=C.issuer.attributes,_=C.serialNumber}var k=S.key;if(!k)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof k=="string"&&(k=t.pki.privateKeyFromPem(k));var N=S.digestAlgorithm||t.pki.oids.sha1;switch(N){case t.pki.oids.sha1:case t.pki.oids.sha256:case t.pki.oids.sha384:case t.pki.oids.sha512:case t.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+N)}var x=S.authenticatedAttributes||[];if(x.length>0){for(var f=!1,u=!1,T=0;T<x.length;++T){var P=x[T];if(!f&&P.type===t.pki.oids.contentType){if(f=!0,u)break;continue}if(!u&&P.type===t.pki.oids.messageDigest){if(u=!0,f)break;continue}}if(!f||!u)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}h.signers.push({key:k,version:1,issuer:p,serialNumber:_,digestAlgorithm:N,signatureAlgorithm:t.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:x,unauthenticatedAttributes:[]})},sign:function(S){if(S=S||{},(typeof h.content!="object"||h.contentInfo===null)&&(h.contentInfo=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.pki.oids.data).getBytes())]),"content"in h)){var p;h.content instanceof t.util.ByteBuffer?p=h.content.bytes():typeof h.content=="string"&&(p=t.util.encodeUtf8(h.content)),S.detached?h.detachedContent=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,p):h.contentInfo.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,p)]))}if(h.signers.length!==0){var _=E();w(_)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(S){typeof S=="string"&&(S=t.pki.certificateFromPem(S)),h.certificates.push(S)},addCertificateRevokationList:function(S){throw new Error("PKCS#7 CRL support not yet implemented.")}},h;function E(){for(var S={},p=0;p<h.signers.length;++p){var _=h.signers[p],C=_.digestAlgorithm;C in S||(S[C]=t.md[t.pki.oids[C]].create()),_.authenticatedAttributes.length===0?_.md=S[C]:_.md=t.md[t.pki.oids[C]].create()}h.digestAlgorithmIdentifiers=[];for(var C in S)h.digestAlgorithmIdentifiers.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(C).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]));return S}function w(S){var p;if(h.detachedContent?p=h.detachedContent:(p=h.contentInfo.value[1],p=p.value[0]),!p)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var _=r.derToOid(h.contentInfo.value[0].value),C=r.toDer(p);C.getByte(),r.getBerValueLength(C),C=C.getBytes();for(var k in S)S[k].start().update(C);for(var N=new Date,x=0;x<h.signers.length;++x){var f=h.signers[x];if(f.authenticatedAttributes.length===0){if(_!==t.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var u=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[]),T=0;T<f.authenticatedAttributes.length;++T){var P=f.authenticatedAttributes[T];P.type===t.pki.oids.messageDigest?P.value=S[f.digestAlgorithm].digest():P.type===t.pki.oids.signingTime&&(P.value||(P.value=N)),u.value.push(d(P)),f.authenticatedAttributesAsn1.value.push(d(P))}C=r.toDer(u).getBytes(),f.md.start().update(C)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}h.signerInfos=m(h.signers)}},s.createEncryptedData=function(){var h=null;return h={type:t.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(E){A(h,E,s.asn1.encryptedDataValidator)},decrypt:function(E){E!==void 0&&(h.encryptedContent.key=E),b(h)}},h},s.createEnvelopedData=function(){var h=null;return h={type:t.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(E){var w=A(h,E,s.asn1.envelopedDataValidator);h.recipients=c(w.recipientInfos.value)},toAsn1:function(){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.type).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(h.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,l(h.recipients)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,y(h.encryptedContent))])])])},findRecipient:function(E){for(var w=E.issuer.attributes,S=0;S<h.recipients.length;++S){var p=h.recipients[S],_=p.issuer;if(p.serialNumber===E.serialNumber&&_.length===w.length){for(var C=!0,k=0;k<w.length;++k)if(_[k].type!==w[k].type||_[k].value!==w[k].value){C=!1;break}if(C)return p}}return null},decrypt:function(E,w){if(h.encryptedContent.key===void 0&&E!==void 0&&w!==void 0)switch(E.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:case t.pki.oids.desCBC:var S=w.decrypt(E.encryptedContent.content);h.encryptedContent.key=t.util.createBuffer(S);break;default:throw new Error("Unsupported asymmetric cipher, OID "+E.encryptedContent.algorithm)}b(h)},addRecipient:function(E){h.recipients.push({version:0,issuer:E.issuer.attributes,serialNumber:E.serialNumber,encryptedContent:{algorithm:t.pki.oids.rsaEncryption,key:E.publicKey}})},encrypt:function(E,w){if(h.encryptedContent.content===void 0){w=w||h.encryptedContent.algorithm,E=E||h.encryptedContent.key;var S,p,_;switch(w){case t.pki.oids["aes128-CBC"]:S=16,p=16,_=t.aes.createEncryptionCipher;break;case t.pki.oids["aes192-CBC"]:S=24,p=16,_=t.aes.createEncryptionCipher;break;case t.pki.oids["aes256-CBC"]:S=32,p=16,_=t.aes.createEncryptionCipher;break;case t.pki.oids["des-EDE3-CBC"]:S=24,p=8,_=t.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+w)}if(E===void 0)E=t.util.createBuffer(t.random.getBytes(S));else if(E.length()!=S)throw new Error("Symmetric key has wrong length; got "+E.length()+" bytes, expected "+S+".");h.encryptedContent.algorithm=w,h.encryptedContent.key=E,h.encryptedContent.parameter=t.util.createBuffer(t.random.getBytes(p));var C=_(E);if(C.start(h.encryptedContent.parameter.copy()),C.update(h.content),!C.finish())throw new Error("Symmetric encryption failed.");h.encryptedContent.content=C.output}for(var k=0;k<h.recipients.length;++k){var N=h.recipients[k];if(N.encryptedContent.content===void 0)switch(N.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:N.encryptedContent.content=N.encryptedContent.key.encrypt(h.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+N.encryptedContent.algorithm)}}}},h};function a(h){var E={},w=[];if(!r.validate(h,s.asn1.recipientInfoValidator,E,w)){var S=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw S.errors=w,S}return{version:E.version.charCodeAt(0),issuer:t.pki.RDNAttributesAsArray(E.issuer),serialNumber:t.util.createBuffer(E.serial).toHex(),encryptedContent:{algorithm:r.derToOid(E.encAlgorithm),parameter:E.encParameter?E.encParameter.value:void 0,content:E.encKey}}}function n(h){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(h.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:h.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(h.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.encryptedContent.algorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.encryptedContent.content)])}function c(h){for(var E=[],w=0;w<h.length;++w)E.push(a(h[w]));return E}function l(h){for(var E=[],w=0;w<h.length;++w)E.push(n(h[w]));return E}function o(h){var E=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(h.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:h.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(h.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.digestAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])]);if(h.authenticatedAttributesAsn1&&E.value.push(h.authenticatedAttributesAsn1),E.value.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.signatureAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),E.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.signature)),h.unauthenticatedAttributes.length>0){for(var w=r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[]),S=0;S<h.unauthenticatedAttributes.length;++S){var p=h.unauthenticatedAttributes[S];w.values.push(d(p))}E.value.push(w)}return E}function m(h){for(var E=[],w=0;w<h.length;++w)E.push(o(h[w]));return E}function d(h){var E;if(h.type===t.pki.oids.contentType)E=r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.value).getBytes());else if(h.type===t.pki.oids.messageDigest)E=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.value.bytes());else if(h.type===t.pki.oids.signingTime){var w=new Date("1950-01-01T00:00:00Z"),S=new Date("2050-01-01T00:00:00Z"),p=h.value;if(typeof p=="string"){var _=Date.parse(p);isNaN(_)?p.length===13?p=r.utcTimeToDate(p):p=r.generalizedTimeToDate(p):p=new Date(_)}p>=w&&p<S?E=r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(p)):E=r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(p))}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[E])])}function y(h){return[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.pki.oids.data).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.algorithm).getBytes()),h.parameter?r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.parameter.getBytes()):void 0]),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.content.getBytes())])]}function A(h,E,w){var S={},p=[];if(!r.validate(E,w,S,p)){var _=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw _.errors=_,_}var C=r.derToOid(S.contentType);if(C!==t.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(S.encryptedContent){var k="";if(t.util.isArray(S.encryptedContent))for(var N=0;N<S.encryptedContent.length;++N){if(S.encryptedContent[N].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");k+=S.encryptedContent[N].value}else k=S.encryptedContent;h.encryptedContent={algorithm:r.derToOid(S.encAlgorithm),parameter:t.util.createBuffer(S.encParameter.value),content:t.util.createBuffer(k)}}if(S.content){var k="";if(t.util.isArray(S.content))for(var N=0;N<S.content.length;++N){if(S.content[N].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");k+=S.content[N].value}else k=S.content;h.content=t.util.createBuffer(k)}return h.version=S.version.charCodeAt(0),h.rawCapture=S,S}function b(h){if(h.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(h.content===void 0){var E;switch(h.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:case t.pki.oids["aes192-CBC"]:case t.pki.oids["aes256-CBC"]:E=t.aes.createDecryptionCipher(h.encryptedContent.key);break;case t.pki.oids.desCBC:case t.pki.oids["des-EDE3-CBC"]:E=t.des.createDecryptionCipher(h.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+h.encryptedContent.algorithm)}if(E.start(h.encryptedContent.parameter),E.update(h.encryptedContent.content),!E.finish())throw new Error("Symmetric decryption failed.");h.content=E.output}}}}),Mb=Ee({"../../node_modules/node-forge/lib/ssh.js"(i,e){"use strict";var t=Ae();vi(),ta(),dl(),ra(),Oe();var r=e.exports=t.ssh=t.ssh||{};r.privateKeyToPutty=function(c,l,o){o=o||"",l=l||"";var m="ssh-rsa",d=l===""?"none":"aes256-cbc",y="PuTTY-User-Key-File-2: "+m+`\r
`;y+="Encryption: "+d+`\r
`,y+="Comment: "+o+`\r
`;var A=t.util.createBuffer();a(A,m),s(A,c.e),s(A,c.n);var b=t.util.encode64(A.bytes(),64),h=Math.floor(b.length/66)+1;y+="Public-Lines: "+h+`\r
`,y+=b;var E=t.util.createBuffer();s(E,c.d),s(E,c.p),s(E,c.q),s(E,c.qInv);var w;if(!l)w=t.util.encode64(E.bytes(),64);else{var S=E.length()+16-1;S-=S%16;var p=n(E.bytes());p.truncate(p.length()-S+E.length()),E.putBuffer(p);var _=t.util.createBuffer();_.putBuffer(n("\0\0\0\0",l)),_.putBuffer(n("\0\0\0",l));var C=t.aes.createEncryptionCipher(_.truncate(8),"CBC");C.start(t.util.createBuffer().fillWithByte(0,16)),C.update(E.copy()),C.finish();var k=C.output;k.truncate(16),w=t.util.encode64(k.bytes(),64)}h=Math.floor(w.length/66)+1,y+=`\r
Private-Lines: `+h+`\r
`,y+=w;var N=n("putty-private-key-file-mac-key",l),x=t.util.createBuffer();a(x,m),a(x,d),a(x,o),x.putInt32(A.length()),x.putBuffer(A),x.putInt32(E.length()),x.putBuffer(E);var f=t.hmac.create();return f.start("sha1",N),f.update(x.bytes()),y+=`\r
Private-MAC: `+f.digest().toHex()+`\r
`,y},r.publicKeyToOpenSSH=function(c,l){var o="ssh-rsa";l=l||"";var m=t.util.createBuffer();return a(m,o),s(m,c.e),s(m,c.n),o+" "+t.util.encode64(m.bytes())+" "+l},r.privateKeyToOpenSSH=function(c,l){return l?t.pki.encryptRsaPrivateKey(c,l,{legacy:!0,algorithm:"aes128"}):t.pki.privateKeyToPem(c)},r.getPublicKeyFingerprint=function(c,l){l=l||{};var o=l.md||t.md.md5.create(),m="ssh-rsa",d=t.util.createBuffer();a(d,m),s(d,c.e),s(d,c.n),o.start(),o.update(d.getBytes());var y=o.digest();if(l.encoding==="hex"){var A=y.toHex();return l.delimiter?A.match(/.{2}/g).join(l.delimiter):A}else{if(l.encoding==="binary")return y.getBytes();if(l.encoding)throw new Error('Unknown encoding "'+l.encoding+'".')}return y};function s(c,l){var o=l.toString(16);o[0]>="8"&&(o="00"+o);var m=t.util.hexToBytes(o);c.putInt32(m.length),c.putBytes(m)}function a(c,l){c.putInt32(l.length),c.putString(l)}function n(){for(var c=t.md.sha1.create(),l=arguments.length,o=0;o<l;++o)c.update(arguments[o]);return c.digest()}}}),Fb=Ee({"../../node_modules/node-forge/lib/index.js"(i,e){"use strict";e.exports=Ae(),vi(),Bb(),_r(),pl(),Ln(),Ob(),ta(),Lb(),Pb(),Db(),Oh(),fl(),Zi(),Rh(),Lh(),Ub(),Ph(),Ih(),Ah(),hl(),fr(),kh(),Mb(),Dh(),Oe()}}),Vb=Ee({"../../node_modules/selfsigned/index.js"(i){"use strict";var e=Fb();function t(s){var a=parseInt(s[0],16);return a<8?s:(a-=8,a.toString()+s.substring(1))}function r(s){switch(s){case"sha256":return e.md.sha256.create();default:return e.md.sha1.create()}}i.generate=function(a,n,c){typeof a=="function"?(c=a,a=void 0):typeof n=="function"&&(c=n,n={}),n=n||{};var l=function(d){var y=e.pki.createCertificate();y.serialNumber=t(e.util.bytesToHex(e.random.getBytesSync(9))),y.validity.notBefore=n.notBeforeDate||new Date;var A=new Date;y.validity.notAfter=A,y.validity.notAfter.setDate(A.getDate()+(n.days||365)),a=a||[{name:"commonName",value:"example.org"},{name:"countryName",value:"US"},{shortName:"ST",value:"Virginia"},{name:"localityName",value:"Blacksburg"},{name:"organizationName",value:"Test"},{shortName:"OU",value:"Test"}],y.setSubject(a),y.setIssuer(a),y.publicKey=d.publicKey,y.setExtensions(n.extensions||[{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"subjectAltName",altNames:[{type:6,value:"http://example.org/webid#me"}]}]),y.sign(d.privateKey,r(n&&n.algorithm));let b=e.md.sha1.create().update(e.asn1.toDer(e.pki.certificateToAsn1(y)).getBytes()).digest().toHex().match(/.{2}/g).join(":");var h={private:e.pki.privateKeyToPem(d.privateKey),public:e.pki.publicKeyToPem(d.publicKey),cert:e.pki.certificateToPem(y),fingerprint:b};if(n&&n.pkcs7){var E=e.pkcs7.createSignedData();E.addCertificate(y),h.pkcs7=e.pkcs7.messageToPem(E)}if(n&&n.clientCertificate){var w=e.pki.rsa.generateKeyPair(n.clientCertificateKeySize||1024),S=e.pki.createCertificate();S.serialNumber=t(e.util.bytesToHex(e.random.getBytesSync(9))),S.validity.notBefore=new Date,S.validity.notAfter=new Date,S.validity.notAfter.setFullYear(S.validity.notBefore.getFullYear()+1);for(var p=JSON.parse(JSON.stringify(a)),_=0;_<p.length;_++)p[_].name==="commonName"&&(n.clientCertificateCN?p[_]={name:"commonName",value:n.clientCertificateCN}:p[_]={name:"commonName",value:"John Doe jdoe123"});if(S.setSubject(p),S.setIssuer(a),S.publicKey=w.publicKey,S.sign(d.privateKey),h.clientprivate=e.pki.privateKeyToPem(w.privateKey),h.clientpublic=e.pki.publicKeyToPem(w.publicKey),h.clientcert=e.pki.certificateToPem(S),n.pkcs7){var C=e.pkcs7.createSignedData();C.addCertificate(S),h.clientpkcs7=e.pkcs7.messageToPem(C)}}var k=e.pki.createCaStore();k.addCertificate(y);try{e.pki.verifyCertificateChain(k,[y],function(N,x,f){if(N!==!0)throw new Error("Certificate could not be verified.");return!0})}catch(N){throw new Error(N)}return h},o=n.keySize||1024;if(c)return e.pki.rsa.generateKeyPair({bits:o},function(d,y){if(d)return c(d);try{return c(null,l(y))}catch(A){return c(A)}});var m=n.keyPair?{privateKey:e.pki.privateKeyFromPem(n.keyPair.privateKey),publicKey:e.pki.publicKeyFromPem(n.keyPair.publicKey)}:e.pki.rsa.generateKeyPair(o);return l(m)}}}),Hb=kb(Vb(),1),Ne;(function(i){i.assertEqual=s=>s;function e(s){}i.assertIs=e;function t(s){throw new Error}i.assertNever=t,i.arrayToEnum=s=>{let a={};for(let n of s)a[n]=n;return a},i.getValidEnumValues=s=>{let a=i.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),n={};for(let c of a)n[c]=s[c];return i.objectValues(n)},i.objectValues=s=>i.objectKeys(s).map(function(a){return s[a]}),i.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let a=[];for(let n in s)Object.prototype.hasOwnProperty.call(s,n)&&a.push(n);return a},i.find=(s,a)=>{for(let n of s)if(a(n))return n},i.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(n=>typeof n=="string"?`'${n}'`:n).join(a)}i.joinValues=r,i.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Ne||(Ne={}));var tl;(function(i){i.mergeShapes=(e,t)=>({...e,...t})})(tl||(tl={}));var de=Ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jr=i=>{switch(typeof i){case"undefined":return de.undefined;case"string":return de.string;case"number":return isNaN(i)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(i)?de.array:i===null?de.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?de.promise:typeof Map<"u"&&i instanceof Map?de.map:typeof Set<"u"&&i instanceof Set?de.set:typeof Date<"u"&&i instanceof Date?de.date:de.object;default:return de.unknown}},ee=Ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$b=i=>JSON.stringify(i,null,2).replace(/"([^"]+)":/g,"$1:"),pr=class Mh extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(a){return a.message},r={_errors:[]},s=a=>{for(let n of a.issues)if(n.code==="invalid_union")n.unionErrors.map(s);else if(n.code==="invalid_return_type")s(n.returnTypeError);else if(n.code==="invalid_arguments")s(n.argumentsError);else if(n.path.length===0)r._errors.push(t(n));else{let c=r,l=0;for(;l<n.path.length;){let o=n.path[l];l===n.path.length-1?(c[o]=c[o]||{_errors:[]},c[o]._errors.push(t(n))):c[o]=c[o]||{_errors:[]},c=c[o],l++}}};return s(this),r}static assert(e){if(!(e instanceof Mh))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},r=[];for(let s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};pr.create=i=>new pr(i);var Wi=(i,e)=>{let t;switch(i.code){case ee.invalid_type:i.received===de.undefined?t="Required":t=`Expected ${i.expected}, received ${i.received}`;break;case ee.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(i.expected,Ne.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ne.joinValues(i.keys,", ")}`;break;case ee.invalid_union:t="Invalid input";break;case ee.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ne.joinValues(i.options)}`;break;case ee.invalid_enum_value:t=`Invalid enum value. Expected ${Ne.joinValues(i.options)}, received '${i.received}'`;break;case ee.invalid_arguments:t="Invalid function arguments";break;case ee.invalid_return_type:t="Invalid function return type";break;case ee.invalid_date:t="Invalid date";break;case ee.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(t=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?t=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?t=`Invalid input: must end with "${i.validation.endsWith}"`:Ne.assertNever(i.validation):i.validation!=="regex"?t=`Invalid ${i.validation}`:t="Invalid";break;case ee.too_small:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:t="Invalid input";break;case ee.too_big:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?t=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:t="Invalid input";break;case ee.custom:t="Invalid input";break;case ee.invalid_intersection_types:t="Intersection results could not be merged";break;case ee.not_multiple_of:t=`Number must be a multiple of ${i.multipleOf}`;break;case ee.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ne.assertNever(i)}return{message:t}},Fh=Wi;function Yb(i){Fh=i}function Tn(){return Fh}var An=i=>{let{data:e,path:t,errorMaps:r,issueData:s}=i,a=[...t,...s.path||[]],n={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let c="",l=r.filter(o=>!!o).slice().reverse();for(let o of l)c=o(n,{data:e,defaultError:c}).message;return{...s,path:a,message:c}},Qb=[];function ce(i,e){let t=Tn(),r=An({issueData:e,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,t,t===Wi?void 0:Wi].filter(s=>!!s)});i.common.issues.push(r)}var Pt=class Vh{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let s of t){if(s.status==="aborted")return xe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let s of t){let a=await s.key,n=await s.value;r.push({key:a,value:n})}return Vh.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let s of t){let{key:a,value:n}=s;if(a.status==="aborted"||n.status==="aborted")return xe;a.status==="dirty"&&e.dirty(),n.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof n.value<"u"||s.alwaysSet)&&(r[a.value]=n.value)}return{status:e.value,value:r}}},xe=Object.freeze({status:"aborted"}),zi=i=>({status:"dirty",value:i}),Bt=i=>({status:"valid",value:i}),rl=i=>i.status==="aborted",il=i=>i.status==="dirty",Fs=i=>i.status==="valid",Vs=i=>typeof Promise<"u"&&i instanceof Promise;function kn(i,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(i):r?r.value:e.get(i)}function qh(i,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!s:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(i,t):s?s.value=t:e.set(i,t),t}var me;(function(i){i.errToObj=e=>typeof e=="string"?{message:e}:e||{},i.toString=e=>typeof e=="string"?e:e?.message})(me||(me={}));var Ds,Us,br=class{constructor(i,e,t,r){this._cachedPath=[],this.parent=i,this.data=e,this._path=t,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},_h=(i,e)=>{if(Fs(e))return{success:!0,data:e.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new pr(i.common.issues);return this._error=t,this._error}}};function Se(i){if(!i)return{};let{errorMap:e,invalid_type_error:t,required_error:r,description:s}=i;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(n,c)=>{var l,o;let{message:m}=i;return n.code==="invalid_enum_value"?{message:m??c.defaultError}:typeof c.data>"u"?{message:(l=m??r)!==null&&l!==void 0?l:c.defaultError}:n.code!=="invalid_type"?{message:c.defaultError}:{message:(o=m??t)!==null&&o!==void 0?o:c.defaultError}},description:s}}var Te=class{constructor(i){this.spa=this.safeParseAsync,this._def=i,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(i){return Jr(i.data)}_getOrReturnCtx(i,e){return e||{common:i.parent.common,data:i.data,parsedType:Jr(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}_processInputParams(i){return{status:new Pt,ctx:{common:i.parent.common,data:i.data,parsedType:Jr(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}}_parseSync(i){let e=this._parse(i);if(Vs(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(i){let e=this._parse(i);return Promise.resolve(e)}parse(i,e){let t=this.safeParse(i,e);if(t.success)return t.data;throw t.error}safeParse(i,e){var t;let r={common:{issues:[],async:(t=e?.async)!==null&&t!==void 0?t:!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:Jr(i)},s=this._parseSync({data:i,path:r.path,parent:r});return _h(r,s)}async parseAsync(i,e){let t=await this.safeParseAsync(i,e);if(t.success)return t.data;throw t.error}async safeParseAsync(i,e){let t={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:Jr(i)},r=this._parse({data:i,path:t.path,parent:t}),s=await(Vs(r)?r:Promise.resolve(r));return _h(t,s)}refine(i,e){let t=r=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(r):e;return this._refinement((r,s)=>{let a=i(r),n=()=>s.addIssue({code:ee.custom,...t(r)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(n(),!1)):a?!0:(n(),!1)})}refinement(i,e){return this._refinement((t,r)=>i(t)?!0:(r.addIssue(typeof e=="function"?e(t,r):e),!1))}_refinement(i){return new dr({schema:this,typeName:ye.ZodEffects,effect:{type:"refinement",refinement:i}})}superRefine(i){return this._refinement(i)}optional(){return xr.create(this,this._def)}nullable(){return ti.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mi.create(this,this._def)}promise(){return Qi.create(this,this._def)}or(i){return Ws.create([this,i],this._def)}and(i){return $s.create(this,i,this._def)}transform(i){return new dr({...Se(this._def),schema:this,typeName:ye.ZodEffects,effect:{type:"transform",transform:i}})}default(i){let e=typeof i=="function"?i:()=>i;return new Xs({...Se(this._def),innerType:this,defaultValue:e,typeName:ye.ZodDefault})}brand(){return new vl({typeName:ye.ZodBranded,type:this,...Se(this._def)})}catch(i){let e=typeof i=="function"?i:()=>i;return new Js({...Se(this._def),innerType:this,catchValue:e,typeName:ye.ZodCatch})}describe(i){let e=this.constructor;return new e({...this._def,description:i})}pipe(i){return gl.create(this,i)}readonly(){return ea.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Zb=/^c[^\s-]{8,}$/i,Xb=/^[0-9a-z]+$/,Jb=/^[0-9A-HJKMNP-TV-Z]{26}$/,e_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t_=/^[a-z0-9_-]{21}$/i,r_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,i_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,s_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",el,a_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,n_=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,o_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jh="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",c_=new RegExp(`^${jh}$`);function Hh(i){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return i.precision?e=`${e}\\.\\d{${i.precision}}`:i.precision==null&&(e=`${e}(\\.\\d+)?`),e}function l_(i){return new RegExp(`^${Hh(i)}$`)}function Kh(i){let e=`${jh}T${Hh(i)}`,t=[];return t.push(i.local?"Z?":"Z"),i.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function u_(i,e){return!!((e==="v4"||!e)&&a_.test(i)||(e==="v6"||!e)&&n_.test(i))}var $i=class Ms extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==de.string){let a=this._getOrReturnCtx(e);return ce(a,{code:ee.invalid_type,expected:de.string,received:a.parsedType}),xe}let r=new Pt,s;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:ee.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:ee.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){let n=e.data.length>a.value,c=e.data.length<a.value;(n||c)&&(s=this._getOrReturnCtx(e,s),n?ce(s,{code:ee.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&ce(s,{code:ee.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")i_.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"email",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")el||(el=new RegExp(s_,"u")),el.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"emoji",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")e_.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"uuid",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")t_.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"nanoid",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Zb.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cuid",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Xb.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cuid2",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Jb.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"ulid",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ce(s,{validation:"url",code:ee.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"regex",code:ee.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),ce(s,{code:ee.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),ce(s,{code:ee.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),ce(s,{code:ee.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Kh(a).test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:ee.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?c_.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:ee.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?l_(a).test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:ee.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?r_.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"duration",code:ee.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?u_(e.data,a.version)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"ip",code:ee.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?o_.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"base64",code:ee.invalid_string,message:a.message}),r.dirty()):Ne.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:ee.invalid_string,...me.errToObj(r)})}_addCheck(e){return new Ms({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...me.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...me.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...me.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...me.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...me.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...me.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...me.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...me.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...me.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...me.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...me.errToObj(t)})}nonempty(e){return this.min(1,me.errToObj(e))}trim(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};$i.create=i=>{var e;return new $i({checks:[],typeName:ye.ZodString,coerce:(e=i?.coerce)!==null&&e!==void 0?e:!1,...Se(i)})};function p_(i,e){let t=(i.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,a=parseInt(i.toFixed(s).replace(".","")),n=parseInt(e.toFixed(s).replace(".",""));return a%n/Math.pow(10,s)}var qs=class sl extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==de.number){let a=this._getOrReturnCtx(e);return ce(a,{code:ee.invalid_type,expected:de.number,received:a.parsedType}),xe}let r,s=new Pt;for(let a of this._def.checks)a.kind==="int"?Ne.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:ee.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:ee.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:ee.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?p_(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),ce(r,{code:ee.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:ee.not_finite,message:a.message}),s.dirty()):Ne.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,me.toString(t))}setLimit(e,t,r,s){return new sl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:me.toString(s)}]})}_addCheck(e){return new sl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ne.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}};qs.create=i=>new qs({checks:[],typeName:ye.ZodNumber,coerce:i?.coerce||!1,...Se(i)});var js=class al extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==de.bigint){let a=this._getOrReturnCtx(e);return ce(a,{code:ee.invalid_type,expected:de.bigint,received:a.parsedType}),xe}let r,s=new Pt;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:ee.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:ee.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:ee.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Ne.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,me.toString(t))}setLimit(e,t,r,s){return new al({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:me.toString(s)}]})}_addCheck(e){return new al({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};js.create=i=>{var e;return new js({checks:[],typeName:ye.ZodBigInt,coerce:(e=i?.coerce)!==null&&e!==void 0?e:!1,...Se(i)})};var Hs=class extends Te{_parse(i){if(this._def.coerce&&(i.data=!!i.data),this._getType(i)!==de.boolean){let t=this._getOrReturnCtx(i);return ce(t,{code:ee.invalid_type,expected:de.boolean,received:t.parsedType}),xe}return Bt(i.data)}};Hs.create=i=>new Hs({typeName:ye.ZodBoolean,coerce:i?.coerce||!1,...Se(i)});var Ks=class zh extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==de.date){let a=this._getOrReturnCtx(e);return ce(a,{code:ee.invalid_type,expected:de.date,received:a.parsedType}),xe}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return ce(a,{code:ee.invalid_date}),xe}let r=new Pt,s;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:ee.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:ee.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ne.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new zh({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:me.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:me.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Ks.create=i=>new Ks({checks:[],coerce:i?.coerce||!1,typeName:ye.ZodDate,...Se(i)});var Rn=class extends Te{_parse(i){if(this._getType(i)!==de.symbol){let t=this._getOrReturnCtx(i);return ce(t,{code:ee.invalid_type,expected:de.symbol,received:t.parsedType}),xe}return Bt(i.data)}};Rn.create=i=>new Rn({typeName:ye.ZodSymbol,...Se(i)});var zs=class extends Te{_parse(i){if(this._getType(i)!==de.undefined){let t=this._getOrReturnCtx(i);return ce(t,{code:ee.invalid_type,expected:de.undefined,received:t.parsedType}),xe}return Bt(i.data)}};zs.create=i=>new zs({typeName:ye.ZodUndefined,...Se(i)});var Gs=class extends Te{_parse(i){if(this._getType(i)!==de.null){let t=this._getOrReturnCtx(i);return ce(t,{code:ee.invalid_type,expected:de.null,received:t.parsedType}),xe}return Bt(i.data)}};Gs.create=i=>new Gs({typeName:ye.ZodNull,...Se(i)});var Yi=class extends Te{constructor(){super(...arguments),this._any=!0}_parse(i){return Bt(i.data)}};Yi.create=i=>new Yi({typeName:ye.ZodAny,...Se(i)});var hi=class extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(i){return Bt(i.data)}};hi.create=i=>new hi({typeName:ye.ZodUnknown,...Se(i)});var Pr=class extends Te{_parse(i){let e=this._getOrReturnCtx(i);return ce(e,{code:ee.invalid_type,expected:de.never,received:e.parsedType}),xe}};Pr.create=i=>new Pr({typeName:ye.ZodNever,...Se(i)});var In=class extends Te{_parse(i){if(this._getType(i)!==de.undefined){let t=this._getOrReturnCtx(i);return ce(t,{code:ee.invalid_type,expected:de.void,received:t.parsedType}),xe}return Bt(i.data)}};In.create=i=>new In({typeName:ye.ZodVoid,...Se(i)});var mi=class Cn extends Te{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==de.array)return ce(t,{code:ee.invalid_type,expected:de.array,received:t.parsedType}),xe;if(s.exactLength!==null){let n=t.data.length>s.exactLength.value,c=t.data.length<s.exactLength.value;(n||c)&&(ce(t,{code:n?ee.too_big:ee.too_small,minimum:c?s.exactLength.value:void 0,maximum:n?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(ce(t,{code:ee.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(ce(t,{code:ee.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((n,c)=>s.type._parseAsync(new br(t,n,t.path,c)))).then(n=>Pt.mergeArray(r,n));let a=[...t.data].map((n,c)=>s.type._parseSync(new br(t,n,t.path,c)));return Pt.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new Cn({...this._def,minLength:{value:e,message:me.toString(t)}})}max(e,t){return new Cn({...this._def,maxLength:{value:e,message:me.toString(t)}})}length(e,t){return new Cn({...this._def,exactLength:{value:e,message:me.toString(t)}})}nonempty(e){return this.min(1,e)}};mi.create=(i,e)=>new mi({type:i,minLength:null,maxLength:null,exactLength:null,typeName:ye.ZodArray,...Se(e)});function Ki(i){if(i instanceof Xt){let e={};for(let t in i.shape){let r=i.shape[t];e[t]=xr.create(Ki(r))}return new Xt({...i._def,shape:()=>e})}else return i instanceof mi?new mi({...i._def,type:Ki(i.element)}):i instanceof xr?xr.create(Ki(i.unwrap())):i instanceof ti?ti.create(Ki(i.unwrap())):i instanceof ei?ei.create(i.items.map(e=>Ki(e))):i}var Xt=class ur extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=Ne.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==de.object){let o=this._getOrReturnCtx(e);return ce(o,{code:ee.invalid_type,expected:de.object,received:o.parsedType}),xe}let{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:n}=this._getCached(),c=[];if(!(this._def.catchall instanceof Pr&&this._def.unknownKeys==="strip"))for(let o in s.data)n.includes(o)||c.push(o);let l=[];for(let o of n){let m=a[o],d=s.data[o];l.push({key:{status:"valid",value:o},value:m._parse(new br(s,d,s.path,o)),alwaysSet:o in s.data})}if(this._def.catchall instanceof Pr){let o=this._def.unknownKeys;if(o==="passthrough")for(let m of c)l.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(o==="strict")c.length>0&&(ce(s,{code:ee.unrecognized_keys,keys:c}),r.dirty());else if(o!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let o=this._def.catchall;for(let m of c){let d=s.data[m];l.push({key:{status:"valid",value:m},value:o._parse(new br(s,d,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let o=[];for(let m of l){let d=await m.key,y=await m.value;o.push({key:d,value:y,alwaysSet:m.alwaysSet})}return o}).then(o=>Pt.mergeObjectSync(r,o)):Pt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return me.errToObj,new ur({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,a,n,c;let l=(n=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,t,r).message)!==null&&n!==void 0?n:r.defaultError;return t.code==="unrecognized_keys"?{message:(c=me.errToObj(e).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}})}strip(){return new ur({...this._def,unknownKeys:"strip"})}passthrough(){return new ur({...this._def,unknownKeys:"passthrough"})}extend(e){return new ur({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ur({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ye.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ur({...this._def,catchall:e})}pick(e){let t={};return Ne.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new ur({...this._def,shape:()=>t})}omit(e){let t={};return Ne.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new ur({...this._def,shape:()=>t})}deepPartial(){return Ki(this)}partial(e){let t={};return Ne.objectKeys(this.shape).forEach(r=>{let s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}),new ur({...this._def,shape:()=>t})}required(e){let t={};return Ne.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof xr;)a=a._def.innerType;t[r]=a}}),new ur({...this._def,shape:()=>t})}keyof(){return Zh(Ne.objectKeys(this.shape))}};Xt.create=(i,e)=>new Xt({shape:()=>i,unknownKeys:"strip",catchall:Pr.create(),typeName:ye.ZodObject,...Se(e)});Xt.strictCreate=(i,e)=>new Xt({shape:()=>i,unknownKeys:"strict",catchall:Pr.create(),typeName:ye.ZodObject,...Se(e)});Xt.lazycreate=(i,e)=>new Xt({shape:i,unknownKeys:"strip",catchall:Pr.create(),typeName:ye.ZodObject,...Se(e)});var Ws=class extends Te{_parse(i){let{ctx:e}=this._processInputParams(i),t=this._def.options;function r(s){for(let n of s)if(n.result.status==="valid")return n.result;for(let n of s)if(n.result.status==="dirty")return e.common.issues.push(...n.ctx.common.issues),n.result;let a=s.map(n=>new pr(n.ctx.common.issues));return ce(e,{code:ee.invalid_union,unionErrors:a}),xe}if(e.common.async)return Promise.all(t.map(async s=>{let a={...e,common:{...e.common,issues:[]},parent:null};return{result:await s._parseAsync({data:e.data,path:e.path,parent:a}),ctx:a}})).then(r);{let s,a=[];for(let c of t){let l={...e,common:{...e.common,issues:[]},parent:null},o=c._parseSync({data:e.data,path:e.path,parent:l});if(o.status==="valid")return o;o.status==="dirty"&&!s&&(s={result:o,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(s)return e.common.issues.push(...s.ctx.common.issues),s.result;let n=a.map(c=>new pr(c));return ce(e,{code:ee.invalid_union,unionErrors:n}),xe}}get options(){return this._def.options}};Ws.create=(i,e)=>new Ws({options:i,typeName:ye.ZodUnion,...Se(e)});var Lr=i=>i instanceof Ys?Lr(i.schema):i instanceof dr?Lr(i.innerType()):i instanceof Qs?[i.value]:i instanceof ia?i.options:i instanceof Zs?Ne.objectValues(i.enum):i instanceof Xs?Lr(i._def.innerType):i instanceof zs?[void 0]:i instanceof Gs?[null]:i instanceof xr?[void 0,...Lr(i.unwrap())]:i instanceof ti?[null,...Lr(i.unwrap())]:i instanceof vl||i instanceof ea?Lr(i.unwrap()):i instanceof Js?Lr(i._def.innerType):[],Gh=class Wh extends Te{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==de.object)return ce(t,{code:ee.invalid_type,expected:de.object,received:t.parsedType}),xe;let r=this.discriminator,s=t.data[r],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(ce(t,{code:ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),xe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let s=new Map;for(let a of t){let n=Lr(a.shape[e]);if(!n.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let c of n){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,a)}}return new Wh({typeName:ye.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...Se(r)})}};function nl(i,e){let t=Jr(i),r=Jr(e);if(i===e)return{valid:!0,data:i};if(t===de.object&&r===de.object){let s=Ne.objectKeys(e),a=Ne.objectKeys(i).filter(c=>s.indexOf(c)!==-1),n={...i,...e};for(let c of a){let l=nl(i[c],e[c]);if(!l.valid)return{valid:!1};n[c]=l.data}return{valid:!0,data:n}}else if(t===de.array&&r===de.array){if(i.length!==e.length)return{valid:!1};let s=[];for(let a=0;a<i.length;a++){let n=i[a],c=e[a],l=nl(n,c);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return t===de.date&&r===de.date&&+i==+e?{valid:!0,data:i}:{valid:!1}}var $s=class extends Te{_parse(i){let{status:e,ctx:t}=this._processInputParams(i),r=(s,a)=>{if(rl(s)||rl(a))return xe;let n=nl(s.value,a.value);return n.valid?((il(s)||il(a))&&e.dirty(),{status:e.value,value:n.data}):(ce(t,{code:ee.invalid_intersection_types}),xe)};return t.common.async?Promise.all([this._def.left._parseAsync({data:t.data,path:t.path,parent:t}),this._def.right._parseAsync({data:t.data,path:t.path,parent:t})]).then(([s,a])=>r(s,a)):r(this._def.left._parseSync({data:t.data,path:t.path,parent:t}),this._def.right._parseSync({data:t.data,path:t.path,parent:t}))}};$s.create=(i,e,t)=>new $s({left:i,right:e,typeName:ye.ZodIntersection,...Se(t)});var ei=class $h extends Te{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==de.array)return ce(r,{code:ee.invalid_type,expected:de.array,received:r.parsedType}),xe;if(r.data.length<this._def.items.length)return ce(r,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xe;!this._def.rest&&r.data.length>this._def.items.length&&(ce(r,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...r.data].map((n,c)=>{let l=this._def.items[c]||this._def.rest;return l?l._parse(new br(r,n,r.path,c)):null}).filter(n=>!!n);return r.common.async?Promise.all(a).then(n=>Pt.mergeArray(t,n)):Pt.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new $h({...this._def,rest:e})}};ei.create=(i,e)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ei({items:i,typeName:ye.ZodTuple,rest:null,...Se(e)})};var Yh=class ol extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==de.object)return ce(r,{code:ee.invalid_type,expected:de.object,received:r.parsedType}),xe;let s=[],a=this._def.keyType,n=this._def.valueType;for(let c in r.data)s.push({key:a._parse(new br(r,c,r.path,c)),value:n._parse(new br(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Pt.mergeObjectAsync(t,s):Pt.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Te?new ol({keyType:e,valueType:t,typeName:ye.ZodRecord,...Se(r)}):new ol({keyType:$i.create(),valueType:e,typeName:ye.ZodRecord,...Se(t)})}},Bn=class extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){let{status:e,ctx:t}=this._processInputParams(i);if(t.parsedType!==de.map)return ce(t,{code:ee.invalid_type,expected:de.map,received:t.parsedType}),xe;let r=this._def.keyType,s=this._def.valueType,a=[...t.data.entries()].map(([n,c],l)=>({key:r._parse(new br(t,n,t.path,[l,"key"])),value:s._parse(new br(t,c,t.path,[l,"value"]))}));if(t.common.async){let n=new Map;return Promise.resolve().then(async()=>{for(let c of a){let l=await c.key,o=await c.value;if(l.status==="aborted"||o.status==="aborted")return xe;(l.status==="dirty"||o.status==="dirty")&&e.dirty(),n.set(l.value,o.value)}return{status:e.value,value:n}})}else{let n=new Map;for(let c of a){let l=c.key,o=c.value;if(l.status==="aborted"||o.status==="aborted")return xe;(l.status==="dirty"||o.status==="dirty")&&e.dirty(),n.set(l.value,o.value)}return{status:e.value,value:n}}}};Bn.create=(i,e,t)=>new Bn({valueType:e,keyType:i,typeName:ye.ZodMap,...Se(t)});var Nn=class cl extends Te{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==de.set)return ce(r,{code:ee.invalid_type,expected:de.set,received:r.parsedType}),xe;let s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ce(r,{code:ee.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ce(r,{code:ee.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let a=this._def.valueType;function n(l){let o=new Set;for(let m of l){if(m.status==="aborted")return xe;m.status==="dirty"&&t.dirty(),o.add(m.value)}return{status:t.value,value:o}}let c=[...r.data.values()].map((l,o)=>a._parse(new br(r,l,r.path,o)));return r.common.async?Promise.all(c).then(l=>n(l)):n(c)}min(e,t){return new cl({...this._def,minSize:{value:e,message:me.toString(t)}})}max(e,t){return new cl({...this._def,maxSize:{value:e,message:me.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Nn.create=(i,e)=>new Nn({valueType:i,minSize:null,maxSize:null,typeName:ye.ZodSet,...Se(e)});var Qh=class wn extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==de.function)return ce(t,{code:ee.invalid_type,expected:de.function,received:t.parsedType}),xe;function r(c,l){return An({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Tn(),Wi].filter(o=>!!o),issueData:{code:ee.invalid_arguments,argumentsError:l}})}function s(c,l){return An({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Tn(),Wi].filter(o=>!!o),issueData:{code:ee.invalid_return_type,returnTypeError:l}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof Qi){let c=this;return Bt(async function(...l){let o=new pr([]),m=await c._def.args.parseAsync(l,a).catch(A=>{throw o.addIssue(r(l,A)),o}),d=await Reflect.apply(n,this,m);return await c._def.returns._def.type.parseAsync(d,a).catch(A=>{throw o.addIssue(s(d,A)),o})})}else{let c=this;return Bt(function(...l){let o=c._def.args.safeParse(l,a);if(!o.success)throw new pr([r(l,o.error)]);let m=Reflect.apply(n,this,o.data),d=c._def.returns.safeParse(m,a);if(!d.success)throw new pr([s(m,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new wn({...this._def,args:ei.create(e).rest(hi.create())})}returns(e){return new wn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new wn({args:e||ei.create([]).rest(hi.create()),returns:t||hi.create(),typeName:ye.ZodFunction,...Se(r)})}},Ys=class extends Te{get schema(){return this._def.getter()}_parse(i){let{ctx:e}=this._processInputParams(i);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}};Ys.create=(i,e)=>new Ys({getter:i,typeName:ye.ZodLazy,...Se(e)});var Qs=class extends Te{_parse(i){if(i.data!==this._def.value){let e=this._getOrReturnCtx(i);return ce(e,{received:e.data,code:ee.invalid_literal,expected:this._def.value}),xe}return{status:"valid",value:i.data}}get value(){return this._def.value}};Qs.create=(i,e)=>new Qs({value:i,typeName:ye.ZodLiteral,...Se(e)});function Zh(i,e){return new ia({values:i,typeName:ye.ZodEnum,...Se(e)})}var ia=class ll extends Te{constructor(){super(...arguments),Ds.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),r=this._def.values;return ce(t,{expected:Ne.joinValues(r),received:t.parsedType,code:ee.invalid_type}),xe}if(kn(this,Ds,"f")||qh(this,Ds,new Set(this._def.values),"f"),!kn(this,Ds,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return ce(t,{received:t.data,code:ee.invalid_enum_value,options:r}),xe}return Bt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ll.create(e,{...this._def,...t})}exclude(e,t=this._def){return ll.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}};Ds=new WeakMap;ia.create=Zh;var Zs=class extends Te{constructor(){super(...arguments),Us.set(this,void 0)}_parse(i){let e=Ne.getValidEnumValues(this._def.values),t=this._getOrReturnCtx(i);if(t.parsedType!==de.string&&t.parsedType!==de.number){let r=Ne.objectValues(e);return ce(t,{expected:Ne.joinValues(r),received:t.parsedType,code:ee.invalid_type}),xe}if(kn(this,Us,"f")||qh(this,Us,new Set(Ne.getValidEnumValues(this._def.values)),"f"),!kn(this,Us,"f").has(i.data)){let r=Ne.objectValues(e);return ce(t,{received:t.data,code:ee.invalid_enum_value,options:r}),xe}return Bt(i.data)}get enum(){return this._def.values}};Us=new WeakMap;Zs.create=(i,e)=>new Zs({values:i,typeName:ye.ZodNativeEnum,...Se(e)});var Qi=class extends Te{unwrap(){return this._def.type}_parse(i){let{ctx:e}=this._processInputParams(i);if(e.parsedType!==de.promise&&e.common.async===!1)return ce(e,{code:ee.invalid_type,expected:de.promise,received:e.parsedType}),xe;let t=e.parsedType===de.promise?e.data:Promise.resolve(e.data);return Bt(t.then(r=>this._def.type.parseAsync(r,{path:e.path,errorMap:e.common.contextualErrorMap})))}};Qi.create=(i,e)=>new Qi({type:i,typeName:ye.ZodPromise,...Se(e)});var dr=class extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(i){let{status:e,ctx:t}=this._processInputParams(i),r=this._def.effect||null,s={addIssue:a=>{ce(t,a),a.fatal?e.abort():e.dirty()},get path(){return t.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){let a=r.transform(t.data,s);if(t.common.async)return Promise.resolve(a).then(async n=>{if(e.value==="aborted")return xe;let c=await this._def.schema._parseAsync({data:n,path:t.path,parent:t});return c.status==="aborted"?xe:c.status==="dirty"||e.value==="dirty"?zi(c.value):c});{if(e.value==="aborted")return xe;let n=this._def.schema._parseSync({data:a,path:t.path,parent:t});return n.status==="aborted"?xe:n.status==="dirty"||e.value==="dirty"?zi(n.value):n}}if(r.type==="refinement"){let a=n=>{let c=r.refinement(n,s);if(t.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return n};if(t.common.async===!1){let n=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});return n.status==="aborted"?xe:(n.status==="dirty"&&e.dirty(),a(n.value),{status:e.value,value:n.value})}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then(n=>n.status==="aborted"?xe:(n.status==="dirty"&&e.dirty(),a(n.value).then(()=>({status:e.value,value:n.value}))))}if(r.type==="transform")if(t.common.async===!1){let a=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});if(!Fs(a))return a;let n=r.transform(a.value,s);if(n instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:n}}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then(a=>Fs(a)?Promise.resolve(r.transform(a.value,s)).then(n=>({status:e.value,value:n})):a);Ne.assertNever(r)}};dr.create=(i,e,t)=>new dr({schema:i,typeName:ye.ZodEffects,effect:e,...Se(t)});dr.createWithPreprocess=(i,e,t)=>new dr({schema:e,effect:{type:"preprocess",transform:i},typeName:ye.ZodEffects,...Se(t)});var xr=class extends Te{_parse(i){return this._getType(i)===de.undefined?Bt(void 0):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}};xr.create=(i,e)=>new xr({innerType:i,typeName:ye.ZodOptional,...Se(e)});var ti=class extends Te{_parse(i){return this._getType(i)===de.null?Bt(null):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}};ti.create=(i,e)=>new ti({innerType:i,typeName:ye.ZodNullable,...Se(e)});var Xs=class extends Te{_parse(i){let{ctx:e}=this._processInputParams(i),t=e.data;return e.parsedType===de.undefined&&(t=this._def.defaultValue()),this._def.innerType._parse({data:t,path:e.path,parent:e})}removeDefault(){return this._def.innerType}};Xs.create=(i,e)=>new Xs({innerType:i,typeName:ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});var Js=class extends Te{_parse(i){let{ctx:e}=this._processInputParams(i),t={...e,common:{...e.common,issues:[]}},r=this._def.innerType._parse({data:t.data,path:t.path,parent:{...t}});return Vs(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new pr(t.common.issues)},input:t.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new pr(t.common.issues)},input:t.data})}}removeCatch(){return this._def.innerType}};Js.create=(i,e)=>new Js({innerType:i,typeName:ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});var On=class extends Te{_parse(i){if(this._getType(i)!==de.nan){let t=this._getOrReturnCtx(i);return ce(t,{code:ee.invalid_type,expected:de.nan,received:t.parsedType}),xe}return{status:"valid",value:i.data}}};On.create=i=>new On({typeName:ye.ZodNaN,...Se(i)});var d_=Symbol("zod_brand"),vl=class extends Te{_parse(i){let{ctx:e}=this._processInputParams(i),t=e.data;return this._def.type._parse({data:t,path:e.path,parent:e})}unwrap(){return this._def.type}},gl=class Xh extends Te{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?xe:a.status==="dirty"?(t.dirty(),zi(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{let s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?xe:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new Xh({in:e,out:t,typeName:ye.ZodPipeline})}},ea=class extends Te{_parse(i){let e=this._def.innerType._parse(i),t=r=>(Fs(r)&&(r.value=Object.freeze(r.value)),r);return Vs(e)?e.then(r=>t(r)):t(e)}unwrap(){return this._def.innerType}};ea.create=(i,e)=>new ea({innerType:i,typeName:ye.ZodReadonly,...Se(e)});function Jh(i,e={},t){return i?Yi.create().superRefine((r,s)=>{var a,n;if(!i(r)){let c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(n=(a=c.fatal)!==null&&a!==void 0?a:t)!==null&&n!==void 0?n:!0,o=typeof c=="string"?{message:c}:c;s.addIssue({code:"custom",...o,fatal:l})}}):Yi.create()}var f_={object:Xt.lazycreate},ye;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(ye||(ye={}));var h_=(i,e={message:`Input not instance of ${i.name}`})=>Jh(t=>t instanceof i,e),em=$i.create,tm=qs.create,m_=On.create,v_=js.create,rm=Hs.create,g_=Ks.create,y_=Rn.create,x_=zs.create,b_=Gs.create,__=Yi.create,E_=hi.create,S_=Pr.create,C_=In.create,w_=mi.create,T_=Xt.create,A_=Xt.strictCreate,k_=Ws.create,R_=Gh.create,I_=$s.create,B_=ei.create,N_=Yh.create,O_=Bn.create,L_=Nn.create,P_=Qh.create,D_=Ys.create,U_=Qs.create,M_=ia.create,F_=Zs.create,V_=Qi.create,Eh=dr.create,q_=xr.create,j_=ti.create,H_=dr.createWithPreprocess,K_=gl.create,z_=()=>em().optional(),G_=()=>tm().optional(),W_=()=>rm().optional(),$_={string:i=>$i.create({...i,coerce:!0}),number:i=>qs.create({...i,coerce:!0}),boolean:i=>Hs.create({...i,coerce:!0}),bigint:i=>js.create({...i,coerce:!0}),date:i=>Ks.create({...i,coerce:!0})},Y_=xe,kt=Object.freeze({__proto__:null,defaultErrorMap:Wi,setErrorMap:Yb,getErrorMap:Tn,makeIssue:An,EMPTY_PATH:Qb,addIssueToContext:ce,ParseStatus:Pt,INVALID:xe,DIRTY:zi,OK:Bt,isAborted:rl,isDirty:il,isValid:Fs,isAsync:Vs,get util(){return Ne},get objectUtil(){return tl},ZodParsedType:de,getParsedType:Jr,ZodType:Te,datetimeRegex:Kh,ZodString:$i,ZodNumber:qs,ZodBigInt:js,ZodBoolean:Hs,ZodDate:Ks,ZodSymbol:Rn,ZodUndefined:zs,ZodNull:Gs,ZodAny:Yi,ZodUnknown:hi,ZodNever:Pr,ZodVoid:In,ZodArray:mi,ZodObject:Xt,ZodUnion:Ws,ZodDiscriminatedUnion:Gh,ZodIntersection:$s,ZodTuple:ei,ZodRecord:Yh,ZodMap:Bn,ZodSet:Nn,ZodFunction:Qh,ZodLazy:Ys,ZodLiteral:Qs,ZodEnum:ia,ZodNativeEnum:Zs,ZodPromise:Qi,ZodEffects:dr,ZodTransformer:dr,ZodOptional:xr,ZodNullable:ti,ZodDefault:Xs,ZodCatch:Js,ZodNaN:On,BRAND:d_,ZodBranded:vl,ZodPipeline:gl,ZodReadonly:ea,custom:Jh,Schema:Te,ZodSchema:Te,late:f_,get ZodFirstPartyTypeKind(){return ye},coerce:$_,any:__,array:w_,bigint:v_,boolean:rm,date:g_,discriminatedUnion:R_,effect:Eh,enum:M_,function:P_,instanceof:h_,intersection:I_,lazy:D_,literal:U_,map:O_,nan:m_,nativeEnum:F_,never:S_,null:b_,nullable:j_,number:tm,object:T_,oboolean:W_,onumber:G_,optional:q_,ostring:z_,pipeline:K_,preprocess:H_,promise:V_,record:N_,set:L_,strictObject:A_,string:em,symbol:y_,transformer:Eh,tuple:B_,undefined:x_,union:k_,unknown:E_,void:C_,NEVER:Y_,ZodIssueCode:ee,quotelessJson:$b,ZodError:pr}),Q_=kt.object({biLoggerBaseUrl:kt.string().url().optional(),devEditorBaseUrl:kt.string().url().optional(),inkDebug:kt.boolean().optional(),minRetryTimeout:kt.number().optional(),sentryDsn:kt.string().optional(),userBrowserTestEndpoint:kt.string().url().optional(),dataDir:kt.string().optional(),wixCliDependencyVersion:kt.string().optional(),wixCliAppDependencyVersion:kt.string().optional(),appInstallationPollInterval:kt.number().optional(),disableTTY:kt.boolean().optional(),waitForLoginInterval:kt.number().optional(),registryUrl:kt.string().optional(),fsCacheDir:kt.string().optional(),localTunnel:kt.boolean().optional()}),Z_="WIX_CLI_TEST_OVERRIDES";function X_(){let i=Wb.env[Z_];return i?Q_.parse(JSON.parse(i)):{}}function im(){return X_().dataDir??zb(Gb(),".wix")}async function J_(){await Kb(im(),{recursive:!0})}var sE="wix-cli.pem",sm=30,aE=[{name:"commonName",value:"localhost"},{name:"countryName",value:"US"},{shortName:"ST",value:"Virginia"},{name:"organizationName",value:"Dev"},{shortName:"OU",value:"Dev"}],nE=async()=>{let i=Hb.default.generate(aE,{days:sm});return i.private+i.cert},oE=async i=>{let e=await rE(i).then(t=>t).catch(()=>null);return!e||Date.now()-e.ctime.valueOf()>sm*24*60*60*1e3},cE=async()=>{let i=im(),e=iE.join(i,sE);if(!await oE(e)){let s=await eE(e,{encoding:"utf-8"});return{cert:s,key:s}}let r=await nE();return await J_(),await tE(e,r,{encoding:"utf-8"}),{cert:r,key:r}};function am({https:i}={}){let e,t=!1,r,s,a,n;return{async serve(c,l,o=[]){let m;if(i){let d=(A,b)=>{let h=l(e);b.writeHead(200),b.end(lE(h))},y=await cE();m=qb({...y},d)}else m=jb();return r=new Nf(m,{maxHttpBufferSize:2e9,cors:{origin:[/wix\.com$/,/editorx\.com$/],methods:["GET","POST"]}}),r.on("connection",d=>{d.on("syncDevEditorChanges",async(y,A)=>{let b;try{await a(y),b={type:"OK"}}catch(h){b={type:"ERROR",payload:(0,Gi.serializeError)(h instanceof Error?h:new Error(JSON.stringify(h)))}}A(b)}),d.on("syncWmlChange",async(y,A)=>{let b;try{await n(y),b={type:"OK"}}catch(h){b={type:"ERROR",payload:(0,Gi.serializeError)(h instanceof Error?h:new Error(JSON.stringify(h)))}}A(b)}),d.on("disconnect",s),d.emit("initEditor",{gridAppId:c,currentWmlDescriptors:o})}),new Promise((d,y)=>{try{m.listen(0,()=>{t=!0,e=m.address().port,d({port:e})})}catch(A){y(A)}})},on(c,l){c==="disconnected"?s=l:c==="syncDevEditorChanges"?a=l:c==="wmlChange"&&(n=l)},async createRevision(){let c=await r.fetchSockets();return new Promise((l,o)=>{c[0].emit("createRevision",m=>m.type==="OK"?l(m.payload):o((0,Gi.deserializeError)(m.payload)))})},async syncWmlChange(c){let l=await r.fetchSockets();if(l.length!==0)return new Promise((o,m)=>{l[0].emit("syncWmlChange",c,d=>d.type==="OK"?o():m((0,Gi.deserializeError)(d.payload)))})},close(){return new Promise((c,l)=>{!r||!t?c():r.sockets.timeout(1e3).emit("disconnectedUnrecoverable",()=>{r.close(o=>{t=!1,o?l(o):c()})})})}}}function lE(i){return`<!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8" />
          <title>Wix CLI Dev Server</title>
        </head>
        <body>
          Wix CLI dev server is up and running.
          You are being redirected to the Velo dev editor...
        </body>
        <script type="text/JavaScript">
          function redirectToDevEditor() {
            window.location.replace("${i}");
          }
          setTimeout(function() {
              redirectToDevEditor();
          }, 1500);
        </script>
    </html>`}V();import Xi from"node:process";var Un=new Set,yl=new Set,om=!1,cm=!1;async function sa(i,e,t){if(om)return;om=!0,Un.size>0&&e&&console.error(["SYNCHRONOUS TERMINATION NOTICE:","When explicitly exiting the process via process.exit or via a parent process,","asynchronous tasks in your exitHooks will not run. Either remove these tasks,","use gracefulExit() instead of process.exit(), or ensure your parent process","sends a SIGINT to the process running this code."].join(" "));let r=128+t,s=(l=!1)=>{(l===!0||i===!0)&&Xi.exit(r)};for(let l of yl)l(r);if(e){s();return}let a=[],n=0;for(let[l,o]of Un)n=Math.max(n,o),a.push(Promise.resolve(l(r)));let c=setTimeout(()=>{s(!0)},n);await Promise.all(a),clearTimeout(c),s()}function uE(i){let{onExit:e,minimumWait:t,isSynchronous:r}=i,s=[e,t];return r?yl.add(e):Un.add(s),cm||(cm=!0,Xi.once("beforeExit",sa.bind(void 0,!0,!1,-128)),Xi.once("SIGINT",sa.bind(void 0,!0,!1,2)),Xi.once("SIGTERM",sa.bind(void 0,!0,!1,15)),Xi.once("exit",sa.bind(void 0,!1,!0,0)),Xi.on("message",a=>{a==="shutdown"&&sa(!0,!0,-128)})),()=>{r?yl.delete(e):Un.delete(s)}}function lm(i,e={}){if(typeof i!="function")throw new TypeError("onExit must be a function");if(!(typeof e.minimumWait=="number"&&e.minimumWait>0))throw new TypeError("minimumWait must be set to a positive numeric value");return uE({onExit:i,minimumWait:e.minimumWait,isSynchronous:!1})}var Ng=Ve(Jg(),1);import{cwd as Vw}from"node:process";V();var pE="https://wix.com/editor/";function um(){return _u().devEditorBaseUrl??pE}V();V();function Mn(i,e=[]){if(!e.length)return;let t=Cu(i);if(!t)return;let r=t.response?.data?.details?.validationError?.fieldViolations?.filter(a=>a.violatedRule==="MAX_LENGTH");if(!r?.length)return;let s=dE(r);throw new $t({code:Yt.GridAppFilesMaxLengthExcceeded({maxSizeViolationsData:s,filePaths:e.map(a=>a.path??"[unknown file path]")})})}function dE(i){let e=/\[(?<fileIndex>\d+)\].content/,t=/has size (?<receivedSize>\d+), expected (?<expectedSize>\d+) or less/,r={expectedSize:void 0,files:[]};for(let s of i){let a=s.field.match(e),n=s.description.match(t);if(!(a?.groups?.fileIndex&&n?.groups?.receivedSize&&n?.groups?.expectedSize))return null;r.expectedSize=r.expectedSize??Math.trunc(parseInt(n.groups.expectedSize,10)/1e3),r.files.push({receivedSize:Math.trunc(parseInt(n.groups.receivedSize,10)/1e3),fileIndex:parseInt(a.groups.fileIndex,10)})}return r}async function fE(i,e){let t;try{t=(await Si({type:"code",authState:e.authState},Mu(i))).data?.app}catch(r){throw Mn(r,i.content?.files),r}if(!t||!t.id)throw new $t({code:Yt.InvalidCreateAppResponse(),info:{app:t}});return t.id}async function pm(i,e){let t=await qu(i);return fE({app:{mutable:!0,appType:Fu.VELO_ISOLATED},content:t},e)}V();import{readFile as kw}from"node:fs/promises";import{join as Rw}from"node:path";V();var hE={},mE={};function vE(i){var e={"manage._base_domain_":[{srcPath:"/_api/wix-code-ide-server-ng",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/wix-code-ide-server-ng",destPath:""}],"blocks._base_domain_":[{srcPath:"/_api/wix-code-ide-server-ng",destPath:""}],"create.editorx":[{srcPath:"/_api/wix-code-ide-server-ng",destPath:""}],"code._base_domain_":[{srcPath:"/_api/wix-code-ide-server-ng",destPath:""}]};return Au(Object.assign(i,{domainToMappings:e}))}function dm(i){var e=uo(hE,{}),t=e.toJSON,r=e.fromJSON,s=uo(mE,{}).fromJSON;function a(n){var c=n.host,l=t(i),o={entityFqdn:"wix.velo.ide.v1.gridapp_filestructure",method:"PATCH",methodFqn:"wix.velo.ide.v1.IdeService.UpdateFiles",url:vE({protoPath:"/v1/apps/{gridAppId}/files",data:l,host:c}),data:l,transformResponse:s};return o}return a.fromReq=r,a.__isAmbassador=!0,a}V();var fm;(function(i){i.FILE="FILE",i.DIRECTORY="DIRECTORY"})(fm||(fm={}));var Fn;(function(i){i.UNKNOWN_GRID_APP_LAYOUT="UNKNOWN_GRID_APP_LAYOUT",i.ONLINE="ONLINE",i.GITHUB="GITHUB",i.GITHUB_BLOCKS="GITHUB_BLOCKS"})(Fn||(Fn={}));var hm;(function(i){i.UNKNOWN="UNKNOWN",i.UPDATE="UPDATE",i.CREATE="CREATE",i.MOVE="MOVE",i.OVERWRITE="OVERWRITE",i.COPY="COPY"})(hm||(hm={}));var dg=Ve(mu(),1),fg=Ve(pg(),1);var hg=Ve(fo(),1);var Iw=1e3,Bw=i=>i.startsWith("src/pages")?"public":i.startsWith("src/backend")?"backend":"other";function mg(i,e,t,r,s){let{projectFolder:a}=i,n=ku(1),c=(0,dg.watch)(xa(a),{disableGlobbing:!0,cwd:a,ignoreInitial:!0}).on("all",(0,fg.default)(async l=>{await n(async()=>{let o=r.logSyncingLocalCode(),{added:m,changed:d,removed:y}=Nw(l),A=Array.from(m.values()).map(E=>({path:E,type:"create"})),b=Array.from(d.values()).map(E=>({path:E,type:"update"})),h=Array.from(y.values()).map(E=>({path:E,type:"delete"}));A.concat(b).concat(h).forEach(E=>{s.file({model:i,action:E.type,path:E.path,oldPath:"",sectionName:Bw(E.path)}),E.type==="update"&&s.codeChanged(i,E.path)});try{await Ow({filesToUpdate:await Promise.all(A.concat(b).map(async w=>({path:(0,hg.default)(w.path),content:await kw(Rw(a,w.path),"utf8")}))),removedArray:h,gridAppId:e,authState:t.authState});let E=o.success();s.messageDisplayed({message:E,model:i}),s.readyForReloadAfterCodeChanged(i)}catch(E){o.fail();let w=new $t({code:Yt.GridAppFailedToUpdateFiles(),cause:E,info:{added:m,changed:d,removed:y}});t.onError(w)}})},Iw)).on("error",l=>{let o=new $t({code:Yt.FailedToWatchFiles({cause:l}),cause:l});t.onError(o)});return{close:()=>c.close()}}function Nw(i){return i.reduce((e,[t,r])=>{if(t==="add")e.added.add(r);else if(t==="change")e.changed.add(r);else if(t==="unlink")e.added.delete(r),e.changed.delete(r),e.removed.add(r);else if(t==="unlinkDir"){let s=r.endsWith("/")?r:`${r}/`;e.added.forEach(a=>{a.startsWith(s)&&e.added.delete(a)}),e.changed.forEach(a=>{a.startsWith(s)&&e.changed.delete(a)}),e.removed.add(r)}return e},{added:new Set,changed:new Set,removed:new Set})}async function Ow({filesToUpdate:i,removedArray:e,gridAppId:t,authState:r}){try{await Si({type:"code",authState:r},dm({gridAppId:t,layout:Fn.GITHUB,filesToUpdate:i,ignoreForbiddenPaths:!0,pathsToDelete:e.map(s=>s.path)}))}catch(s){throw Mn(s,i),s}}V();import vg from"node:readline";import{stdin as Fr}from"node:process";var oo=class{actions=new Map;watchExitProcess(){return new Promise(e=>{this.on("c",t=>{t.ctrl&&e()})})}on(e,t){this.actions.set(e,t)}watch(){let e=vg.createInterface(Fr);return vg.emitKeypressEvents(Fr,e),Fr.isTTY&&(Fr.setRawMode(!0),Fr.setEncoding("utf8")),Fr.on("keypress",this.handleKeyPress),{ctrlCPromise:this.watchExitProcess()}}unwatch(){Fr.isTTY&&Fr.setRawMode(!1),Fr.off("keypress",this.handleKeyPress),this.actions.clear()}handleKeyPress=(e,t)=>{this.actions.get(t.name)?.(t)}};V();import{randomUUID as gg}from"node:crypto";var yg=i=>({file:({model:e,action:t,path:r,sectionName:s,oldPath:a})=>i.report(Ru({action:t,path:r,sectionName:s,oldPath:a,siteRevision:+e.revision})),codeChanged:(e,t)=>i.report(Iu({fileName:t,siteRevision:+e.revision})),readyForReloadAfterCodeChanged:e=>i.report(Ou({siteRevision:+e.revision})),messageDisplayed:({message:e,model:t})=>i.report(Bu({message:e,messageId:gg(),siteRevision:+t.revision})),userResponse:({model:e,action:t,message:r})=>i.report(Nu({action:t,message:r,messageId:gg(),siteRevision:+e.revision}))});V();import{rm as Dw}from"node:fs/promises";V();import{readdir as Pw}from"node:fs/promises";V();import{join as co}from"node:path";import{rm as xg,rename as Lw}from"node:fs/promises";async function bg(i,e){await Promise.all(e.map(t=>!t.pageId?.path||!t.content?Promise.resolve():Tu(co(i,t.pageId.path),t.content)))}async function _g(i,e){await Promise.all(e.map(async t=>{if(!t.sourcePath?.path||!t.targetPath?.path)return Promise.resolve();let r=co(i,t.sourcePath.path),s=co(i,t.targetPath.path);return await ba(s)?xg(r,{force:!0}):Lw(r,s)}))}async function Eg(i,e){await Promise.all(e.map(t=>t.path?xg(co(i,t.path),{force:!0}):Promise.resolve()))}async function Sg(i,e){let t=bu(i.projectFolder);if(!await ba(t))throw new $t({code:Yt.NoPagesDirectoryFound({srcDir:xa(i.projectFolder)})});let r={layout:Vu.GITHUB,sourcePagesPaths:await Pw(t),targetRevision:i.revision},{data:s}=await Si({authState:e.authState,type:"code"},Uu(r)).catch(a=>{throw new $t({code:Yt.FailedToGetPagesDiff(),cause:a,info:{...r}})});await Promise.all([bg(i.projectFolder,s.pagesDiff?.created??[]),_g(i.projectFolder,s.pagesDiff?.renamed??[]),Eg(i.projectFolder,s.pagesDiff?.deleted??[])])}async function vu(i,e,t){let r=t.logSyncingTypesToRevision(i.revision);try{await Ku(i,{authState:e.authState}),r.success()}catch(a){cs(os(i.projectFolder),a),r.fail(),await Dw(xu(i.projectFolder),{recursive:!0,force:!0}).catch(n=>{cs(os(i.projectFolder),n),t.logRecoverableFailureToRemoveTypesDir(n)})}let s=t.logSyncingPagesToRevision(i.revision);try{await Sg(i,{authState:e.authState}),s.success()}catch(a){throw s.fail(),a}}V();import ri from"node:fs";import as from"node:path";V();var Cg=new Map;function wg(i){Cg.set(i,Date.now())}function Tg(i){return Cg.get(i)}V();var ss="wml";async function Uw(i){try{return await ri.promises.readFile(i,"utf-8")}catch{return null}}async function Ag(i,e){let t=as.join(i,ss);await ri.promises.mkdir(t,{recursive:!0});let r=await Promise.all(e.map(async a=>{let n=as.join(t,a.pagePointer.id);await ri.promises.mkdir(n,{recursive:!0});let c=Object.keys(a.data).map(async l=>{let o=as.join(n,l);return await Uw(o)===a.data[l]?{file:o,result:"skip"}:(await ri.promises.writeFile(o,a.data[l],"utf-8"),wg(o),{file:o,result:"write"})});return Promise.all(c)}));return Array.prototype.concat.apply([],r).reduce((a,n)=>(a[n.result].push(n.file),a),{write:[],skip:[]})}async function Mw(i){try{return await ri.promises.access(i),!0}catch(e){if(e instanceof Error&&e.code==="ENOENT")return!1;throw e}}async function kg(i){let e=as.join(i,ss);if(!await Mw(e))return[];let r=(await ri.promises.readdir(e)).map(async s=>gu(i,s));return Promise.all(r)}async function gu(i,e){let t=as.join(i,ss,e),s=(await ri.promises.readdir(t)).map(async c=>{let l=as.join(t,c),o=await ri.promises.readFile(l,"utf-8");return{[c]:o}}),a=await Promise.all(s);return{data:Object.assign({},...a),pagePointer:{id:e,type:"DESKTOP"}}}V();var Ig=Ve(mu(),1);import Rg from"node:path";function Bg(i,e){let t=Rg.join(i,ss),r=Ig.default.watch(t,{persistent:!0,awaitWriteFinish:!0,ignoreInitial:!0}),s=n=>n.split(Rg.sep).at(-2),a=(n,c)=>{let l=s(n);l&&(Math.abs(c.mtimeMs-(Tg(n)??0))<100||e(l))};return r.on("change",a),{close:()=>r.close()}}async function qw({biLogger:i,errorReporter:e},{https:t=!1,experimentalWml:r=!1}){let s=await Pu(Vw()),a=await Hu({metaSiteId:s.metaSiteId,biLogger:i,errorReporter:e}),n=Lu(),c=ju({t:n}),l=yg(i),o=am({https:t}),m;try{m=await pm(s.projectFolder,{authState:a})}catch(S){let p=Su(S)&&S.response?.data?.message;throw new $t({code:Yt.FailedToCreateGridApp({error:p}),cause:S})}r||await vu(s,{authState:a},c);let{close:d}=mg(s,m,{authState:a,onError(S){c.logNewLine(),e.reportError(S),cs(os(s.projectFolder),S),Eu((0,Ng.createElement)(wu,{error:S}))}},c,l),y=S=>{let p=c.logNoOpenedTab(S);l.messageDisplayed({model:s,message:p})},A=async S=>{if(S!==s.revision){let p={...s,revision:S};await Du(p);let _=c.logUpdatedLocalCodeToRevision({revision:p.revision});l.messageDisplayed({message:_,model:s}),r||await vu(p,{authState:a},c),s=p}},b=async S=>{c.logWmlChangesRecieved(S.map(p=>p.pagePointer.id)),setImmediate(async()=>{let p=await Ag(s.projectFolder,S);c.logWmlWriteResult(p)})},h=async S=>{l.userResponse({action:"Browser opened",message:"Opening the Local Editor",model:s});let p=E(S);t?await po(new URL(`https://localhost:${S}`).href):await po(p)},E=S=>{let p=new URLSearchParams({localPort:S+"",secureSocket:t?"true":"false",experimentalImportExport:r?"true":"false"});return new URL(`${s.metaSiteId}?`+p.toString(),um()).href},w;try{let S=r?await kg(s.projectFolder):[],{port:p}=await o.serve(m,E,S),_=E(p);o.on("disconnected",()=>y(_)),o.on("syncDevEditorChanges",A);let C;if(r){o.on("wmlChange",b);let{close:N}=Bg(s.projectFolder,async x=>{c.logWmlLocalFilesChangedForPage(x);let f=await gu(s.projectFolder,x);o.syncWmlChange([f])});C=N}w=new oo,c.logOpeningBrowser(t),await h(p);let{ctrlCPromise:k}=w.watch();w.on("e",()=>h(p)),lm(o.close,{minimumWait:500}),await k,C&&C()}finally{w?.unwatch(),await Promise.all([o.close(),d()])}}export{qw as dev};
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

accepts/index.js:
  (*!
   * accepts
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

base64id/lib/base64id.js:
  (*!
   * base64id v0.1.0
   *)

engine.io/build/parser-v3/utf8.js:
  (*! https://mths.be/utf8js v2.1.2 by @mathias *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

vary/index.js:
  (*!
   * vary
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

xmlhttprequest-ssl/lib/XMLHttpRequest.js:
  (**
   * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.
   *
   * This can be used with JS designed for browsers to improve reuse of code and
   * allow the use of existing libraries.
   *
   * Usage: include("XMLHttpRequest.js") and use XMLHttpRequest per W3C specs.
   *
   * @author Dan DeFelippi <dan@driverdan.com>
   * @contributor David Ellis <d.f.ellis@ieee.org>
   * @license MIT
   *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
//# sourceMappingURL=dev-XJAUDA2P.js.map