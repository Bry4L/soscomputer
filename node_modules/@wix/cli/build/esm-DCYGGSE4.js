import { createRequire as _createRequire } from 'node:module';
const require = _createRequire(import.meta.url);
import{$ as Ds,A as Is,Aa,Ab as Ys,B as xe,Ba as jt,Bb as Ks,Ca as Oa,Cb as pc,D as ks,Da as ae,Db as J,E as Pe,Ea as qr,Eb as Xs,F as Cs,Fa as La,Fb as Kr,G as ot,Ga as Da,H as Fe,Ha as Na,Hb as Js,Ia as Pa,Ib as hc,Ja as Fa,Jb as ut,K as Bt,Ka as lt,Kb as Zs,L as xs,La as Ba,Lb as mc,M as Ts,Ma as Ha,Mb as Qs,N as Ht,Na as Ua,Nb as gc,O as Rs,Oa as Wa,Ob as eo,P as Ms,Pa as za,Pb as yc,Q as Be,Qa as $a,Qb as _c,R as it,Ra as D,S as Ut,Sa as ja,T as As,Ta as pe,Tb as Xr,Ua as Gt,Ub as Sc,V as at,Va as Ga,Vb as Jr,W as jr,Wa as qt,Wb as bc,X as Os,Yb as vc,Z as Gr,Zb as to,_ as Ls,_a as qa,a as ps,aa as Wt,ab as Va,b as nt,bb as Ya,c as Hr,ca as Ns,d as hs,da as Ps,db as Ka,e as Ur,ea as ct,eb as Vr,f as ms,fb as Vt,fc as ro,g as Wr,gb as Xa,gc as no,h as gs,ha as zt,hb as Ja,hc as Ec,i as Lt,ia as Fs,ib as Za,ic as wc,j as zr,ja as Bs,jb as Qa,jc as Ic,k as ys,ka as Hs,kb as ec,kc,l as _s,la as Us,lb as tc,lc as Cc,m as ye,ma as Ws,mc as xc,n as st,na as zs,nb as rc,nc as Tc,o as Dt,oa as $s,ob as nc,oc as Rc,p as Ss,pa as js,pb as sc,pc as Mc,q as Nt,qb as oc,qc as Ac,r as y,ra as Gs,rb as ic,rc as Oc,s as Pt,sa as He,sb as ac,sc as Lc,t as ue,tb as Yr,tc as Dc,u as bs,ua as qs,ub as cc,uc as Nc,v as vs,va as Ma,vb as lc,vc as Pc,w as Ft,wb as uc,x as Es,xa as _e,xb as dc,y as $r,ya as $t,yb as fc,z as ws,za as Ue,zb as Vs}from"./chunk-G3RJ67HQ.js";import{d as Ra,i as k}from"./chunk-UO4ZAUJK.js";k();k();var E=ye,Zr=0;function Qr(){return Zr>0}function Fc(){Zr++,setTimeout(()=>{Zr--})}function he(e,t={},r){if(typeof e!="function")return e;try{let s=e.__sentry_wrapped__;if(s)return s;if(Ft(e))return e}catch{return e}let n=function(){let s=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);let o=s.map(i=>he(i,t));return e.apply(this,o)}catch(o){throw Fc(),lt(i=>{i.addEventProcessor(a=>(t.mechanism&&(ot(a,void 0,void 0),Fe(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Ue(o)}),o}};try{for(let s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}catch{}vs(n,e),bs(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}})}catch{}return n}k();k();var T=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;k();function Yt(e,t){let r=rn(e,t),n={type:t&&t.name,value:Wc(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Bc(e,t,r,n){let s=D(),o=s&&s.getOptions().normalizeDepth,i={exception:{values:[{type:Lt(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:zc(t,{isUnhandledRejection:n})}]},extra:{__serialized__:Os(t,o)}};if(r){let a=rn(e,r);a.length&&(i.exception.values[0].stacktrace={frames:a})}return i}function en(e,t){return{exception:{values:[Yt(e,t)]}}}function rn(e,t){let r=t.stacktrace||t.stack||"",n=Uc(t);try{return e(r,n)}catch{}return[]}var Hc=/Minified React error #\d+;/i;function Uc(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(Hc.test(e.message))return 1}return 0}function Wc(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function nn(e,t,r,n){let s=r&&r.syntheticException||void 0,o=Kt(e,t,s,n);return Fe(o),o.level="error",r&&r.event_id&&(o.event_id=r.event_id),Gr(o)}function sn(e,t,r="info",n,s){let o=n&&n.syntheticException||void 0,i=tn(e,t,o,s);return i.level=r,n&&n.event_id&&(i.event_id=n.event_id),Gr(i)}function Kt(e,t,r,n,s){let o;if(nt(t)&&t.error)return en(e,t.error);if(Hr(t)||hs(t)){let i=t;if("stack"in t)o=en(e,t);else{let a=i.name||(Hr(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=tn(e,c,r,n),ot(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return ps(t)?en(e,t):gs(t)||Lt(t)?(o=Bc(e,t,r,s),Fe(o,{synthetic:!0}),o):(o=tn(e,t,r,n),ot(o,`${t}`,void 0),Fe(o,{synthetic:!0}),o)}function tn(e,t,r,n){let s={};if(n&&r){let o=rn(e,r);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(ms(t)){let{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function zc(e,{isUnhandledRejection:t}){let r=Es(e),n=t?"promise rejection":"exception";return nt(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:Lt(e)?`Event \`${$c(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function $c(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}k();function on(e,{metadata:t,tunnel:r,dsn:n}){let s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!r&&!!n&&{dsn:Pt(n)}},o=jc(e);return zt(s,[o])}function jc(e){return[{type:"user_report"},e]}var dt=class extends Xs{constructor(t){let r=E.SENTRY_SDK_SOURCE||As();eo(t,"browser",["browser"],r),super(t),t.sendClientReports&&E.document&&E.document.addEventListener("visibilitychange",()=>{E.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return nn(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return sn(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){T&&y.warn("SDK not enabled, will not capture user feedback.");return}let r=on(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}_flushOutcomes(){let t=this._clearOutcomes();if(t.length===0){T&&y.log("No outcomes to send");return}if(!this._dsn){T&&y.log("No dsn provided, will not send outcomes");return}T&&y.log("Sending outcomes:",t);let r=zs(t,this._options.tunnel&&Pt(this._dsn));this._sendEnvelope(r)}};k();k();var ft;function so(){if(ft)return ft;if(Ts(E.fetch))return ft=E.fetch.bind(E);let e=E.document,t=E.fetch;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);let n=r.contentWindow;n&&n.fetch&&(t=n.fetch),e.head.removeChild(r)}catch(r){T&&y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return ft=t.bind(E)}function oo(){ft=void 0}function an(e,t=so()){let r=0,n=0;function s(o){let i=o.body.length;r+=i,n++;let a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(r-=i,n--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return oo(),r-=i,n--,Ls(c)}}return ut(e,s)}k();var Gc=4;function cn(e){function t(r){return new Ds((n,s)=>{let o=new XMLHttpRequest;o.onerror=s,o.onreadystatechange=()=>{o.readyState===Gc&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(let i in e.headers)Object.prototype.hasOwnProperty.call(e.headers,i)&&o.setRequestHeader(i,e.headers[i]);o.send(r.body)})}return ut(e,t)}k();var We="?",qc=10,Vc=20,Yc=30,Kc=40,Xc=50;function pt(e,t,r,n){let s={filename:e,function:t,in_app:!0};return r!==void 0&&(s.lineno=r),n!==void 0&&(s.colno=n),s}var Jc=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Zc=/\((\S*)(?::(\d+))(?::(\d+))\)/,Qc=e=>{let t=Jc.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){let o=Zc.exec(t[2]);o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3])}let[n,s]=uo(t[1]||We,t[2]);return pt(s,n,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},io=[Yc,Qc],el=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tl=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,rl=e=>{let t=el.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let o=tl.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let n=t[3],s=t[1]||We;return[s,n]=uo(s,n),pt(n,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},ao=[Xc,rl],nl=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,sl=e=>{let t=nl.exec(e);return t?pt(t[2],t[1]||We,+t[3],t[4]?+t[4]:void 0):void 0},co=[Kc,sl],ol=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,il=e=>{let t=ol.exec(e);return t?pt(t[2],t[3]||We,+t[1]):void 0},al=[qc,il],cl=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,ll=e=>{let t=cl.exec(e);return t?pt(t[5],t[3]||t[4]||We,+t[1],+t[2]):void 0},ul=[Vc,ll],lo=[io,ao,co],ln=ws(...lo),uo=(e,t)=>{let r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:We,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};k();k();var Xt=1024,fo="Breadcrumbs",dl=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:fo,setupOnce(){},setup(r){t.console&&ks(hl(r)),t.dom&&Bt(pl(r,t.dom)),t.xhr&&Ut(ml(r)),t.fetch&&Ht(gl(r)),t.history&&Be(yl(r)),t.sentry&&r.on&&r.on("beforeSendEvent",fl(r))}}},Jt=dl,un=J(fo,Jt);function fl(e){return function(r){D()===e&&ae({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:Cs(r)},{event:r})}}function pl(e,t){return function(n){if(D()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Xt&&(T&&y.warn(`\`dom.maxStringLength\` cannot exceed ${Xt}, but a value of ${a} was configured. Sentry will use ${Xt} instead.`),a=Xt),typeof i=="string"&&(i=[i]);try{let l=n.event,u=_l(l)?l.target:l;s=st(u,{keyAttrs:i,maxStringLength:a}),o=Ss(u)}catch{s="<unknown>"}if(s.length===0)return;let c={category:`ui.${n.name}`,message:s};o&&(c.data={"ui.component_name":o}),ae(c,{event:n.event,name:n.name,global:n.global})}}function hl(e){return function(r){if(D()!==e)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:Ns(r.level),message:zr(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${zr(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;ae(n,{input:r.args,level:r.level})}}function ml(e){return function(r){if(D()!==e)return;let{startTimestamp:n,endTimestamp:s}=r,o=r.xhr[it];if(!n||!s||!o)return;let{method:i,url:a,status_code:c,body:l}=o,u={method:i,url:a,status_code:c},d={xhr:r.xhr,input:l,startTimestamp:n,endTimestamp:s};ae({category:"xhr",data:u,type:"http"},d)}}function gl(e){return function(r){if(D()!==e)return;let{startTimestamp:n,endTimestamp:s}=r;if(s&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let o=r.fetchData,i={data:r.error,input:r.args,startTimestamp:n,endTimestamp:s};ae({category:"fetch",data:o,level:"error",type:"http"},i)}else{let o=r.response,i={...r.fetchData,status_code:o&&o.status},a={input:r.args,response:o,startTimestamp:n,endTimestamp:s};ae({category:"fetch",data:i,type:"http"},a)}}}function yl(e){return function(r){if(D()!==e)return;let n=r.from,s=r.to,o=Wt(E.location.href),i=n?Wt(n):void 0,a=Wt(s);(!i||!i.path)&&(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),ae({category:"navigation",data:{from:n,to:s}})}}function _l(e){return!!e&&!!e.target}k();var mo="Dedupe",Sl=()=>{let e;return{name:mo,setupOnce(){},processEvent(t){if(t.type)return t;try{if(bl(t,e))return T&&y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},dn=Sl,fn=J(mo,dn);function bl(e,t){return t?!!(vl(e,t)||El(e,t)):!1}function vl(e,t){let r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!yo(e,t)||!go(e,t))}function El(e,t){let r=po(t),n=po(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!yo(e,t)||!go(e,t))}function go(e,t){let r=ho(e),n=ho(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let s=0;s<n.length;s++){let o=n[s],i=r[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function yo(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function po(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ho(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}k();var So="GlobalHandlers",wl=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:So,setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(Il(r),_o("onerror")),t.onunhandledrejection&&(kl(r),_o("onunhandledrejection"))}}},Zt=wl,pn=J(So,Zt);function Il(e){Rs(t=>{let{stackParser:r,attachStacktrace:n}=vo();if(D()!==e||Qr())return;let{msg:s,url:o,line:i,column:a,error:c}=t,l=c===void 0&&Ur(s)?Tl(s,o,i,a):bo(Kt(r,c||s,void 0,n,!1),o,i,a);l.level="error",jt(l,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function kl(e){Ms(t=>{let{stackParser:r,attachStacktrace:n}=vo();if(D()!==e||Qr())return;let s=Cl(t),o=Wr(s)?xl(s):Kt(r,s,void 0,n,!0);o.level="error",jt(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Cl(e){if(Wr(e))return e;let t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function xl(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Tl(e,t,r,n){let s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=nt(e)?e.message:e,i="Error",a=o.match(s);return a&&(i=a[1],o=a[2]),bo({exception:{values:[{type:i,value:o}]}},t,r,n)}function bo(e,t,r,n){let s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],l=isNaN(parseInt(n,10))?void 0:n,u=isNaN(parseInt(r,10))?void 0:r,d=Ur(t)&&t.length>0?t:Dt();return c.length===0&&c.push({colno:l,filename:d,function:"?",in_app:!0,lineno:u}),e}function _o(e){T&&y.log(`Global Handler attached: ${e}`)}function vo(){let e=D();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}k();var Eo="HttpContext",Rl=()=>({name:Eo,setupOnce(){},preprocessEvent(e){if(!E.navigator&&!E.location&&!E.document)return;let t=e.request&&e.request.url||E.location&&E.location.href,{referrer:r}=E.document||{},{userAgent:n}=E.navigator||{},s={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},o={...e.request,...t&&{url:t},headers:s};e.request=o}}),Qt=Rl,hn=J(Eo,Qt);k();var Ml="cause",Al=5,wo="LinkedErrors",Ol=(e={})=>{let t=e.limit||Al,r=e.key||Ml;return{name:wo,setupOnce(){},preprocessEvent(n,s,o){let i=o.getOptions();_s(Yt,i.stackParser,i.maxValueLength,r,t,n,s)}}},er=Ol,mn=J(wo,er);k();var Ll=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ko="TryCatch",Dl=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:ko,setupOnce(){t.setTimeout&&ue(E,"setTimeout",Io),t.setInterval&&ue(E,"setInterval",Io),t.requestAnimationFrame&&ue(E,"requestAnimationFrame",Nl),t.XMLHttpRequest&&"XMLHttpRequest"in E&&ue(XMLHttpRequest.prototype,"send",Pl);let r=t.eventTarget;r&&(Array.isArray(r)?r:Ll).forEach(Fl)}}},tr=Dl,gn=J(ko,tr);function Io(e){return function(...t){let r=t[0];return t[0]=he(r,{mechanism:{data:{function:xe(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Nl(e){return function(t){return e.apply(this,[he(t,{mechanism:{data:{function:"requestAnimationFrame",handler:xe(e)},handled:!1,type:"instrument"}})])}}function Pl(e){return function(...t){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in r&&typeof r[s]=="function"&&ue(r,s,function(o){let i={mechanism:{data:{function:s,handler:xe(o)},handled:!1,type:"instrument"}},a=Ft(o);return a&&(i.mechanism.data.handler=xe(a)),he(o,i)})}),e.apply(this,t)}}function Fl(e){let t=E,r=t[e]&&t[e].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ue(r,"addEventListener",function(n){return function(s,o,i){try{typeof o.handleEvent=="function"&&(o.handleEvent=he(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:xe(o),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[s,he(o,{mechanism:{data:{function:"addEventListener",handler:xe(o),target:e},handled:!1,type:"instrument"}}),i])}}),ue(r,"removeEventListener",function(n){return function(s,o,i){let a=o;try{let c=a&&a.__sentry_wrapped__;c&&n.call(this,s,c,i)}catch{}return n.call(this,s,a,i)}}))}var Co=[Xr(),Jr(),tr(),Jt(),Zt(),er(),dn(),Qt()];function xo(e){return[...Co]}function Bl(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=xo()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),E.SENTRY_RELEASE&&E.SENTRY_RELEASE.id&&(e.release=E.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);let t={...e,stackParser:Is(e.stackParser||ln),integrations:Ks(e),transport:e.transport||(xs()?an:cn)};Js(dt,t),e.autoSessionTracking&&$l()}var Hl=(e={},t=Vr())=>{if(!E.document){T&&y.error("Global document not defined in showReportDialog call");return}let{client:r,scope:n}=t.getStackTop(),s=e.dsn||r&&r.getDsn();if(!s){T&&y.error("DSN not configured for showReportDialog call");return}n&&(e.user={...n.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());let o=E.document.createElement("script");o.async=!0,o.crossOrigin="anonymous",o.src=Ys(s,e),e.onLoad&&(o.onload=e.onLoad);let{onClose:i}=e;if(i){let c=l=>{if(l.data==="__sentry_reportdialog_closed__")try{i()}finally{E.removeEventListener("message",c)}};E.addEventListener("message",c)}let a=E.document.head||E.document.body;a?a.appendChild(o):T&&y.error("Not injecting report dialog. No injection point found in HTML")};function Ul(){}function Wl(e){e()}function zl(e){return he(e)()}function $l(){if(typeof E.document>"u"){T&&y.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}Gt({ignoreDuration:!0}),qt(),Be(({from:e,to:t})=>{e!==void 0&&e!==t&&(Gt({ignoreDuration:!0}),qt())})}function jl(e){let t=D();t&&t.captureUserFeedback(e)}var yn={};Ra(yn,{Breadcrumbs:()=>un,Dedupe:()=>fn,GlobalHandlers:()=>pn,HttpContext:()=>hn,LinkedErrors:()=>mn,TryCatch:()=>gn});k();k();var z=ye,zn="sentryReplaySession",Gl="replay_event",$n="Unable to send Replay",ql=3e5,Vl=9e5,Yl=5e3,Kl=5500,Xl=6e4,Jl=5e3,Zl=3,To=15e4,rr=5e3,Ql=3e3,eu=300,jn=2e7,tu=4999,ru=15e3,Ro=36e5;function nu(e,t){return e??t()}function or(e){let t,r=e[0],n=1;for(;n<e.length;){let s=e[n],o=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=o(r)):(s==="call"||s==="optionalCall")&&(r=o((...i)=>r.call(t,...i)),t=void 0)}return r}var X;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(X||(X={}));function su(e){return e.nodeType===e.ELEMENT_NODE}function mt(e){let t=or([e,"optionalAccess",r=>r.host]);return or([t,"optionalAccess",r=>r.shadowRoot])===e}function gt(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function ou(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function iu(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let r=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function ir(e){try{let t=e.rules||e.cssRules;return t?ou(Array.from(t,Xo).join("")):null}catch{return null}}function Xo(e){let t;if(cu(e))try{t=ir(e.styleSheet)||iu(e)}catch{}else if(lu(e)&&e.selectorText.includes(":"))return au(e.cssText);return t||e.cssText}function au(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function cu(e){return"styleSheet"in e}function lu(e){return"selectorText"in e}var ar=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;let r=or([this,"access",n=>n.getMeta,"call",n=>n(t),"optionalAccess",n=>n.id]);return nu(r,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){let n=r.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,r)}replace(t,r){let n=this.getNode(t);if(n){let s=this.nodeMetaMap.get(n);s&&this.nodeMetaMap.set(r,s)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function uu(){return new ar}function br({maskInputOptions:e,tagName:t,type:r}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||r&&e[r]||r==="password"||t==="INPUT"&&!r&&e.text)}function _t({isMasked:e,element:t,value:r,maskInputFn:n}){let s=r||"";return e?(n&&(s=n(s,t)),"*".repeat(s.length)):s}function Ke(e){return e.toLowerCase()}function vn(e){return e.toUpperCase()}var Mo="__rrweb_original__";function du(e){let t=e.getContext("2d");if(!t)return!0;let r=50;for(let n=0;n<e.width;n+=r)for(let s=0;s<e.height;s+=r){let o=t.getImageData,i=Mo in o?o[Mo]:o;if(new Uint32Array(i.call(t,n,s,Math.min(r,e.width-n),Math.min(r,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function Gn(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Ke(t):null}function cr(e,t,r){return t==="INPUT"&&(r==="radio"||r==="checkbox")?e.getAttribute("value")||"":e.value}var fu=1,pu=new RegExp("[^a-z0-9-_:]"),St=-2;function qn(){return fu++}function hu(e){if(e instanceof HTMLFormElement)return"form";let t=Ke(e.tagName);return pu.test(t)?"div":t}function mu(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var ze,Ao,gu=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,yu=/^(?:[a-z+]+:)?\/\//i,_u=/^www\..*/i,Su=/^(data:)([^,]*),(.*)/i;function lr(e,t){return(e||"").replace(gu,(r,n,s,o,i,a)=>{let c=s||i||a,l=n||o||"";if(!c)return r;if(yu.test(c)||_u.test(c))return`url(${l}${c}${l})`;if(Su.test(c))return`url(${l}${c}${l})`;if(c[0]==="/")return`url(${l}${mu(t)+c}${l})`;let u=t.split("/"),d=c.split("/");u.pop();for(let f of d)f!=="."&&(f===".."?u.pop():u.push(f));return`url(${l}${u.join("/")}${l})`})}var bu=/^[^ \t\n\r\u000c]+/,vu=/^[, \t\n\r\u000c]+/;function Eu(e,t){if(t.trim()==="")return t;let r=0;function n(o){let i,a=o.exec(t.substring(r));return a?(i=a[0],r+=i.length,i):""}let s=[];for(;n(vu),!(r>=t.length);){let o=n(bu);if(o.slice(-1)===",")o=je(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=je(e,o);let a=!1;for(;;){let c=t.charAt(r);if(c===""){s.push((o+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){r+=1,s.push((o+i).trim());break}else c==="("&&(a=!0);i+=c,r+=1}}}return s.join(", ")}function je(e,t){if(!t||t.trim()==="")return t;let r=e.createElement("a");return r.href=t,r.href}function wu(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Vn(){let e=document.createElement("a");return e.href="",e.href}function Jo(e,t,r,n,s,o){return n&&(r==="src"||r==="href"&&!(t==="use"&&n[0]==="#")||r==="xlink:href"&&n[0]!=="#"||r==="background"&&(t==="table"||t==="td"||t==="th")?je(e,n):r==="srcset"?Eu(e,n):r==="style"?lr(n,Vn()):t==="object"&&r==="data"?je(e,n):typeof o=="function"?o(r,n,s):n)}function Zo(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function Iu(e,t,r,n){try{if(n&&e.matches(n))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){let o=e.classList[s];if(t.test(o))return!0}if(r)return e.matches(r)}catch{}return!1}function ku(e,t){for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}return!1}function Re(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:Re(e.parentNode,t,r,n+1)}function Ge(e,t){return r=>{let n=r;if(n===null)return!1;try{if(e){if(typeof e=="string"){if(n.matches(`.${e}`))return!0}else if(ku(n,e))return!0}return!!(t&&n.matches(t))}catch{return!1}}}function Xe(e,t,r,n,s,o){try{let i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){let l=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(l))return!0}let a=-1,c=-1;if(o){if(c=Re(i,Ge(n,s)),c<0)return!0;a=Re(i,Ge(t,r),c>=0?c:1/0)}else{if(a=Re(i,Ge(t,r)),a<0)return!1;c=Re(i,Ge(n,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function Cu(e,t,r){let n=e.contentWindow;if(!n)return;let s=!1,o;try{o=n.document.readyState}catch{return}if(o!=="complete"){let a=setTimeout(()=>{s||(t(),s=!0)},r);e.addEventListener("load",()=>{clearTimeout(a),s=!0,t()});return}let i="about:blank";if(n.location.href!==i||e.src===i||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function xu(e,t,r){let n=!1,s;try{s=e.sheet}catch{return}if(s)return;let o=setTimeout(()=>{n||(t(),n=!0)},r);e.addEventListener("load",()=>{clearTimeout(o),n=!0,t()})}function Tu(e,t){let{doc:r,mirror:n,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:g,maskInputFn:b,dataURLOptions:m={},inlineImages:_,recordCanvas:w,keepIframeSrcFn:C,newlyAddedElement:O=!1}=t,I=Ru(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:X.Document,childNodes:[],compatMode:e.compatMode}:{type:X.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:X.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:I};case e.ELEMENT_NODE:return Au(e,{doc:r,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:b,dataURLOptions:m,inlineImages:_,recordCanvas:w,keepIframeSrcFn:C,newlyAddedElement:O,rootId:I,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return Mu(e,{maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:h,maskInputFn:b,rootId:I});case e.CDATA_SECTION_NODE:return{type:X.CDATA,textContent:"",rootId:I};case e.COMMENT_NODE:return{type:X.Comment,textContent:e.textContent||"",rootId:I};default:return!1}}function Ru(e,t){if(!t.hasNode(e))return;let r=t.getId(e);return r===1?void 0:r}function Mu(e,t){let{maskAllText:r,maskTextClass:n,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:l,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName,f=e.textContent,p=d==="STYLE"?!0:void 0,h=d==="SCRIPT"?!0:void 0,g=d==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||or([e,"access",m=>m.parentNode,"access",m=>m.sheet,"optionalAccess",m=>m.cssRules])&&(f=ir(e.parentNode.sheet))}catch(m){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${m}`,e)}f=lr(f,Vn())}h&&(f="SCRIPT_PLACEHOLDER");let b=Xe(e,n,o,s,i,r);if(!p&&!h&&!g&&f&&b&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||b)&&(f=l?l(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){let m=br({type:null,tagName:d,maskInputOptions:c});f=_t({isMasked:Xe(e,n,o,s,i,m),element:e,value:f,maskInputFn:l})}return{type:X.Text,textContent:f||"",isStyle:p,rootId:u}}function Au(e,t){let{doc:r,blockClass:n,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:l,dataURLOptions:u={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:g,maskAllText:b,maskTextClass:m,unmaskTextClass:_,maskTextSelector:w,unmaskTextSelector:C}=t,O=Iu(e,n,s,o),I=hu(e),S={},R=e.attributes.length;for(let v=0;v<R;v++){let x=e.attributes[v];x.name&&!Zo(I,x.name,x.value)&&(S[x.name]=Jo(r,I,Ke(x.name),x.value,e,c))}if(I==="link"&&i){let v=Array.from(r.styleSheets).find(B=>B.href===e.href),x=null;v&&(x=ir(v)),x&&(delete S.rel,delete S.href,S._cssText=lr(x,v.href))}if(I==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let v=ir(e.sheet);v&&(S._cssText=lr(v,Vn()))}if(I==="input"||I==="textarea"||I==="select"||I==="option"){let v=e,x=Gn(v),B=cr(v,vn(I),x),q=v.checked;if(x!=="submit"&&x!=="button"&&B){let K=Xe(v,m,w,_,C,br({type:x,tagName:vn(I),maskInputOptions:a}));S.value=_t({isMasked:K,element:v,value:B,maskInputFn:l})}q&&(S.checked=q)}if(I==="option"&&(e.selected&&!a.select?S.selected=!0:delete S.selected),I==="canvas"&&f){if(e.__context==="2d")du(e)||(S.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){let v=e.toDataURL(u.type,u.quality),x=document.createElement("canvas");x.width=e.width,x.height=e.height;let B=x.toDataURL(u.type,u.quality);v!==B&&(S.rr_dataURL=v)}}if(I==="img"&&d){ze||(ze=r.createElement("canvas"),Ao=ze.getContext("2d"));let v=e,x=v.crossOrigin;v.crossOrigin="anonymous";let B=()=>{v.removeEventListener("load",B);try{ze.width=v.naturalWidth,ze.height=v.naturalHeight,Ao.drawImage(v,0,0),S.rr_dataURL=ze.toDataURL(u.type,u.quality)}catch(q){console.warn(`Cannot inline img src=${v.currentSrc}! Error: ${q}`)}x?S.crossOrigin=x:v.removeAttribute("crossorigin")};v.complete&&v.naturalWidth!==0?B():v.addEventListener("load",B)}if((I==="audio"||I==="video")&&(S.rr_mediaState=e.paused?"paused":"played",S.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop)),O){let{width:v,height:x}=e.getBoundingClientRect();S={class:S.class,rr_width:`${v}px`,rr_height:`${x}px`}}I==="iframe"&&!p(S.src)&&(e.contentDocument||(S.rr_src=S.src),delete S.src);let $;try{customElements.get(I)&&($=!0)}catch{}return{type:X.Element,tagName:I,attributes:S,childNodes:[],isSVG:wu(e)||void 0,needBlock:O,rootId:g,isCustom:$}}function W(e){return e==null?"":e.toLowerCase()}function Ou(e,t){if(t.comment&&e.type===X.Comment)return!0;if(e.type===X.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(W(e.attributes.name).match(/^msapplication-tile(image|color)$/)||W(e.attributes.name)==="application-name"||W(e.attributes.rel)==="icon"||W(e.attributes.rel)==="apple-touch-icon"||W(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&W(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(W(e.attributes.property).match(/^(og|twitter|fb):/)||W(e.attributes.name).match(/^(og|twitter):/)||W(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(W(e.attributes.name)==="robots"||W(e.attributes.name)==="googlebot"||W(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(W(e.attributes.name)==="author"||W(e.attributes.name)==="generator"||W(e.attributes.name)==="framework"||W(e.attributes.name)==="publisher"||W(e.attributes.name)==="progid"||W(e.attributes.property).match(/^article:/)||W(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(W(e.attributes.name)==="google-site-verification"||W(e.attributes.name)==="yandex-verification"||W(e.attributes.name)==="csrf-token"||W(e.attributes.name)==="p:domain_verify"||W(e.attributes.name)==="verify-v1"||W(e.attributes.name)==="verification"||W(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function qe(e,t){let{doc:r,mirror:n,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:g,maskTextFn:b,maskInputFn:m,slimDOMOptions:_,dataURLOptions:w={},inlineImages:C=!1,recordCanvas:O=!1,onSerialize:I,onIframeLoad:S,iframeLoadTimeout:R=5e3,onStylesheetLoad:$,stylesheetLoadTimeout:v=5e3,keepIframeSrcFn:x=()=>!1,newlyAddedElement:B=!1}=t,{preserveWhiteSpace:q=!0}=t,K=Tu(e,{doc:r,mirror:n,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:b,maskInputFn:m,dataURLOptions:w,inlineImages:C,recordCanvas:O,keepIframeSrcFn:x,newlyAddedElement:B});if(!K)return console.warn(e,"not serialized"),null;let re;n.hasNode(e)?re=n.getId(e):Ou(K,_)||!q&&K.type===X.Text&&!K.isStyle&&!K.textContent.replace(/^\s+|\s+$/gm,"").length?re=St:re=qn();let H=Object.assign(K,{id:re});if(n.add(e,H),re===St)return null;I&&I(e);let se=!f;if(H.type===X.Element){se=se&&!H.needBlock,delete H.needBlock;let Y=e.shadowRoot;Y&&gt(Y)&&(H.isShadowHost=!0)}if((H.type===X.Document||H.type===X.Element)&&se){_.headWhitespace&&H.type===X.Element&&H.tagName==="head"&&(q=!1);let Y={doc:r,mirror:n,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:b,maskInputFn:m,slimDOMOptions:_,dataURLOptions:w,inlineImages:C,recordCanvas:O,preserveWhiteSpace:q,onSerialize:I,onIframeLoad:S,iframeLoadTimeout:R,onStylesheetLoad:$,stylesheetLoadTimeout:v,keepIframeSrcFn:x};for(let te of Array.from(e.childNodes)){let oe=qe(te,Y);oe&&H.childNodes.push(oe)}if(su(e)&&e.shadowRoot)for(let te of Array.from(e.shadowRoot.childNodes)){let oe=qe(te,Y);oe&&(gt(e.shadowRoot)&&(oe.isShadow=!0),H.childNodes.push(oe))}}return e.parentNode&&mt(e.parentNode)&&gt(e.parentNode)&&(H.isShadow=!0),H.type===X.Element&&H.tagName==="iframe"&&Cu(e,()=>{let Y=e.contentDocument;if(Y&&S){let te=qe(Y,{doc:Y,mirror:n,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:b,maskInputFn:m,slimDOMOptions:_,dataURLOptions:w,inlineImages:C,recordCanvas:O,preserveWhiteSpace:q,onSerialize:I,onIframeLoad:S,iframeLoadTimeout:R,onStylesheetLoad:$,stylesheetLoadTimeout:v,keepIframeSrcFn:x});te&&S(e,te)}},R),H.type===X.Element&&H.tagName==="link"&&H.attributes.rel==="stylesheet"&&xu(e,()=>{if($){let Y=qe(e,{doc:r,mirror:n,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:b,maskInputFn:m,slimDOMOptions:_,dataURLOptions:w,inlineImages:C,recordCanvas:O,preserveWhiteSpace:q,onSerialize:I,onIframeLoad:S,iframeLoadTimeout:R,onStylesheetLoad:$,stylesheetLoadTimeout:v,keepIframeSrcFn:x});Y&&$(e,Y)}},v),H}function Lu(e,t){let{mirror:r=new ar,blockClass:n="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:b,maskInputFn:m,slimDOM:_=!1,dataURLOptions:w,preserveWhiteSpace:C,onSerialize:O,onIframeLoad:I,iframeLoadTimeout:S,onStylesheetLoad:R,stylesheetLoadTimeout:$,keepIframeSrcFn:v=()=>!1}=t||{};return qe(e,{doc:e,mirror:r,blockClass:n,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:g,maskTextFn:b,maskInputFn:m,slimDOMOptions:_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:_==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:_===!1?{}:_,dataURLOptions:w,inlineImages:f,recordCanvas:p,preserveWhiteSpace:C,onSerialize:O,onIframeLoad:I,iframeLoadTimeout:S,onStylesheetLoad:R,stylesheetLoadTimeout:$,keepIframeSrcFn:v,newlyAddedElement:!1})}function Se(e){let t,r=e[0],n=1;for(;n<e.length;){let s=e[n],o=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=o(r)):(s==="call"||s==="optionalCall")&&(r=o((...i)=>r.call(t,...i)),t=void 0)}return r}function ee(e,t,r=document){let n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}var $e=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Oo={map:{},getId(){return console.error($e),-1},getNode(){return console.error($e),null},removeNodeFromMap(){console.error($e)},has(){return console.error($e),!1},reset(){console.error($e)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Oo=new Proxy(Oo,{get(e,t,r){return t==="map"&&console.error($e),Reflect.get(e,t,r)}}));function bt(e,t,r={}){let n=null,s=0;return function(...o){let i=Date.now();!s&&r.leading===!1&&(s=i);let a=t-(i-s),c=this;a<=0||a>t?(n&&(Hu(n),n=null),s=i,e.apply(c,o)):!n&&r.trailing!==!1&&(n=vr(()=>{s=r.leading===!1?0:Date.now(),n=null,e.apply(c,o)},a))}}function Qo(e,t,r,n,s=window){let o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,n?r:{set(i){vr(()=>{r.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>Qo(e,t,o||{},!0)}function Yn(e,t,r){try{if(!(t in e))return()=>{};let n=e[t],s=r(n);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=s,()=>{e[t]=n}}catch{return()=>{}}}var ur=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ur=()=>new Date().getTime());function ei(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Se([t,"optionalAccess",r=>r.documentElement,"access",r=>r.scrollLeft])||Se([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.parentElement,"optionalAccess",r=>r.scrollLeft])||Se([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Se([t,"optionalAccess",r=>r.documentElement,"access",r=>r.scrollTop])||Se([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.parentElement,"optionalAccess",r=>r.scrollTop])||Se([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.scrollTop])||0}}function ti(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ri(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ni(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function le(e,t,r,n,s){if(!e)return!1;let o=ni(e);if(!o)return!1;let i=Ge(t,r);if(!s){let l=n&&o.matches(n);return i(o)&&!l}let a=Re(o,i),c=-1;return a<0?!1:(n&&(c=Re(o,Ge(null,n))),a>-1&&c<0?!0:a<c)}function Du(e,t){return t.getId(e)!==-1}function _n(e,t){return t.getId(e)===St}function si(e,t){if(mt(e))return!1;let r=t.getId(e);return t.has(r)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?si(e.parentNode,t):!0:!0}function En(e){return!!e.changedTouches}function Nu(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let r=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function oi(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function ii(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function wn(e){return!!Se([e,"optionalAccess",t=>t.shadowRoot])}var In=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return Gs(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,r){if(this.has(t))return this.getId(t);let n;return r===void 0?n=this.id++:n=r,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function ai(e){let t=null;return Se([e,"access",r=>r.getRootNode,"optionalCall",r=>r(),"optionalAccess",r=>r.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Pu(e){let t=e,r;for(;r=ai(t);)t=r;return t}function Fu(e){let t=e.ownerDocument;if(!t)return!1;let r=Pu(e);return t.contains(r)}function ci(e){let t=e.ownerDocument;return t?t.contains(e)||Fu(e):!1}var Lo={};function Kn(e){let t=Lo[e];if(t)return t;let r=window.document,n=window[e];if(r&&typeof r.createElement=="function")try{let s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);let o=s.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch{}return Lo[e]=n.bind(window)}function Bu(...e){return Kn("requestAnimationFrame")(...e)}function vr(...e){return Kn("setTimeout")(...e)}function Hu(...e){return Kn("clearTimeout")(...e)}var M=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(M||{}),A=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(A||{}),Z=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Z||{}),me=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(me||{});function Uu(e){let t,r=e[0],n=1;for(;n<e.length;){let s=e[n],o=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=o(r)):(s==="call"||s==="optionalCall")&&(r=o((...i)=>r.call(t,...i)),t=void 0)}return r}function Do(e){return"__ln"in e}var kn=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let n=0;n<t;n++)r=Uu([r,"optionalAccess",s=>s.next])||null;return r}addNode(t){let r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&Do(t.previousSibling)){let n=t.previousSibling.__ln.next;r.next=n,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,n&&(n.previous=r)}else if(t.nextSibling&&Do(t.nextSibling)&&t.nextSibling.__ln.previous){let n=t.nextSibling.__ln.previous;r.previous=n,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,n&&(n.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(t){let r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},No=(e,t)=>`${e}@${t}`,Cn=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],r=new Set,n=new kn,s=c=>{let l=c,u=St;for(;u===St;)l=l&&l.nextSibling,u=l&&this.mirror.getId(l);return u},o=c=>{if(!c.parentNode||!ci(c))return;let l=mt(c.parentNode)?this.mirror.getId(ai(c)):this.mirror.getId(c.parentNode),u=s(c);if(l===-1||u===-1)return n.addNode(c);let d=qe(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{oi(f,this.mirror)&&this.iframeManager.addIframe(f),ii(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),wn(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{this.iframeManager.attachIframe(f,p),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});d&&(t.push({parentId:l,nextId:u,node:d}),r.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)Po(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(let c of this.addedSet)!Fo(this.droppedSet,c)&&!Po(this.removes,c,this.mirror)||Fo(this.movedSet,c)?o(c):this.droppedSet.add(c);let i=null;for(;n.length;){let c=null;if(i){let l=this.mirror.getId(i.value.parentNode),u=s(i.value);l!==-1&&u!==-1&&(c=i)}if(!c){let l=n.tail;for(;l;){let u=l;if(l=l.previous,u){let d=this.mirror.getId(u.value.parentNode);if(s(u.value)===-1)continue;if(d!==-1){c=u;break}else{let p=u.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=u;break}}}}}}if(!c){for(;n.head;)n.removeNode(n.head.value);break}i=c.previous,n.removeNode(c.value),o(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:l}=c;if(typeof l.style=="string"){let u=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);u.length<l.style.length&&(u+d).split("var(").length===l.style.split("var(").length&&(l.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:l}}).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!_n(t.target,this.mirror))switch(t.type){case"characterData":{let r=t.target.textContent;!le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:Xe(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r,ni(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{let r=t.target,n=t.attributeName,s=t.target.getAttribute(n);if(n==="value"){let i=Gn(r),a=r.tagName;s=cr(r,a,i);let c=br({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),l=Xe(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=_t({isMasked:l,element:r,value:s,maskInputFn:this.maskInputFn})}if(le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(r.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(s))if(!r.contentDocument)n="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),n==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Zo(r.tagName,n)&&(o.attributes[n]=Jo(this.doc,Ke(r.tagName),Ke(n),s,r,this.maskAttributeFn),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(let a of Array.from(r.style)){let c=r.style.getPropertyValue(a),l=r.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||l!==i.style.getPropertyPriority(a)?l===""?o.styleDiff[a]=c:o.styleDiff[a]=[c,l]:o._unchangedStyles[a]=[c,l]}for(let a of Array.from(i.style))r.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{let n=this.mirror.getId(r),s=mt(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||_n(r,this.mirror)||!Du(r,this.mirror)||(this.addedSet.has(r)?(xn(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&n===-1||si(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[No(n,s)]?xn(this.movedSet,r):this.removes.push({parentId:s,id:n,isShadow:mt(t.target)&&gt(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,r)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(_n(t,this.mirror))return;this.movedSet.add(t);let n=null;r&&this.mirror.hasNode(r)&&(n=this.mirror.getId(r)),n&&n!==-1&&(this.movedMap[No(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);le(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(n=>this.genAdds(n)),wn(t)&&t.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(r=>{this[r]=t[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function xn(e,t){e.delete(t),t.childNodes.forEach(r=>xn(e,r))}function Po(e,t,r){return e.length===0?!1:li(e,t,r)}function li(e,t,r){let{parentNode:n}=t;if(!n)return!1;let s=r.getId(n);return e.some(o=>o.id===s)?!0:li(e,n,r)}function Fo(e,t){return e.size===0?!1:ui(e,t)}function ui(e,t){let{parentNode:r}=t;return r?e.has(r)?!0:ui(e,r):!1}var yt;function Wu(e){yt=e}function zu(){yt=void 0}var L=e=>yt?(...r)=>{try{return e(...r)}catch(n){if(yt&&yt(n)===!0)return()=>{};throw n}}:e;function de(e){let t,r=e[0],n=1;for(;n<e.length;){let s=e[n],o=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=o(r)):(s==="call"||s==="optionalCall")&&(r=o((...i)=>r.call(t,...i)),t=void 0)}return r}var Ve=[];function kt(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function di(e,t){let r=new Cn;Ve.push(r),r.init(e);let n=window.MutationObserver||window.__rrMutationObserver,s=de([window,"optionalAccess",i=>i.Zone,"optionalAccess",i=>i.__symbol__,"optionalCall",i=>i("MutationObserver")]);s&&window[s]&&(n=window[s]);let o=new n(L(i=>{e.onMutation&&e.onMutation(i)===!1||r.processMutations.bind(r)(i)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function $u({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(t.mousemove===!1)return()=>{};let s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,i=[],a,c=bt(L(d=>{let f=Date.now()-a;e(i.map(p=>(p.timeOffset-=f,p)),d),i=[],a=null}),o),l=L(bt(L(d=>{let f=kt(d),{clientX:p,clientY:h}=En(d)?d.changedTouches[0]:d;a||(a=ur()),i.push({x:p,y:h,id:n.getId(f),timeOffset:ur()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?A.Drag:d instanceof MouseEvent?A.MouseMove:A.TouchMove)}),s,{trailing:!1})),u=[ee("mousemove",l,r),ee("touchmove",l,r),ee("drag",l,r)];return L(()=>{u.forEach(d=>d())})}function ju({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};let a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[],l=null,u=d=>f=>{let p=kt(f);if(le(p,n,s,o,!0))return;let h=null,g=d;if("pointerType"in f){switch(f.pointerType){case"mouse":h=me.Mouse;break;case"touch":h=me.Touch;break;case"pen":h=me.Pen;break}h===me.Touch?Z[d]===Z.MouseDown?g="TouchStart":Z[d]===Z.MouseUp&&(g="TouchEnd"):me.Pen}else En(f)&&(h=me.Touch);h!==null?(l=h,(g.startsWith("Touch")&&h===me.Touch||g.startsWith("Mouse")&&h===me.Mouse)&&(h=null)):Z[d]===Z.Click&&(h=l,l=null);let b=En(f)?f.changedTouches[0]:f;if(!b)return;let m=r.getId(p),{clientX:_,clientY:w}=b;L(e)({type:Z[g],id:m,x:_,y:w,...h!==null&&{pointerType:h}})};return Object.keys(Z).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=Ke(d),p=u(d);if(window.PointerEvent)switch(Z[d]){case Z.MouseDown:case Z.MouseUp:f=f.replace("mouse","pointer");break;case Z.TouchStart:case Z.TouchEnd:return}c.push(ee(f,p,t))}),L(()=>{c.forEach(d=>d())})}function fi({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:s,unblockSelector:o,sampling:i}){let a=L(bt(L(c=>{let l=kt(c);if(!l||le(l,n,s,o,!0))return;let u=r.getId(l);if(l===t&&t.defaultView){let d=ei(t.defaultView);e({id:u,x:d.left,y:d.top})}else e({id:u,x:l.scrollLeft,y:l.scrollTop})}),i.scroll||100));return ee("scroll",a,t)}function Gu({viewportResizeCb:e},{win:t}){let r=-1,n=-1,s=L(bt(L(()=>{let o=ti(),i=ri();(r!==o||n!==i)&&(e({width:Number(i),height:Number(o)}),r=o,n=i)}),200));return ee("resize",s,t)}var qu=["INPUT","TEXTAREA","SELECT"],Bo=new WeakMap;function Vu({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:l,sampling:u,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:g}){function b(S){let R=kt(S),$=S.isTrusted,v=R&&vn(R.tagName);if(v==="OPTION"&&(R=R.parentElement),!R||!v||qu.indexOf(v)<0||le(R,n,s,o,!0))return;let x=R;if(x.classList.contains(i)||a&&x.matches(a))return;let B=Gn(R),q=cr(x,v,B),K=!1,re=br({maskInputOptions:c,tagName:v,type:B}),H=Xe(R,f,h,p,g,re);(B==="radio"||B==="checkbox")&&(K=R.checked),q=_t({isMasked:H,element:R,value:q,maskInputFn:l}),m(R,d?{text:q,isChecked:K,userTriggered:$}:{text:q,isChecked:K});let se=R.name;B==="radio"&&se&&K&&t.querySelectorAll(`input[type="radio"][name="${se}"]`).forEach(Y=>{if(Y!==R){let te=_t({isMasked:H,element:Y,value:cr(Y,v,B),maskInputFn:l});m(Y,d?{text:te,isChecked:!K,userTriggered:!1}:{text:te,isChecked:!K})}})}function m(S,R){let $=Bo.get(S);if(!$||$.text!==R.text||$.isChecked!==R.isChecked){Bo.set(S,R);let v=r.getId(S);L(e)({...R,id:v})}}let w=(u.input==="last"?["change"]:["input","change"]).map(S=>ee(S,L(b),t)),C=t.defaultView;if(!C)return()=>{w.forEach(S=>S())};let O=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),I=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];return O&&O.set&&w.push(...I.map(S=>Qo(S[0],S[1],{set(){L(b)({target:this,isTrusted:!1})}},!1,C))),L(()=>{w.forEach(S=>S())})}function dr(e){let t=[];function r(n,s){if(nr("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||nr("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||nr("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||nr("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){let i=Array.from(n.parentRule.cssRules).indexOf(n);s.unshift(i)}else if(n.parentStyleSheet){let i=Array.from(n.parentStyleSheet.cssRules).indexOf(n);s.unshift(i)}return s}return r(e,t)}function be(e,t,r){let n,s;return e?(e.ownerNode?n=t.getId(e.ownerNode):s=r.getId(e),{styleId:s,id:n}):{}}function Yu({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};let s=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:L((u,d,f)=>{let[p,h]=f,{id:g,styleId:b}=be(d,t,r.styleMirror);return(g&&g!==-1||b&&b!==-1)&&e({id:g,styleId:b,adds:[{rule:p,index:h}]}),u.apply(d,f)})});let o=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:L((u,d,f)=>{let[p]=f,{id:h,styleId:g}=be(d,t,r.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,removes:[{index:p}]}),u.apply(d,f)})});let i;n.CSSStyleSheet.prototype.replace&&(i=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:L((u,d,f)=>{let[p]=f,{id:h,styleId:g}=be(d,t,r.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replace:p}),u.apply(d,f)})}));let a;n.CSSStyleSheet.prototype.replaceSync&&(a=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:L((u,d,f)=>{let[p]=f,{id:h,styleId:g}=be(d,t,r.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replaceSync:p}),u.apply(d,f)})}));let c={};sr("CSSGroupingRule")?c.CSSGroupingRule=n.CSSGroupingRule:(sr("CSSMediaRule")&&(c.CSSMediaRule=n.CSSMediaRule),sr("CSSConditionRule")&&(c.CSSConditionRule=n.CSSConditionRule),sr("CSSSupportsRule")&&(c.CSSSupportsRule=n.CSSSupportsRule));let l={};return Object.entries(c).forEach(([u,d])=>{l[u]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(l[u].insertRule,{apply:L((f,p,h)=>{let[g,b]=h,{id:m,styleId:_}=be(p.parentStyleSheet,t,r.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,adds:[{rule:g,index:[...dr(p),b||0]}]}),f.apply(p,h)})}),d.prototype.deleteRule=new Proxy(l[u].deleteRule,{apply:L((f,p,h)=>{let[g]=h,{id:b,styleId:m}=be(p.parentStyleSheet,t,r.styleMirror);return(b&&b!==-1||m&&m!==-1)&&e({id:b,styleId:m,removes:[{index:[...dr(p),g]}]}),f.apply(p,h)})})}),L(()=>{n.CSSStyleSheet.prototype.insertRule=s,n.CSSStyleSheet.prototype.deleteRule=o,i&&(n.CSSStyleSheet.prototype.replace=i),a&&(n.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([u,d])=>{d.prototype.insertRule=l[u].insertRule,d.prototype.deleteRule=l[u].deleteRule})})}function pi({mirror:e,stylesheetManager:t},r){let n=null;r.nodeName==="#document"?n=e.getId(r):n=e.getId(r.host);let s=r.nodeName==="#document"?de([r,"access",i=>i.defaultView,"optionalAccess",i=>i.Document]):de([r,"access",i=>i.ownerDocument,"optionalAccess",i=>i.defaultView,"optionalAccess",i=>i.ShadowRoot]),o=de([s,"optionalAccess",i=>i.prototype])?Object.getOwnPropertyDescriptor(de([s,"optionalAccess",i=>i.prototype]),"adoptedStyleSheets"):void 0;return n===null||n===-1||!s||!o?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return de([o,"access",i=>i.get,"optionalAccess",i=>i.call,"call",i=>i(this)])},set(i){let a=de([o,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,i)]);if(n!==null&&n!==-1)try{t.adoptStyleSheets(i,n)}catch{}return a}}),L(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function Ku({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:s}){let o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:L((a,c,l)=>{let[u,d,f]=l;if(r.has(u))return o.apply(c,[u,d,f]);let{id:p,styleId:h}=be(de([c,"access",g=>g.parentRule,"optionalAccess",g=>g.parentStyleSheet]),t,n.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:u,value:d,priority:f},index:dr(c.parentRule)}),a.apply(c,l)})});let i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:L((a,c,l)=>{let[u]=l;if(r.has(u))return i.apply(c,[u]);let{id:d,styleId:f}=be(de([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,n.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:u},index:dr(c.parentRule)}),a.apply(c,l)})}),L(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function Xu({mediaInteractionCb:e,blockClass:t,blockSelector:r,unblockSelector:n,mirror:s,sampling:o,doc:i}){let a=L(l=>bt(L(u=>{let d=kt(u);if(!d||le(d,t,r,n,!0))return;let{currentTime:f,volume:p,muted:h,playbackRate:g}=d;e({type:l,id:s.getId(d),currentTime:f,volume:p,muted:h,playbackRate:g})}),o.media||500)),c=[ee("play",a(0),i),ee("pause",a(1),i),ee("seeked",a(2),i),ee("volumechange",a(3),i),ee("ratechange",a(4),i)];return L(()=>{c.forEach(l=>l())})}function Ju({fontCb:e,doc:t}){let r=t.defaultView;if(!r)return()=>{};let n=[],s=new WeakMap,o=r.FontFace;r.FontFace=function(c,l,u){let d=new o(c,l,u);return s.set(d,{family:c,buffer:typeof l!="string",descriptors:u,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),d};let i=Yn(t.fonts,"add",function(a){return function(c){return vr(L(()=>{let l=s.get(c);l&&(e(l),s.delete(c))}),0),a.apply(this,[c])}});return n.push(()=>{r.FontFace=o}),n.push(i),L(()=>{n.forEach(a=>a())})}function Zu(e){let{doc:t,mirror:r,blockClass:n,blockSelector:s,unblockSelector:o,selectionCb:i}=e,a=!0,c=L(()=>{let l=t.getSelection();if(!l||a&&de([l,"optionalAccess",f=>f.isCollapsed]))return;a=l.isCollapsed||!1;let u=[],d=l.rangeCount||0;for(let f=0;f<d;f++){let p=l.getRangeAt(f),{startContainer:h,startOffset:g,endContainer:b,endOffset:m}=p;le(h,n,s,o,!0)||le(b,n,s,o,!0)||u.push({start:r.getId(h),startOffset:g,end:r.getId(b),endOffset:m})}i({ranges:u})});return c(),ee("selectionchange",c)}function Qu({doc:e,customElementCb:t}){let r=e.defaultView;return!r||!r.customElements?()=>{}:Yn(r.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function ed(e,t={}){let r=e.doc.defaultView;if(!r)return()=>{};let n=di(e,e.doc),s=$u(e),o=ju(e),i=fi(e),a=Gu(e,{win:r}),c=Vu(e),l=Xu(e),u=Yu(e,{win:r}),d=pi(e,e.doc),f=Ku(e,{win:r}),p=e.collectFonts?Ju(e):()=>{},h=Zu(e),g=Qu(e),b=[];for(let m of e.plugins)b.push(m.observer(m.callback,r,m.options));return L(()=>{Ve.forEach(m=>m.reset()),n.disconnect(),s(),o(),i(),a(),c(),l(),u(),d(),f(),p(),h(),g(),b.forEach(m=>m())})}function nr(e){return typeof window[e]<"u"}function sr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var vt=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,r,n,s){let o=n||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t),a=o.get(r);return a||(a=this.generateIdFn(),o.set(r,a),i.set(a,r)),a}getIds(t,r){let n=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return r.map(o=>this.getId(t,o,n,s))}getRemoteId(t,r,n){let s=n||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;let o=s.get(r);return o||-1}getRemoteIds(t,r){let n=this.getRemoteIdToIdMap(t);return r.map(s=>this.getRemoteId(t,s,n))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r}getRemoteIdToIdMap(t){let r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r}};function Ho(e){let t,r=e[0],n=1;for(;n<e.length;){let s=e[n],o=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=o(r)):(s==="call"||s==="optionalCall")&&(r=o((...i)=>r.call(t,...i)),t=void 0)}return r}var Tn=class{constructor(){this.crossOriginIframeMirror=new vt(qn),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},Rn=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new vt(qn),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new vt(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,r){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Ho([this,"access",n=>n.loadListener,"optionalCall",n=>n(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){let r=t;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!t.source)return;let s=this.crossOriginIframeMap.get(t.source);if(!s)return;let o=this.transformCrossOriginEvent(s,r.data.event);o&&this.wrappedEmit(o,r.data.isCheckout)}transformCrossOriginEvent(t,r){switch(r.type){case M.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t);let n=r.data.node.id;return this.crossOriginIframeRootIdMap.set(t,n),this.patchRootIdOnNode(r.data.node,n),{timestamp:r.timestamp,type:M.IncrementalSnapshot,data:{source:A.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case M.Meta:case M.Load:case M.DomContentLoaded:return!1;case M.Plugin:return r;case M.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case M.IncrementalSnapshot:switch(r.data.source){case A.Mutation:return r.data.adds.forEach(n=>{this.replaceIds(n,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(n.node,t);let s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(n.node,s)}),r.data.removes.forEach(n=>{this.replaceIds(n,t,["parentId","id"])}),r.data.attributes.forEach(n=>{this.replaceIds(n,t,["id"])}),r.data.texts.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case A.Drag:case A.TouchMove:case A.MouseMove:return r.data.positions.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case A.ViewportResize:return!1;case A.MediaInteraction:case A.MouseInteraction:case A.Scroll:case A.CanvasMutation:case A.Input:return this.replaceIds(r.data,t,["id"]),r;case A.StyleSheetRule:case A.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case A.Font:return r;case A.Selection:return r.data.ranges.forEach(n=>{this.replaceIds(n,t,["start","end"])}),r;case A.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),Ho([r,"access",n=>n.data,"access",n=>n.styles,"optionalAccess",n=>n.forEach,"call",n=>n(s=>{this.replaceStyleIds(s,t,["styleId"])})]),r}}return!1}replace(t,r,n,s){for(let o of s)!Array.isArray(r[o])&&typeof r[o]!="number"||(Array.isArray(r[o])?r[o]=t.getIds(n,r[o]):r[o]=t.getId(n,r[o]));return r}replaceIds(t,r,n){return this.replace(this.crossOriginIframeMirror,t,r,n)}replaceStyleIds(t,r,n){return this.replace(this.crossOriginIframeStyleMirror,t,r,n)}replaceIdOnNode(t,r){this.replaceIds(t,r,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(n=>{this.replaceIdOnNode(n,r)})}patchRootIdOnNode(t,r){t.type!==X.Document&&!t.rootId&&(t.rootId=r),"childNodes"in t&&t.childNodes.forEach(n=>{this.patchRootIdOnNode(n,r)})}},Mn=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},An=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,r){if(!gt(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);let n=di({...this.bypassOptions,doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(fi({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),vr(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(pi({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,r){let n=this;this.restoreHandlers.push(Yn(t.prototype,"attachShadow",function(s){return function(o){let i=s.call(this,o);return this.shadowRoot&&ci(this)&&n.addShadowRoot(this.shadowRoot,r),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}},fr=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}},On=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new In,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,r){if(t.length===0)return;let n={id:r,styleIds:[]},s=[];for(let o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:Xo(a),index:c}))})),n.styleIds.push(i)}s.length>0&&(n.styles=s),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},Ln=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){Bu(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,r){let n=this.nodeMap.get(t);return n&&Array.from(n).some(s=>s!==r)}add(t,r){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(r))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}},V,pr,ce=uu();function Ee(e={}){let{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:l=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:g,maskInputOptions:b,slimDOMOptions:m,maskAttributeFn:_,maskInputFn:w,maskTextFn:C,maxCanvasSize:O=null,packFn:I,sampling:S={},dataURLOptions:R={},mousemoveWait:$,recordCanvas:v=!1,recordCrossOriginIframes:x=!1,recordAfter:B=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:q=!1,collectFonts:K=!1,inlineImages:re=!1,plugins:H,keepIframeSrcFn:se=()=>!1,ignoreCSSAttributes:Y=new Set([]),errorHandler:te,onMutation:oe,getCanvasManager:Dr}=e;Wu(te);let De=x?window.parent===window:!0,ge=!1;if(!De)try{window.parent.document&&(ge=!1)}catch{ge=!0}if(De&&!t)throw new Error("emit function is required");$!==void 0&&S.mousemove===void 0&&(S.mousemove=$),ce.reset();let Ne=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:b!==void 0?b:{},rt=m===!0||m==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:m==="all",headMetaDescKeywords:m==="all"}:m||{};Nu();let Nr,Pr=0,us=P=>{for(let ie of H||[])ie.eventProcessor&&(P=ie.eventProcessor(P));return I&&!ge&&(P=I(P)),P};V=(P,ie)=>{let N=P;if(N.timestamp=ur(),He([Ve,"access",G=>G[0],"optionalAccess",G=>G.isFrozen,"call",G=>G()])&&N.type!==M.FullSnapshot&&!(N.type===M.IncrementalSnapshot&&N.data.source===A.Mutation)&&Ve.forEach(G=>G.unfreeze()),De)He([t,"optionalCall",G=>G(us(N),ie)]);else if(ge){let G={type:"rrweb",event:us(N),origin:window.location.origin,isCheckout:ie};window.parent.postMessage(G,"*")}if(N.type===M.FullSnapshot)Nr=N,Pr=0;else if(N.type===M.IncrementalSnapshot){if(N.data.source===A.Mutation&&N.data.isAttachIframe)return;Pr++;let G=n&&Pr>=n,F=r&&Nr&&N.timestamp-Nr.timestamp>r;(G||F)&&Br(!0)}};let At=P=>{V({type:M.IncrementalSnapshot,data:{source:A.Mutation,...P}})},ds=P=>V({type:M.IncrementalSnapshot,data:{source:A.Scroll,...P}}),Ca=P=>V({type:M.IncrementalSnapshot,data:{source:A.CanvasMutation,...P}}),xa=P=>V({type:M.IncrementalSnapshot,data:{source:A.AdoptedStyleSheet,...P}}),Ie=new On({mutationCb:At,adoptedStyleSheetCb:xa}),ke=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Tn:new Rn({mirror:ce,mutationCb:At,stylesheetManager:Ie,recordCrossOriginIframes:x,wrappedEmit:V});for(let P of H||[])P.getMirror&&P.getMirror({nodeMirror:ce,crossOriginIframeMirror:ke.crossOriginIframeMirror,crossOriginIframeStyleMirror:ke.crossOriginIframeStyleMirror});let Fr=new Ln,fs=rd(Dr,{mirror:ce,win:window,mutationCb:P=>V({type:M.IncrementalSnapshot,data:{source:A.CanvasMutation,...P}}),recordCanvas:v,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:O,sampling:S.canvas,dataURLOptions:R,errorHandler:te}),Ot=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Mn:new An({mutationCb:At,scrollCb:ds,bypassOptions:{onMutation:oe,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:Ne,dataURLOptions:R,maskAttributeFn:_,maskTextFn:C,maskInputFn:w,recordCanvas:v,inlineImages:re,sampling:S,slimDOMOptions:rt,iframeManager:ke,stylesheetManager:Ie,canvasManager:fs,keepIframeSrcFn:se,processedNodeManager:Fr},mirror:ce}),Br=(P=!1)=>{V({type:M.Meta,data:{href:window.location.href,width:ri(),height:ti()}},P),Ie.reset(),Ot.init(),Ve.forEach(N=>N.lock());let ie=Lu(document,{mirror:ce,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:Ne,maskAttributeFn:_,maskInputFn:w,maskTextFn:C,slimDOM:rt,dataURLOptions:R,recordCanvas:v,inlineImages:re,onSerialize:N=>{oi(N,ce)&&ke.addIframe(N),ii(N,ce)&&Ie.trackLinkElement(N),wn(N)&&Ot.addShadowRoot(N.shadowRoot,document)},onIframeLoad:(N,G)=>{ke.attachIframe(N,G),Ot.observeAttachShadow(N)},onStylesheetLoad:(N,G)=>{Ie.attachLinkElement(N,G)},keepIframeSrcFn:se});if(!ie)return console.warn("Failed to snapshot the document");V({type:M.FullSnapshot,data:{node:ie,initialOffset:ei(window)}}),Ve.forEach(N=>N.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Ie.adoptStyleSheets(document.adoptedStyleSheets,ce.getId(document))};pr=Br;try{let P=[],ie=G=>L(ed)({onMutation:oe,mutationCb:At,mousemoveCb:(F,Ce)=>V({type:M.IncrementalSnapshot,data:{source:Ce,positions:F}}),mouseInteractionCb:F=>V({type:M.IncrementalSnapshot,data:{source:A.MouseInteraction,...F}}),scrollCb:ds,viewportResizeCb:F=>V({type:M.IncrementalSnapshot,data:{source:A.ViewportResize,...F}}),inputCb:F=>V({type:M.IncrementalSnapshot,data:{source:A.Input,...F}}),mediaInteractionCb:F=>V({type:M.IncrementalSnapshot,data:{source:A.MediaInteraction,...F}}),styleSheetRuleCb:F=>V({type:M.IncrementalSnapshot,data:{source:A.StyleSheetRule,...F}}),styleDeclarationCb:F=>V({type:M.IncrementalSnapshot,data:{source:A.StyleDeclaration,...F}}),canvasMutationCb:Ca,fontCb:F=>V({type:M.IncrementalSnapshot,data:{source:A.Font,...F}}),selectionCb:F=>{V({type:M.IncrementalSnapshot,data:{source:A.Selection,...F}})},customElementCb:F=>{V({type:M.IncrementalSnapshot,data:{source:A.CustomElement,...F}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Ne,inlineStylesheet:h,sampling:S,recordCanvas:v,inlineImages:re,userTriggeredOnInput:q,collectFonts:K,doc:G,maskAttributeFn:_,maskInputFn:w,maskTextFn:C,keepIframeSrcFn:se,blockSelector:o,unblockSelector:i,slimDOMOptions:rt,dataURLOptions:R,mirror:ce,iframeManager:ke,stylesheetManager:Ie,shadowDomManager:Ot,processedNodeManager:Fr,canvasManager:fs,ignoreCSSAttributes:Y,plugins:He([H,"optionalAccess",F=>F.filter,"call",F=>F(Ce=>Ce.observer),"optionalAccess",F=>F.map,"call",F=>F(Ce=>({observer:Ce.observer,options:Ce.options,callback:Ta=>V({type:M.Plugin,data:{plugin:Ce.name,payload:Ta}})}))])||[]},{});ke.addLoadListener(G=>{try{P.push(ie(G.contentDocument))}catch(F){console.warn(F)}});let N=()=>{Br(),P.push(ie(document))};return document.readyState==="interactive"||document.readyState==="complete"?N():(P.push(ee("DOMContentLoaded",()=>{V({type:M.DomContentLoaded,data:{}}),B==="DOMContentLoaded"&&N()})),P.push(ee("load",()=>{V({type:M.Load,data:{}}),B==="load"&&N()},window))),()=>{P.forEach(G=>G()),Fr.destroy(),pr=void 0,zu()}}catch(P){console.warn(P)}}function td(e){if(!pr)throw new Error("please take full snapshot after start recording");pr(e)}Ee.mirror=ce;Ee.takeFullSnapshot=td;function rd(e,t){try{return e?e(t):new fr}catch{return console.warn("Unable to initialize CanvasManager"),new fr}}var nd=3,sd=5;function Xn(e){return e>9999999999?e:e*1e3}function Sn(e){return e>9999999999?e/1e3:e}function Ct(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:M.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:jr(t,10,1e3)}}),t.category==="console")))}var od="button,a";function hi(e){return e.closest(od)||e}function mi(e){let t=gi(e);return!t||!(t instanceof Element)?t:hi(t)}function gi(e){return id(e)?e.target:e}function id(e){return typeof e=="object"&&!!e&&"target"in e}var ve;function ad(e){return ve||(ve=[],cd()),ve.push(e),()=>{let t=ve?ve.indexOf(e):-1;t>-1&&ve.splice(t,1)}}function cd(){ue(z,"open",function(e){return function(...t){if(ve)try{ve.forEach(r=>r())}catch{}return e.apply(z,t)}})}function ld(e,t,r){e.handleClick(t,r)}var Dn=class{constructor(t,r,n=Ct){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scollTimeout=r.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){let t=ad(()=>{this._lastMutation=Uo()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,r){if(dd(r,this._ignoreSelector)||!fd(t))return;let n={timestamp:Sn(t.timestamp),clickBreadcrumb:t,clickCount:0,node:r};this._clicks.some(s=>s.node===n.node&&Math.abs(s.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Sn(t)}registerScroll(t=Date.now()){this._lastScroll=Sn(t)}registerClick(t){let r=hi(t);this._handleMultiClick(r)}_handleMultiClick(t){this._getClicks(t).forEach(r=>{r.clickCount++})}_getClicks(t){return this._clicks.filter(r=>r.node===t)}_checkClicks(){let t=[],r=Uo();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=r&&t.push(n)});for(let n of t){let s=this._clicks.indexOf(n);s>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let r=this._replay,n=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!n&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,l=c<this._timeout*1e3?"mutation":"timeout",u={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:z.location.href,route:r.getCurrentRoute(),timeAfterClickMs:c,endReason:l,clickCount:i||1}};this._addBreadcrumbEvent(r,u);return}if(i>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:z.location.href,route:r.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(r,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}},ud=["A","BUTTON","INPUT"];function dd(e,t){return!!(!ud.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function fd(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Uo(){return Date.now()/1e3}function pd(e,t){try{if(!hd(t))return;let{source:r}=t.data;if(r===A.Mutation&&e.registerMutation(t.timestamp),r===A.Scroll&&e.registerScroll(t.timestamp),md(t)){let{type:n,id:s}=t.data,o=Ee.mirror.getNode(s);o instanceof HTMLElement&&n===Z.Click&&e.registerClick(o)}}catch{}}function hd(e){return e.type===nd}function md(e){return e.data.source===A.MouseInteraction}function fe(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var hr;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(hr||(hr={}));var gd=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function yd(e){let t={};for(let r in e)if(gd.has(r)){let n=r;(r==="data-testid"||r==="data-test-id")&&(n="testId"),t[n]=e[r]}return t}var _d=e=>t=>{if(!e.isEnabled())return;let r=Sd(t);if(!r)return;let n=t.name==="click",s=n?t.event:void 0;n&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&ld(e.clickDetector,r,mi(t.event)),Ct(e,r)};function yi(e,t){let r=Ee.mirror.getId(e),n=r&&Ee.mirror.getNode(r),s=n&&Ee.mirror.getMeta(n),o=s&&vd(s)?s:null;return{message:t,data:o?{nodeId:r,node:{id:r,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===hr.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:yd(o.attributes)}}:{}}}function Sd(e){let{target:t,message:r}=bd(e);return fe({category:`ui.${e.name}`,...yi(t,r)})}function bd(e){let t=e.name==="click",r,n=null;try{n=t?mi(e.event):gi(e.event),r=st(n,{maxStringLength:200})||"<unknown>"}catch{r="<unknown>"}return{target:n,message:r}}function vd(e){return e.type===hr.Element}function Ed(e,t){if(!e.isEnabled())return;e.updateUserActivity();let r=wd(t);r&&Ct(e,r)}function wd(e){let{metaKey:t,shiftKey:r,ctrlKey:n,altKey:s,key:o,target:i}=e;if(!i||Id(i)||!o)return null;let a=t||n||s,c=o.length===1;if(!a&&c)return null;let l=st(i,{maxStringLength:200})||"<unknown>",u=yi(i,l);return fe({category:"ui.keyDown",message:l,data:{...u.data,metaKey:t,shiftKey:r,ctrlKey:n,altKey:s,key:o}})}function Id(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var Wo={resource:Rd,paint:xd,navigation:Td};function kd(e){return e.map(Cd).filter(Boolean)}function Cd(e){return Wo[e.entryType]?Wo[e.entryType](e):null}function Je(e){return((ct||z.performance.timeOrigin)+e)/1e3}function xd(e){let{duration:t,entryType:r,name:n,startTime:s}=e,o=Je(s);return{type:r,name:n,start:o,end:o+t,data:void 0}}function Td(e){let{entryType:t,name:r,decodedBodySize:n,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:u,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:h,type:g}=e;return s===0?null:{type:`${t}.${g}`,start:Je(p),end:Je(o),name:r,data:{size:h,decodedBodySize:n,encodedBodySize:i,duration:s,domInteractive:l,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:u,loadEventEnd:d,domComplete:o,redirectCount:f}}}function Rd(e){let{entryType:t,initiatorType:r,name:n,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:l}=e;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${t}.${r}`,start:Je(o),end:Je(s),name:n,data:{size:l,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function Md(e){let t=e.entries,r=t[t.length-1],n=r?r.element:void 0,s=e.value,o=Je(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:o,end:o,data:{value:s,size:s,nodeId:n?Ee.mirror.getId(n):void 0}}}function Ad(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function r({entries:s}){s.forEach(t)}let n=[];return["navigation","paint","resource"].forEach(s=>{n.push(no(s,r))}),n.push(ro(({metric:s})=>{e.replayPerformanceEntries.push(Md(s))})),()=>{n.forEach(s=>s())}}var U=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Od='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Ld(){let e=new Blob([Od]);return URL.createObjectURL(e)}function Q(e,t){U&&(y.info(e),t&&_i(e))}function Ye(e,t){U&&(y.info(e),t&&setTimeout(()=>{_i(e)},0))}function _i(e){ae({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}var Et=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${jn}.`)}},mr=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let r=JSON.stringify(t).length;if(this._totalSize+=r,this._totalSize>jn)throw new Et;this.events.push(t)}finish(){return new Promise(t=>{let r=this.events;this.clear(),t(JSON.stringify(r))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(r=>r.timestamp).sort()[0];return t?Xn(t):null}},Nn=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,r)=>{this._worker.addEventListener("message",({data:n})=>{n.success?t():r()},{once:!0}),this._worker.addEventListener("error",n=>{r(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){Q("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,r){let n=this._getAndIncrementId();return new Promise((s,o)=>{let i=({data:a})=>{let c=a;if(c.method===t&&c.id===n){if(this._worker.removeEventListener("message",i),!c.success){U&&y.error("[Replay]",c.response),o(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:t,arg:r})})}_getAndIncrementId(){return this._id++}},Pn=class{constructor(t){this._worker=new Nn(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let r=Xn(t.timestamp);(!this._earliestTimestamp||r<this._earliestTimestamp)&&(this._earliestTimestamp=r);let n=JSON.stringify(t);return this._totalSize+=n.length,this._totalSize>jn?Promise.reject(new Et):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{U&&y.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},Fn=class{constructor(t){this._fallback=new mr,this._compression=new Pn(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{Q("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:r}=this._fallback,n=[];for(let s of t)n.push(this._compression.addEvent(s));this._compression.hasCheckout=r,this._used=this._compression;try{await Promise.all(n)}catch(s){U&&y.warn("[Replay] Failed to add events when switching buffers.",s)}}};function Dd({useCompression:e,workerUrl:t}){if(e&&window.Worker){let r=Nd(t);if(r)return r}return Q("[Replay] Using simple buffer"),new mr}function Nd(e){try{let t=e||Pd();if(!t)return;Q(`[Replay] Using compression worker${e?` from ${e}`:""}`);let r=new Worker(t);return new Fn(r)}catch{Q("[Replay] Failed to create compression worker")}}function Pd(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Ld():""}function Jn(){try{return"sessionStorage"in z&&!!z.sessionStorage}catch{return!1}}function Fd(e){Bd(),e.session=void 0}function Bd(){if(Jn())try{z.sessionStorage.removeItem(zn)}catch{}}function Si(e){return e===void 0?!1:Math.random()<e}function bi(e){let t=Date.now(),r=e.id||Pe(),n=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:r,started:n,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function Zn(e){if(Jn())try{z.sessionStorage.setItem(zn,JSON.stringify(e))}catch{}}function Hd(e,t){return Si(e)?"session":t?"buffer":!1}function zo({sessionSampleRate:e,allowBuffering:t,stickySession:r=!1},{previousSessionId:n}={}){let s=Hd(e,t),o=bi({sampled:s,previousSessionId:n});return r&&Zn(o),o}function Ud(e){if(!Jn())return null;try{let t=z.sessionStorage.getItem(zn);if(!t)return null;let r=JSON.parse(t);return Ye("[Replay] Loading existing session",e),bi(r)}catch{return null}}function Bn(e,t,r=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=r}function vi(e,{maxReplayDuration:t,sessionIdleExpire:r,targetTime:n=Date.now()}){return Bn(e.started,t,n)||Bn(e.lastActivity,r,n)}function Ei(e,{sessionIdleExpire:t,maxReplayDuration:r}){return!(!vi(e,{sessionIdleExpire:t,maxReplayDuration:r})||e.sampled==="buffer"&&e.segmentId===0)}function bn({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:r,previousSessionId:n},s){let o=s.stickySession&&Ud(e);return o?Ei(o,{sessionIdleExpire:t,maxReplayDuration:r})?(Ye("[Replay] Session in sessionStorage is expired, creating new one..."),zo(s,{previousSessionId:o.id})):o:(Ye("[Replay] Creating new session",e),zo(s,{previousSessionId:n}))}function Wd(e){return e.type===M.Custom}function Qn(e,t,r){return Ii(e,t)?(wi(e,t,r),!0):!1}function zd(e,t,r){return Ii(e,t)?wi(e,t,r):Promise.resolve(null)}async function wi(e,t,r){if(!e.eventBuffer)return null;try{r&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),r&&(e.eventBuffer.hasCheckout=!0);let n=e.getOptions(),s=$d(t,n.beforeAddRecordingEvent);return s?await e.eventBuffer.addEvent(s):void 0}catch(n){let s=n&&n instanceof Et?"addEventSizeExceeded":"addEvent";U&&y.error(n),await e.stop({reason:s});let o=D();o&&o.recordDroppedEvent("internal_sdk_error","replay")}}function Ii(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let r=Xn(t.timestamp);return r+e.timeouts.sessionIdlePause<Date.now()?!1:r>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(Q(`[Replay] Skipping event with timestamp ${r} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function $d(e,t){try{if(typeof t=="function"&&Wd(e))return t(e)}catch(r){return U&&y.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",r),null}return e}function es(e){return!e.type}function Hn(e){return e.type==="transaction"}function jd(e){return e.type==="replay_event"}function $o(e){return e.type==="feedback"}function ki(e){let t=Vd();return(r,n)=>{if(!e.isEnabled()||!es(r)&&!Hn(r))return;let s=n&&n.statusCode;if(!(t&&(!s||s<200||s>=300))){if(Hn(r)){Gd(e,r);return}qd(e,r)}}}function Gd(e,t){let r=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&r.traceIds.size<100&&r.traceIds.add(t.contexts.trace.trace_id)}function qd(e,t){let r=e.getContext();if(t.event_id&&r.errorIds.size<100&&r.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:n}=e.getOptions();typeof n=="function"&&!n(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function Vd(){let e=D();if(!e)return!1;let t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function Yd(e){return t=>{!e.isEnabled()||!es(t)||Kd(e,t)}}function Kd(e,t){let r=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof r=="string"&&(r.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let n=fe({category:"replay.hydrate-error"});Ct(e,n)}}function Xd(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function Jd(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:M.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Zd(e,t){return e.recordingMode!=="buffer"||t.message===$n||!t.exception||t.type?!1:Si(e.getOptions().errorSampleRate)}function Qd(e,t=!1){let r=t?ki(e):void 0;return Object.assign((n,s)=>e.isEnabled()?jd(n)?(delete n.breadcrumbs,n):!es(n)&&!Hn(n)&&!$o(n)||!e.checkAndHandleExpiredSession()?n:$o(n)?(e.flush(),n.contexts.feedback.replay_id=e.getSessionId(),Jd(e,n),n):Xd(n,s)&&!e.getOptions()._experiments.captureExceptions?(U&&y.log("[Replay] Ignoring error from rrweb internals",n),null):((Zd(e,n)||e.recordingMode==="session")&&(n.tags={...n.tags,replayId:e.getSessionId()}),r&&r(n,{statusCode:200}),n):n,{id:"Replay"})}function Er(e,t){return t.map(({type:r,start:n,end:s,name:o,data:i})=>{let a=e.throttledAddEvent({type:M.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:r,description:o,startTimestamp:n,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function ef(e){let{from:t,to:r}=e,n=Date.now()/1e3;return{type:"navigation.push",start:n,end:n,name:r,data:{previous:t}}}function tf(e){return t=>{if(!e.isEnabled())return;let r=ef(t);r!==null&&(e.getContext().urls.push(r.name),e.triggerUserActivity(),e.addUpdate(()=>(Er(e,[r]),!1)))}}function rf(e,t){return U&&e.getOptions()._experiments.traceInternals?!1:Qs(t,D())}function wr(e,t){e.isEnabled()&&t!==null&&(rf(e,t.name)||e.addUpdate(()=>(Er(e,[t]),!0)))}function nf(e){let{startTimestamp:t,endTimestamp:r,fetchData:n,response:s}=e;if(!r)return null;let{method:o,url:i}=n;return{type:"resource.fetch",start:t/1e3,end:r/1e3,name:i,data:{method:o,statusCode:s?s.status:void 0}}}function sf(e){return t=>{if(!e.isEnabled())return;let r=nf(t);wr(e,r)}}function of(e){let{startTimestamp:t,endTimestamp:r,xhr:n}=e,s=n[it];if(!t||!r||!s)return null;let{method:o,url:i,status_code:a}=s;return i===void 0?null:{type:"resource.xhr",name:i,start:t/1e3,end:r/1e3,data:{method:o,statusCode:a}}}function af(e){return t=>{if(!e.isEnabled())return;let r=of(t);wr(e,r)}}function Ir(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let r=Ri(e);return t.encode(r).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Ci(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function xi(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Ri(e)];if(!e)return[void 0]}catch{return U&&y.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return U&&y.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function gr(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let r={...e._meta},n=r.warnings||[];return r.warnings=[...n,t],e._meta=r,e}function Ti(e,t){if(!t)return null;let{startTimestamp:r,endTimestamp:n,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:r/1e3,end:n/1e3,name:s,data:$r({method:o,statusCode:i,request:a,response:c})}}function wt(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function we(e,t,r){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!r)return{headers:e,size:t};let n={headers:e,size:t},{body:s,warnings:o}=cf(r);return n.body=s,o&&o.length>0&&(n._meta={warnings:o}),n}function Un(e,t){return Object.keys(e).reduce((r,n)=>{let s=n.toLowerCase();return t.includes(s)&&e[n]&&(r[s]=e[n]),r},{})}function Ri(e){return new URLSearchParams(e).toString()}function cf(e){if(!e||typeof e!="string")return{body:e};let t=e.length>To,r=lf(e);if(t){let n=e.slice(0,To);return r?{body:n,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${n}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function lf(e){let t=e[0],r=e[e.length-1];return t==="["&&r==="]"||t==="{"&&r==="}"}function yr(e,t){let r=uf(e);return ys(r,t)}function uf(e,t=z.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(z.location.origin))return e;let r=new URL(e,t);if(r.origin!==new URL(t).origin)return e;let n=r.href;return!e.endsWith("/")&&n.endsWith("/")?n.slice(0,-1):n}async function df(e,t,r){try{let n=await pf(e,t,r),s=Ti("resource.fetch",n);wr(r.replay,s)}catch(n){U&&y.error("[Replay] Failed to capture fetch breadcrumb",n)}}function ff(e,t,r){let{input:n,response:s}=t,o=n?Mi(n):void 0,i=Ir(o,r.textEncoder),a=s?Ci(s.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),a!==void 0&&(e.data.response_body_size=a)}async function pf(e,t,r){let n=Date.now(),{startTimestamp:s=n,endTimestamp:o=n}=t,{url:i,method:a,status_code:c=0,request_body_size:l,response_body_size:u}=e.data,d=yr(i,r.networkDetailAllowUrls)&&!yr(i,r.networkDetailDenyUrls),f=d?hf(r,t.input,l):wt(l),p=await mf(d,r,t.response,u);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:f,response:p}}function hf({networkCaptureBodies:e,networkRequestHeaders:t},r,n){let s=r?_f(r,t):{};if(!e)return we(s,n,void 0);let o=Mi(r),[i,a]=xi(o),c=we(s,n,i);return a?gr(c,a):c}async function mf(e,{networkCaptureBodies:t,textEncoder:r,networkResponseHeaders:n},s,o){if(!e&&o!==void 0)return wt(o);let i=s?Ai(s.headers,n):{};if(!s||!t&&o!==void 0)return we(i,o,void 0);let[a,c]=await yf(s),l=gf(a,{networkCaptureBodies:t,textEncoder:r,responseBodySize:o,captureDetails:e,headers:i});return c?gr(l,c):l}function gf(e,{networkCaptureBodies:t,textEncoder:r,responseBodySize:n,captureDetails:s,headers:o}){try{let i=e&&e.length&&n===void 0?Ir(e,r):n;return s?t?we(o,i,e):we(o,i,void 0):wt(i)}catch(i){return U&&y.warn("[Replay] Failed to serialize response body",i),we(o,n,void 0)}}async function yf(e){let t=Sf(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await bf(t)]}catch(r){return U&&y.warn("[Replay] Failed to get text body from response",r),[void 0,"BODY_PARSE_ERROR"]}}function Mi(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Ai(e,t){let r={};return t.forEach(n=>{e.get(n)&&(r[n]=e.get(n))}),r}function _f(e,t){return e.length===1&&typeof e[0]!="string"?jo(e[0],t):e.length===2?jo(e[1],t):{}}function jo(e,t){if(!e)return{};let r=e.headers;return r?r instanceof Headers?Ai(r,t):Array.isArray(r)?{}:Un(r,t):{}}function Sf(e){try{return e.clone()}catch(t){U&&y.warn("[Replay] Failed to clone response body",t)}}function bf(e){return new Promise((t,r)=>{let n=setTimeout(()=>r(new Error("Timeout while trying to read response body")),500);vf(e).then(s=>t(s),s=>r(s)).finally(()=>clearTimeout(n))})}async function vf(e){return await e.text()}async function Ef(e,t,r){try{let n=If(e,t,r),s=Ti("resource.xhr",n);wr(r.replay,s)}catch(n){U&&y.error("[Replay] Failed to capture xhr breadcrumb",n)}}function wf(e,t,r){let{xhr:n,input:s}=t;if(!n)return;let o=Ir(s,r.textEncoder),i=n.getResponseHeader("content-length")?Ci(n.getResponseHeader("content-length")):Tf(n.response,n.responseType,r.textEncoder);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function If(e,t,r){let n=Date.now(),{startTimestamp:s=n,endTimestamp:o=n,input:i,xhr:a}=t,{url:c,method:l,status_code:u=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!a||!yr(c,r.networkDetailAllowUrls)||yr(c,r.networkDetailDenyUrls)){let I=wt(d),S=wt(f);return{startTimestamp:s,endTimestamp:o,url:c,method:l,statusCode:u,request:I,response:S}}let p=a[it],h=p?Un(p.request_headers,r.networkRequestHeaders):{},g=Un(kf(a),r.networkResponseHeaders),[b,m]=r.networkCaptureBodies?xi(i):[void 0],[_,w]=r.networkCaptureBodies?Cf(a):[void 0],C=we(h,d,b),O=we(g,f,_);return{startTimestamp:s,endTimestamp:o,url:c,method:l,statusCode:u,request:m?gr(C,m):C,response:w?gr(O,w):O}}function kf(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((r,n)=>{let[s,o]=n.split(": ");return r[s.toLowerCase()]=o,r},{}):{}}function Cf(e){let t=[];try{return[e.responseText]}catch(r){t.push(r)}try{return xf(e.response,e.responseType)}catch(r){t.push(r)}return U&&y.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function xf(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return U&&y.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return U&&y.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Tf(e,t,r){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Ir(n,r)}catch{return}}function Rf(e){let t=D();try{let r=new TextEncoder,{networkDetailAllowUrls:n,networkDetailDenyUrls:s,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:r,networkDetailAllowUrls:n,networkDetailDenyUrls:s,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(l,u)=>Mf(c,l,u)):(Ht(sf(e)),Ut(af(e)))}catch{}}function Mf(e,t,r){if(t.data)try{Af(t)&&Lf(r)&&(wf(t,r,e),Ef(t,r,e)),Of(t)&&Df(r)&&(ff(t,r,e),df(t,r,e))}catch{U&&y.warn("Error when enriching network breadcrumb")}}function Af(e){return e.category==="xhr"}function Of(e){return e.category==="fetch"}function Lf(e){return e&&e.xhr}function Df(e){return e&&e.response}var Go=null;function Nf(e){return!!e.category}var Pf=e=>t=>{if(!e.isEnabled())return;let r=Ff(t);r&&Ct(e,r)};function Ff(e){let t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return Go===t||!t||(Go=t,!Nf(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?Bf(t):fe(t)}function Bf(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return fe(e);let r=!1,n=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>rr?(r=!0,`${s.slice(0,rr)}\u2026`):s;if(typeof s=="object")try{let o=jr(s,7);return JSON.stringify(o).length>rr?(r=!0,`${JSON.stringify(o,null,2).slice(0,rr)}\u2026`):o}catch{}return s});return fe({...e,data:{...e.data,arguments:n,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Hf(e){let t=pe(),r=D();t.addScopeListener(Pf(e)),Bt(_d(e)),Be(tf(e)),Rf(e);let n=Qd(e,!qo(r));r&&r.addEventProcessor?r.addEventProcessor(n):Kr(n),qo(r)&&(r.on("beforeSendEvent",Yd(e)),r.on("afterSendEvent",ki(e)),r.on("createDsc",s=>{let o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=o)}),r.on("startTransaction",s=>{e.lastTransaction=s}),r.on("finishTransaction",s=>{e.lastTransaction=s}),r.on("beforeSendFeedback",(s,o)=>{let i=e.getSessionId();o&&o.includeReplay&&e.isEnabled()&&i&&s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=i)}))}function qo(e){return!!(e&&e.on)}async function Uf(e){try{return Promise.all(Er(e,[Wf(z.performance.memory)]))}catch{return[]}}function Wf(e){let{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}}}}function zf(e,t,r){let n,s,o,i=r&&r.maxWait?Math.max(r.maxWait,t):0;function a(){return c(),n=e(),n}function c(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function l(){return s!==void 0||o!==void 0?a():n}function u(){return s&&clearTimeout(s),s=setTimeout(a,t),i&&o===void 0&&(o=setTimeout(a,i)),n}return u.cancel=c,u.flush=l,u}function $f(e){let t=!1;return(r,n)=>{if(!e.checkAndHandleExpiredSession()){U&&y.warn("[Replay] Received replay event after session expired.");return}let s=n||!t;t=!0,e.clickDetector&&pd(e.clickDetector,r),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Qn(e,r,s))return!0;if(!s)return!1;if(Gf(e,s),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){let o=e.eventBuffer.getEarliestTimestamp();o&&(Q(`[Replay] Updating session start time to earliest event in buffer to ${new Date(o)}`,e.getOptions()._experiments.traceInternals),e.session.started=o,e.getOptions().stickySession&&Zn(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function jf(e){let t=e.getOptions();return{type:M.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Gf(e,t){!t||!e.session||e.session.segmentId!==0||Qn(e,jf(e),!1)}function qf(e,t,r,n){return zt(Ws(e,Us(e),n,r),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Vf({recordingData:e,headers:t}){let r,n=`${JSON.stringify(t)}
`;if(typeof e=="string")r=`${n}${e}`;else{let o=new TextEncoder().encode(n);r=new Uint8Array(o.length+e.length),r.set(o),r.set(e,o.length)}return r}async function Yf({client:e,scope:t,replayId:r,event:n}){let s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:r,integrations:s};e.emit&&e.emit("preprocessEvent",n,o);let i=await $t(e.getOptions(),n,o,t,e,Vt());if(!i)return null;i.platform=i.platform||"javascript";let a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:l}=a&&a.sdk||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:l||"0.0.0"},i}async function Kf({recordingData:e,replayId:t,segmentId:r,eventContext:n,timestamp:s,session:o}){let i=Vf({recordingData:e,headers:{segment_id:r}}),{urls:a,errorIds:c,traceIds:l,initialTimestamp:u}=n,d=D(),f=pe(),p=d&&d.getTransport(),h=d&&d.getDsn();if(!d||!p||!h||!o.sampled)return;let g={type:Gl,replay_start_timestamp:u/1e3,timestamp:s/1e3,error_ids:c,trace_ids:l,urls:a,replay_id:t,segment_id:r,replay_type:o.sampled},b=await Yf({scope:f,client:d,replayId:t,event:g});if(!b){d.recordDroppedEvent("event_processor","replay",g),Q("An event processor returned `null`, will not send event.");return}delete b.sdkProcessingMetadata;let m=qf(b,i,h,d.getOptions().tunnel),_;try{_=await p.send(m)}catch(C){let O=new Error($n);try{O.cause=C}catch{}throw O}if(!_)return _;if(typeof _.statusCode=="number"&&(_.statusCode<200||_.statusCode>=300))throw new _r(_.statusCode);let w=js({},_);if($s(w,"replay"))throw new Sr(w);return _}var _r=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},Sr=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function Oi(e,t={count:0,interval:Jl}){let{recordingData:r,options:n}=e;if(r.length)try{return await Kf(e),!0}catch(s){if(s instanceof _r||s instanceof Sr)throw s;if(qr("Replays",{_retryCount:t.count}),U&&n._experiments&&n._experiments.captureExceptions&&Ue(s),t.count>=Zl){let o=new Error(`${$n} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{setTimeout(async()=>{try{await Oi(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}var Li="__THROTTLED",Xf="__SKIPPED";function Jf(e,t,r){let n=new Map,s=a=>{let c=a-r;n.forEach((l,u)=>{u<c&&n.delete(u)})},o=()=>[...n.values()].reduce((a,c)=>a+c,0),i=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(s(c),o()>=t){let u=i;return i=!0,u?Xf:Li}i=!1;let l=n.get(c)||0;return n.set(c,l+1),e(...a)}}var Wn=class e{constructor({options:t,recordingOptions:r}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:ql,sessionIdleExpire:Vl},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=r,this._options=t,this._debouncedFlush=zf(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Jf((i,a)=>zd(this,i,a),300,5);let{slowClickTimeout:n,slowClickIgnoreSelectors:s}=this.getOptions(),o=n?{threshold:Math.min(Ql,n),timeout:n,scrollTimeout:eu,ignoreSelector:s?s.join(","):""}:void 0;o&&(this.clickDetector=new Dn(this,o))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){let{errorSampleRate:r,sessionSampleRate:n}=this._options;if(!(r<=0&&n<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Ye(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Ye("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();let t=bn({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Ye("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);let t=bn({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=Ee({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:Xl},emit:$f(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:r}={}){if(this._isEnabled){this._isEnabled=!1;try{Q(`[Replay] Stopping Replay${r?` triggered by ${r}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Fd(this)}catch(n){this._handleException(n)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Q("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Q("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let r=Date.now();Q("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();let n=this.stopRecording();!t||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let r=t();this.recordingMode!=="buffer"&&r!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Bn(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${z.location.pathname}${z.location.hash}${z.location.search}`,r=`${z.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=r,this._context.initialTimestamp=Date.now(),this._context.urls.push(r)}throttledAddEvent(t,r){let n=this._throttledAddEvent(t,r);if(n===Li){let s=fe({category:"replay.throttled"});this.addUpdate(()=>!Qn(this,{type:sd,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return n}getCurrentRoute(){let t=this.lastTransaction||pe().getTransaction(),n=(t&&_e(t).data||{})[Yr];if(!(!t||!n||!["route","custom"].includes(n)))return _e(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Dd({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){U&&y.error("[Replay]",t),U&&this._options._experiments&&this._options._experiments.captureExceptions&&Ue(t)}_initializeSessionForSampling(t){let r=this._options.errorSampleRate>0,n=bn({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:r});this.session=n}_checkSession(){if(!this.session)return!1;let t=this.session;return Ei(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{z.document.addEventListener("visibilitychange",this._handleVisibilityChange),z.addEventListener("blur",this._handleWindowBlur),z.addEventListener("focus",this._handleWindowFocus),z.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Hf(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=Ad(this)}_removeListeners(){try{z.document.removeEventListener("visibilitychange",this._handleVisibilityChange),z.removeEventListener("blur",this._handleWindowBlur),z.removeEventListener("focus",this._handleWindowFocus),z.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{z.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=fe({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=fe({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{Ed(this,t)}}_doChangeToBackgroundTasks(t){!this.session||vi(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Q("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:M.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=kd(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Er(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:r}=this;if(!t||!r||t.segmentId)return;let n=r.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){U&&y.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await Uf(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let n=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();let o=await this.eventBuffer.finish();await Oi({replayId:t,recordingData:o,segmentId:s,eventContext:n,session:this.session,options:this.getOptions(),timestamp:r})}catch(r){this._handleException(r),this.stop({reason:"sendReplay"});let n=D();n&&n.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){U&&y.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;let r=this.session.started,s=Date.now()-r;this._debouncedFlush.cancel();let o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){Q(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),o&&this._debouncedFlush();return}let a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&Q("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){U&&y.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Zn(this.session)}__init6(){this._onMutationHandler=t=>{let r=t.length,n=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,o=n&&r>n;if(r>s||o){let i=fe({category:"replay.mutations",data:{count:r,limit:o}});this._createCustomBreadcrumb(i)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function ht(e,t,r,n){let s=typeof n=="string"?n.split(","):[],o=[...e,...s,...t];return typeof r<"u"&&(typeof r=="string"&&o.push(`.${r}`),Nt(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),o.join(",")}function Zf({mask:e,unmask:t,block:r,unblock:n,ignore:s,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,ignoreClass:l}){let u=['base[href="/"]'],d=ht(e,[".sentry-mask","[data-sentry-mask]"],a,c),f=ht(t,[".sentry-unmask","[data-sentry-unmask]"]),p={maskTextSelector:d,unmaskTextSelector:f,blockSelector:ht(r,[".sentry-block","[data-sentry-block]",...u],o,i),unblockSelector:ht(n,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:ht(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],l)};return o instanceof RegExp&&(p.blockClass=o),a instanceof RegExp&&(p.maskTextClass=a),p}function Qf({el:e,key:t,maskAttributes:r,maskAllText:n,privacyOptions:s,value:o}){return!n||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:r.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}var Vo='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',ep=["content-length","content-type","accept"],Yo=!1,tp=e=>new It(e),It=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=Yl,flushMaxDelay:r=Kl,minReplayDuration:n=tu,maxReplayDuration:s=Ro,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},sessionSampleRate:l,errorSampleRate:u,maskAllText:d=!0,maskAllInputs:f=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:h=750,mutationLimit:g=1e4,slowClickTimeout:b=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:w=[],networkCaptureBodies:C=!0,networkRequestHeaders:O=[],networkResponseHeaders:I=[],mask:S=[],maskAttributes:R=["title","placeholder"],unmask:$=[],block:v=[],unblock:x=[],ignore:B=[],maskFn:q,beforeAddRecordingEvent:K,beforeErrorSampling:re,blockClass:H,blockSelector:se,maskInputOptions:Y,maskTextClass:te,maskTextSelector:oe,ignoreClass:Dr}={}){this.name=e.id;let De=Zf({mask:S,unmask:$,block:v,unblock:x,ignore:B,blockClass:H,blockSelector:se,maskTextClass:te,maskTextSelector:oe,ignoreClass:Dr});if(this._recordingOptions={maskAllInputs:f,maskAllText:d,maskInputOptions:{...Y||{},password:!0},maskTextFn:q,maskInputFn:q,maskAttributeFn:(ge,Ne,rt)=>Qf({maskAttributes:R,maskAllText:d,privacyOptions:De,key:ge,value:Ne,el:rt}),...De,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:ge=>{try{ge.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:r,minReplayDuration:Math.min(n,ru),maxReplayDuration:Math.min(s,Ro),stickySession:o,sessionSampleRate:l,errorSampleRate:u,useCompression:i,workerUrl:a,blockAllMedia:p,maskAllInputs:f,maskAllText:d,mutationBreadcrumbLimit:h,mutationLimit:g,slowClickTimeout:b,slowClickIgnoreSelectors:m,networkDetailAllowUrls:_,networkDetailDenyUrls:w,networkCaptureBodies:C,networkRequestHeaders:Ko(O),networkResponseHeaders:Ko(I),beforeAddRecordingEvent:K,beforeErrorSampling:re,_experiments:c},typeof l=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${l} })`),this._initialOptions.sessionSampleRate=l),typeof u=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${u} })`),this._initialOptions.errorSampleRate=u),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Vo}`:Vo),this._isInitialized&&at())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Yo}set _isInitialized(t){Yo=t}setupOnce(){at()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){let t=rp(this._initialOptions);this._replay=new Wn({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{let r=D().getIntegrationByName("ReplayCanvas");if(!r)return;this._replay._canvas=r.getOptions()}catch{}}};It.__initStatic();function rp(e){let t=D(),r=t&&t.getOptions(),n={sessionSampleRate:0,errorSampleRate:0,...$r(e)};return r?(e.sessionSampleRate==null&&e.errorSampleRate==null&&r.replaysSessionSampleRate==null&&r.replaysOnErrorSampleRate==null&&Nt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof r.replaysSessionSampleRate=="number"&&(n.sessionSampleRate=r.replaysSessionSampleRate),typeof r.replaysOnErrorSampleRate=="number"&&(n.errorSampleRate=r.replaysOnErrorSampleRate),n):(Nt(()=>{console.warn("SDK client is not available.")}),n)}function Ko(e){return[...ep,...e.map(t=>t.toLowerCase())]}function np(){let e=D();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}k();var Di;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Di||(Di={}));function sp(e,t){for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}return!1}function ts(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:ts(e.parentNode,t,r,n+1)}function Ni(e,t){return r=>{let n=r;if(n===null)return!1;try{if(e){if(typeof e=="string"){if(n.matches(`.${e}`))return!0}else if(sp(n,e))return!0}return!!(t&&n.matches(t))}catch{return!1}}}var Ze=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Pi={map:{},getId(){return console.error(Ze),-1},getNode(){return console.error(Ze),null},removeNodeFromMap(){console.error(Ze)},has(){return console.error(Ze),!1},reset(){console.error(Ze)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Pi=new Proxy(Pi,{get(e,t,r){return t==="map"&&console.error(Ze),Reflect.get(e,t,r)}}));function ns(e,t,r,n,s=window){let o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,n?r:{set(i){ji(()=>{r.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>ns(e,t,o||{},!0)}function ss(e,t,r){try{if(!(t in e))return()=>{};let n=e[t],s=r(n);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=s,()=>{e[t]=n}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function op(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Tr(e,t,r,n,s){if(!e)return!1;let o=op(e);if(!o)return!1;let i=Ni(t,r);if(!s){let l=n&&o.matches(n);return i(o)&&!l}let a=ts(o,i),c=-1;return a<0?!1:(n&&(c=ts(o,Ni(null,n))),a>-1&&c<0?!0:a<c)}var Fi={};function $i(e){let t=Fi[e];if(t)return t;let r=window.document,n=window[e];if(r&&typeof r.createElement=="function")try{let s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);let o=s.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch{}return Fi[e]=n.bind(window)}function Me(...e){return $i("requestAnimationFrame")(...e)}function ji(...e){return $i("setTimeout")(...e)}var et=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(et||{}),Cr;function ip(e){Cr=e}var Bi=e=>Cr?(...r)=>{try{return e(...r)}catch(n){if(Cr&&Cr(n)===!0)return()=>{};throw n}}:e,Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ap=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(xt=0;xt<Qe.length;xt++)ap[Qe.charCodeAt(xt)]=xt;var xt,cp=function(e){var t=new Uint8Array(e),r,n=t.length,s="";for(r=0;r<n;r+=3)s+=Qe[t[r]>>2],s+=Qe[(t[r]&3)<<4|t[r+1]>>4],s+=Qe[(t[r+1]&15)<<2|t[r+2]>>6],s+=Qe[t[r+2]&63];return n%3===2?s=s.substring(0,s.length-1)+"=":n%3===1&&(s=s.substring(0,s.length-2)+"=="),s},Hi=new Map;function lp(e,t){let r=Hi.get(e);return r||(r=new Map,Hi.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}var Gi=(e,t,r)=>{if(!e||!(Vi(e,t)||typeof e=="object"))return;let n=e.constructor.name,s=lp(r,n),o=s.indexOf(e);return o===-1&&(o=s.length,s.push(e)),o};function xr(e,t,r){if(e instanceof Array)return e.map(n=>xr(n,t,r));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let n=e.constructor.name,s=cp(e);return{rr_type:n,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[xr(e.buffer,t,r),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let n=e.constructor.name,{src:s}=e;return{rr_type:n,src:s}}else if(e instanceof HTMLCanvasElement){let n="HTMLImageElement",s=e.toDataURL();return{rr_type:n,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[xr(e.data,t,r),e.width,e.height]};if(Vi(e,t)||typeof e=="object"){let n=e.constructor.name,s=Gi(e,t,r);return{rr_type:n,index:s}}}}return e}var qi=(e,t,r)=>e.map(n=>xr(n,t,r)),Vi=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function up(e,t,r,n,s){let o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=ss(t.CanvasRenderingContext2D.prototype,a,function(l){return function(...u){return Tr(this.canvas,r,n,s,!0)||ji(()=>{let d=qi(u,t,this);e(this.canvas,{type:et["2D"],property:a,args:d})},0),l.apply(this,u)}});o.push(c)}catch{let l=ns(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:et["2D"],property:a,args:[u],setter:!0})}});o.push(l)}return()=>{o.forEach(a=>a())}}function dp(e){return e==="experimental-webgl"?"webgl":e}function Ui(e,t,r,n,s){let o=[];try{let i=ss(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...l){if(!Tr(this,t,r,n,!0)){let u=dp(c);if("__context"in this||(this.__context=u),s&&["webgl","webgl2"].includes(u))if(l[0]&&typeof l[0]=="object"){let d=l[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else l.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...l])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}function Wi(e,t,r,n,s,o,i,a){let c=[],l=Object.getOwnPropertyNames(e);for(let u of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(u))try{if(typeof e[u]!="function")continue;let d=ss(e,u,function(f){return function(...p){let h=f.apply(this,p);if(Gi(h,a,this),"tagName"in this.canvas&&!Tr(this.canvas,n,s,o,!0)){let g=qi(p,a,this),b={type:t,property:u,args:g};r(this.canvas,b)}return h}});c.push(d)}catch{let f=ns(e,u,{set(p){r(this.canvas,{type:t,property:u,args:[p],setter:!0})}});c.push(f)}return c}function fp(e,t,r,n,s,o){let i=[];return i.push(...Wi(t.WebGLRenderingContext.prototype,et.WebGL,e,r,n,s,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...Wi(t.WebGL2RenderingContext.prototype,et.WebGL2,e,r,n,s,o,t)),()=>{i.forEach(a=>a())}}var pp='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function hp(){let e=new Blob([pp]);return URL.createObjectURL(e)}var rs=class{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(d,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(f)};let{sampling:r="all",win:n,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:a,recordCanvas:c,dataURLOptions:l,errorHandler:u}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,u&&ip(u),!t.enableManualSnapshot&&Bi(()=>{c&&r==="all"&&this.initCanvasMutationObserver(n,s,o,i),c&&typeof r=="number"&&this.initCanvasFPSObserver(r,n,s,o,i,a,{dataURLOptions:l})})()}initCanvasFPSObserver(t,r,n,s,o,i,a){let c=Ui(r,n,s,o,!0),l=this.takeSnapshot(!1,t,r,n,s,o,i,a.dataURLOptions);this.resetObservers=()=>{c(),cancelAnimationFrame(l)}}initCanvasMutationObserver(t,r,n,s){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let o=Ui(t,r,n,s,!1),i=up(this.processMutation.bind(this),t,r,n,s),a=fp(this.processMutation.bind(this),t,r,n,s,this.mirror);this.resetObservers=()=>{o(),i(),a()}}snapshot(t){let{options:r}=this,n=this.takeSnapshot(!0,r.sampling==="all"?2:r.sampling||2,r.win,r.blockClass,r.blockSelector,r.unblockSelector,r.maxCanvasSize,r.dataURLOptions,t);this.resetObservers=()=>{cancelAnimationFrame(n)}}takeSnapshot(t,r,n,s,o,i,a,c,l){let u=new Map,d=new Worker(hp());d.onmessage=m=>{let _=m.data,{id:w}=_;if(u.set(w,!1),!("base64"in _))return;let{base64:C,type:O,width:I,height:S}=_;this.mutationCb({id:w,type:et["2D"],commands:[{property:"clearRect",args:[0,0,I,S]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:C}],type:O}]},0,0,I,S]}]})};let f=1e3/r,p=0,h,g=m=>{if(m)return[m];let _=[];return n.document.querySelectorAll("canvas").forEach(w=>{Tr(w,s,o,i,!0)||_.push(w)}),_},b=m=>{if(p&&m-p<f){h=Me(b);return}p=m,g(l).forEach(_=>{let w=this.mirror.getId(_);if(!u.get(w)&&!(!_.width||!_.height)){if(u.set(w,!0),!t&&["webgl","webgl2"].includes(_.__context)){let C=_.getContext(_.__context);He([C,"optionalAccess",O=>O.getContextAttributes,"call",O=>O(),"optionalAccess",O=>O.preserveDrawingBuffer])===!1&&C.clear(C.COLOR_BUFFER_BIT)}createImageBitmap(_).then(C=>{d.postMessage({id:w,bitmap:C,width:_.width,height:_.height,dataURLOptions:c,maxCanvasSize:a},[C])}).catch(C=>{Bi(()=>{throw C})()})}}),h=Me(b)};return h=Me(b),h}startPendingCanvasMutationFlusher(){Me(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=r=>{this.rafStamps.latestId=r,Me(t)};Me(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,r)=>{let n=this.mirror.getId(r);this.flushPendingCanvasMutationFor(r,n)}),Me(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,r){if(this.frozen||this.locked)return;let n=this.pendingCanvasMutations.get(t);if(!n||r===-1)return;let s=n.map(i=>{let{type:a,...c}=i;return c}),{type:o}=n[0];this.mutationCb({id:r,type:o,commands:s}),this.pendingCanvasMutations.delete(t)}},zi={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Yi="ReplayCanvas",kr=1280,mp=(e={})=>{let[t,r]=e.maxCanvasSize||[],n={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,kr):kr,r?Math.min(r,kr):kr]},s,o=new Promise(i=>s=i);return{name:Yi,setupOnce(){},getOptions(){let{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=n;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:l=>{let u=new rs({...l,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:d=>{try{typeof d=="object"&&(d.__rrweb__=!0)}catch{}}});return s(u),u},...zi[i||"medium"]||zi.medium}},async snapshot(i){(await o).snapshot(i)}}},Ki=mp,gp=J(Yi,Ki);k();var Oe=ye,os="#ffffff",Xi="inherit",is="rgba(108, 95, 199, 1)",Ji={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:os,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:is,submitBorder:is,submitOutlineFocus:"#29232f",submitForeground:os,submitForegroundHover:os,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Xi,inputForeground:Xi,inputBorder:"var(--border)",inputOutlineFocus:is,formBorderRadius:"20px",formContentBorderRadius:"6px"},Zi={light:Ji,dark:{...Ji,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"}},yp="Report a Bug",_p="Cancel",Sp="Send Bug Report",bp="Report a Bug",vp="your.email@example.org",Ep="Email",wp="What's the bug? What did you expect?",Ip="Description",kp="Your Name",Cp="Name",xp="(required)",Tp="Thank you for your report!",na="widget",sa="api";async function Rp({client:e,scope:t,event:r}){let n={};e.emit&&e.emit("preprocessEvent",r,n);let s=await $t(e.getOptions(),r,n,t,e,Vt());return s===null?(e.recordDroppedEvent("event_processor","feedback",r),null):(s.platform=s.platform||"javascript",s)}async function Mp({feedback:{message:e,email:t,name:r,source:n,url:s}},{includeReplay:o=!0}={}){let i=D(),a=i&&i.getTransport(),c=i&&i.getDsn();if(!i||!a||!c)return;let l={contexts:{feedback:{contact_email:t,name:r,message:e,url:s,source:n}},type:"feedback"};return lt(async u=>{u.clearBreadcrumbs(),[sa,na].includes(String(n))&&u.setLevel("info");let d=await Rp({scope:u,client:i,event:l});if(!d)return;i.emit&&i.emit("beforeSendFeedback",d,{includeReplay:!!o});let f=Vs(d,c,i.getOptions()._metadata,i.getOptions().tunnel),p;try{p=await a.send(f)}catch(h){let g=new Error("Unable to send Feedback");try{g.cause=h}catch{}throw g}if(p){if(typeof p.statusCode=="number"&&(p.statusCode<200||p.statusCode>=300))throw new Error("Unable to send Feedback");return p}})}function oa({name:e,email:t,message:r,source:n=sa,url:s=Dt()},o={}){if(!r)throw new Error("Unable to submit feedback with empty message");return Mp({feedback:{name:e,email:t,message:r,url:s,source:n}},o)}var Ae=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Qi(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Ap(e){let t=e.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  line-height: 16px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

@media (max-width: 600px) {
  .widget__actor__text {
    display: none;
  }
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}function Op(e){let t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 500;
  padding: 6px 12px;
}

.form__input::placeholder {
  color: var(--input-foreground);
  opacity: 0.65;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}function ea(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --border-radius: ${e.borderRadius};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};

  --form-border-radius: ${e.formBorderRadius};
  --form-content-border-radius: ${e.formContentBorderRadius};
  `}function Lp(e,t,r){let n=e.createElement("style");return n.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${r.light.fontFamily};
  --font-size: ${r.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${ea(t==="dark"?r.dark:r.light)}
}

${t==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${ea(r.dark)}
  }
}`:""}
}`,n}function Dp({id:e,colorScheme:t,themeDark:r,themeLight:n}){try{let s=Oe.document,o=s.createElement("div");o.id=e;let i=o.attachShadow({mode:"open"});return i.appendChild(Lp(s,t,{dark:r,light:n})),i.appendChild(Op(s)),{shadow:i,host:o}}catch{throw y.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function Np(e,t,r){if(!e)return;let n=()=>{e&&e.showError("There was a problem submitting feedback, please wait and try again.")};e.hideError();try{return await oa({...t,source:na},r)}catch(s){Ae&&y.error(s),n()}}function ne(e,t){return Object.entries(t).forEach(([r,n])=>{e.setAttributeNS(null,r,n)}),e}var tt=20,Pp="http://www.w3.org/2000/svg";function Fp(){let e=a=>Oe.document.createElementNS(Pp,a),t=ne(e("svg"),{class:"feedback-icon",width:`${tt}`,height:`${tt}`,viewBox:`0 0 ${tt} ${tt}`,fill:"none"}),r=ne(e("g"),{clipPath:"url(#clip0_57_80)"}),n=ne(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(r).appendChild(n);let s=e("defs"),o=ne(e("clipPath"),{id:"clip0_57_80"}),i=ne(e("rect"),{width:`${tt}`,height:`${tt}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),{get el(){return t}}}function j(e,t,...r){let s=Oe.document.createElement(e);t&&Object.entries(t).forEach(([o,i])=>{o==="className"&&typeof i=="string"?s.setAttribute("class",i):typeof i=="boolean"&&i?s.setAttribute(o,""):typeof i=="string"?s.setAttribute(o,i):o.startsWith("on")&&typeof i=="function"&&s.addEventListener(o.substring(2).toLowerCase(),i)});for(let o of r)ia(s,o);return s}function ia(e,t){let r=Oe.document;if(!(typeof t>"u"||t===null))if(Array.isArray(t))for(let n of t)ia(e,n);else t===!1||(typeof t=="string"?e.appendChild(r.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(r.createTextNode(String(t))))}function Bp({buttonLabel:e,onClick:t}){function r(s){t&&t(s)}let n=j("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},Fp().el,e?j("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",r),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function Hp({label:e}){return{el:j("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}function as(e,t){let r=e.get(t);return typeof r=="string"?r.trim():""}function Up({nameLabel:e,namePlaceholder:t,emailLabel:r,emailPlaceholder:n,messageLabel:s,messagePlaceholder:o,isRequiredLabel:i,cancelButtonLabel:a,submitButtonLabel:c,showName:l,showEmail:u,isNameRequired:d,isEmailRequired:f,defaultName:p,defaultEmail:h,onCancel:g,onSubmit:b}){let{el:m}=Hp({label:c});function _(x){if(x.preventDefault(),x.target instanceof HTMLFormElement)try{if(b){let B=new FormData(x.target),q={name:as(B,"name"),email:as(B,"email"),message:as(B,"message")};b(q)}}catch{}}let w=j("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function C(x){w.textContent=x,w.classList.remove("form__error-container--hidden"),w.setAttribute("aria-hidden","false")}function O(){w.textContent="",w.classList.add("form__error-container--hidden"),w.setAttribute("aria-hidden","true")}let I=j("input",{id:"name",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:p}),S=j("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:f,className:"form__input",placeholder:n,value:h}),R=j("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:o}),$=j("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:x=>{g&&g(x)}},a),v=j("form",{className:"form",onSubmit:_},[w,l&&j("label",{htmlFor:"name",className:"form__label"},[j("span",{className:"form__label__text"},e,d&&j("span",{className:"form__label__text--required"},` ${i}`)),I]),!l&&I,u&&j("label",{htmlFor:"email",className:"form__label"},[j("span",{className:"form__label__text"},r,f&&j("span",{className:"form__label__text--required"},` ${i}`)),S]),!u&&S,j("label",{htmlFor:"message",className:"form__label"},[j("span",{className:"form__label__text"},s,j("span",{className:"form__label__text--required"},` ${i}`)),R]),j("div",{className:"btn-group"},[m,$])]);return{get el(){return v},showError:C,hideError:O}}var Wp="http://www.w3.org/2000/svg";function zp({colorScheme:e}){let t=i=>Oe.document.createElementNS(Wp,i),r=ne(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),n=ne(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});r.append(n);let s=t("defs"),o=t("style");return o.textContent=`
    path {
      fill: ${e==="dark"?"#fff":"#362d59"};
    }`,e==="system"&&(o.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),s.append(o),r.append(s),{get el(){return r}}}function $p({formTitle:e,showBranding:t,showName:r,showEmail:n,isNameRequired:s,isEmailRequired:o,colorScheme:i,defaultName:a,defaultEmail:c,onClosed:l,onCancel:u,onSubmit:d,...f}){let p=null;function h(){g(),l&&l()}function g(){p&&(p.open=!1)}function b(){p&&(p.open=!0)}function m(){return p&&p.open===!0||!1}let{el:_,showError:w,hideError:C}=Up({showEmail:n,showName:r,isEmailRequired:o,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:u,...f});return p=j("dialog",{className:"dialog",open:!0,onClick:h},j("div",{className:"dialog__content",onClick:O=>{O.stopPropagation()}},j("h2",{className:"dialog__header"},e,t&&j("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},zp({colorScheme:i}).el)),_)),{get el(){return p},showError:w,hideError:C,open:b,close:g,checkIsOpen:m}}var Rr=16,ta=17,jp="http://www.w3.org/2000/svg";function Gp(){let e=c=>Oe.document.createElementNS(jp,c),t=ne(e("svg"),{class:"success-icon",width:`${Rr}`,height:`${ta}`,viewBox:`0 0 ${Rr} ${ta}`,fill:"none"}),r=ne(e("g"),{clipPath:"url(#clip0_57_156)"}),n=ne(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=ne(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(r).append(s,n);let o=e("defs"),i=ne(e("clipPath"),{id:"clip0_57_156"}),a=ne(e("rect"),{width:`${Rr}`,height:`${Rr}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),{get el(){return t}}}function qp({message:e,onRemove:t}){function r(){n&&(n.remove(),t&&t())}let n=j("div",{className:"success-message",onClick:r},Gp().el,e);return{el:n,remove:r}}function ra({shadow:e,options:{shouldCreateActor:t=!0,...r},attachTo:n}){let s,o,i=!1;function a(){if(e)try{let m=qp({message:r.successMessageText,onRemove:()=>{_&&clearTimeout(_),u()}});if(!m.el)throw new Error("Unable to show success message");e.appendChild(m.el);let _=setTimeout(()=>{m&&m.remove()},5e3)}catch(m){y.error(m)}}async function c(m){if(!o)return;let _=[];if(r.isNameRequired&&!m.name&&_.push(r.nameLabel),r.isEmailRequired&&!m.email&&_.push(r.emailLabel),m.message||_.push(r.messageLabel),_.length>0){o.showError(`Please enter in the following required fields: ${_.join(", ")}`);return}if(!await Np(o,m)){r.onSubmitError&&r.onSubmitError();return}g(),a(),r.onSubmitSuccess&&r.onSubmitSuccess()}function l(){let m=D(),_=m&&m.getIntegrationByName&&m.getIntegrationByName("Replay");_&&_.flush().catch(w=>{Ae&&y.error(w)})}function u(){s&&s.show()}function d(){s&&s.hide()}function f(){s&&s.el&&s.el.remove()}function p(){try{if(o){o.open(),i=!0,r.onFormOpen&&r.onFormOpen(),l();return}let m=r.useSentryUser,_=pe(),w=_&&_.getUser();if(o=$p({colorScheme:r.colorScheme,showBranding:r.showBranding,showName:r.showName||r.isNameRequired,showEmail:r.showEmail||r.isEmailRequired,isNameRequired:r.isNameRequired,isEmailRequired:r.isEmailRequired,formTitle:r.formTitle,cancelButtonLabel:r.cancelButtonLabel,submitButtonLabel:r.submitButtonLabel,emailLabel:r.emailLabel,emailPlaceholder:r.emailPlaceholder,messageLabel:r.messageLabel,messagePlaceholder:r.messagePlaceholder,nameLabel:r.nameLabel,namePlaceholder:r.namePlaceholder,isRequiredLabel:r.isRequiredLabel,defaultName:m&&w&&w[m.name]||"",defaultEmail:m&&w&&w[m.email]||"",onClosed:()=>{u(),i=!1,r.onFormClose&&r.onFormClose()},onCancel:()=>{h(),u()},onSubmit:c}),!o.el)throw new Error("Unable to open Feedback dialog");e.appendChild(o.el),d(),r.onFormOpen&&r.onFormOpen(),l()}catch(m){y.error(m)}}function h(){o&&(o.close(),i=!1,r.onFormClose&&r.onFormClose())}function g(){if(o){h();let m=o.el;m&&m.remove(),o=void 0}}function b(){i||p(),d()}return n?n.addEventListener("click",b):t&&(s=Bp({buttonLabel:r.buttonLabel,onClick:b}),s.el&&e.appendChild(s.el)),{get actor(){return s},get dialog(){return o},showActor:u,hideActor:d,removeActor:f,openDialog:p,closeDialog:h,removeDialog:g}}var Mr=Oe.document,Vp=e=>new Tt(e),Tt=class e{static __initStatic(){this.id="Feedback"}constructor({autoInject:t=!0,id:r="sentry-feedback",isEmailRequired:n=!1,isNameRequired:s=!1,showBranding:o=!0,showEmail:i=!0,showName:a=!0,useSentryUser:c={email:"email",name:"username"},themeDark:l,themeLight:u,colorScheme:d="system",buttonLabel:f=yp,cancelButtonLabel:p=_p,submitButtonLabel:h=Sp,formTitle:g=bp,emailPlaceholder:b=vp,emailLabel:m=Ep,messagePlaceholder:_=wp,messageLabel:w=Ip,namePlaceholder:C=kp,nameLabel:O=Cp,isRequiredLabel:I=xp,successMessageText:S=Tp,onFormClose:R,onFormOpen:$,onSubmitError:v,onSubmitSuccess:x}={}){this.name=e.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:t,showBranding:o,id:r,isEmailRequired:n,isNameRequired:s,showEmail:i,showName:a,useSentryUser:c,colorScheme:d,themeDark:{...Zi.dark,...l},themeLight:{...Zi.light,...u},buttonLabel:f,cancelButtonLabel:p,submitButtonLabel:h,formTitle:g,emailLabel:m,emailPlaceholder:b,messageLabel:w,messagePlaceholder:_,nameLabel:O,namePlaceholder:C,isRequiredLabel:I,successMessageText:S,onFormClose:R,onFormOpen:$,onSubmitError:v,onSubmitSuccess:x}}setupOnce(){if(at())try{this._cleanupWidgetIfExists();let{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){Ae&&y.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,r){try{let n=Qi(this.options,r||{});return this._ensureShadowHost(n,({shadow:s})=>{let o=typeof t=="string"?Mr.querySelector(t):typeof t.addEventListener=="function"?t:null;if(!o)return Ae&&y.error("[Feedback] Unable to attach to target element"),null;let i=ra({shadow:s,options:n,attachTo:o});return this._widgets.add(i),this._widget||(this._widget=i),i})}catch(n){return Ae&&y.error(n),null}}createWidget(t){try{return this._createWidget(Qi(this.options,t||{}))}catch(r){return Ae&&y.error(r),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(r){Ae&&y.error(r)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();let t=Mr.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,({shadow:r})=>{let n=ra({shadow:r,options:t});return!this._hasInsertedActorStyles&&n.actor&&(r.appendChild(Ap(Mr)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n})}_ensureShadowHost(t,r){let n=!1;if(!this._shadow||!this._host){let{id:o,colorScheme:i,themeLight:a,themeDark:c}=t,{shadow:l,host:u}=Dp({id:o,colorScheme:i,themeLight:a,themeDark:c});this._shadow=l,this._host=u,n=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;let s=r({shadow:this._shadow,host:this._host});return n&&Mr.body.appendChild(this._host),s}};Tt.__initStatic();k();function Rt(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function Yp(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=Rt(r);return s=>n.then(o=>s(o.transaction(t,"readwrite").objectStore(t)))}function aa(e){return Rt(e.getAllKeys())}function Kp(e,t,r){return e(n=>aa(n).then(s=>{if(!(s.length>=r))return n.put(t,Math.max(...s,0)+1),Rt(n.transaction)}))}function Xp(e){return e(t=>aa(t).then(r=>{if(r.length!==0)return Rt(t.get(r[0])).then(n=>(t.delete(r[0]),Rt(t.transaction).then(()=>n)))}))}function Jp(e){let t;function r(){return t==null&&(t=Yp(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async n=>{try{let s=await Bs(n,e.textEncoder);await Kp(r(),s,e.maxQueueSize||30)}catch{}},pop:async()=>{try{let n=await Xp(r());if(n)return Hs(n,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch{}}}}function Zp(e){return t=>e({...t,createStore:Jp})}function Qp(e){return Zp(Zs(e))}k();k();var ca=1e6,Ar=String(0),eh="main",da="",fa="",pa="",cs=E.navigator&&E.navigator.userAgent||"",ha="",th=E.navigator&&E.navigator.language||E.navigator&&E.navigator.languages&&E.navigator.languages[0]||"";function rh(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var la=E.navigator&&E.navigator.userAgentData;rh(la)&&la.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(da=e.platform||"",pa=e.architecture||"",ha=e.model||"",fa=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){let t=e.fullVersionList[e.fullVersionList.length-1];cs=`${t.brand} ${t.version}`}}).catch(e=>{});function nh(e){return!("thread_metadata"in e)}function sh(e){return nh(e)?ah(e):e}function oh(e){let t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&T&&y.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function ih(e,t,r,n){if(n.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(r==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${r} instead.`);let s=oh(n),o=sh(r),i=t||(typeof n.start_timestamp=="number"?n.start_timestamp*1e3:Date.now()),a=typeof n.timestamp=="number"?n.timestamp*1e3:Date.now();return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:n.release||"",environment:n.environment||qs,runtime:{name:"javascript",version:E.navigator.userAgent},os:{name:da,version:fa,build_number:cs},device:{locale:th,model:ha,manufacturer:cs,architecture:pa,is_emulator:!1},debug_meta:{images:ch(r.resources)},profile:o,transactions:[{name:n.transaction||"",id:n.event_id||Pe(),trace_id:s,active_thread_id:Ar,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function Or(e){return e.op==="pageload"}function ah(e){let t,r=0,n={samples:[],stacks:[],frames:[],thread_metadata:{[Ar]:{name:eh}}};if(!e.samples.length)return n;let s=e.samples[0].timestamp,o=typeof performance.timeOrigin=="number"?performance.timeOrigin:ct||0,i=o-(ct||o);for(let a=0;a<e.samples.length;a++){let c=e.samples[a];if(c.stackId===void 0){t===void 0&&(t=r,n.stacks[t]=[],r++),n.samples[a]={elapsed_since_start_ns:((c.timestamp+i-s)*ca).toFixed(0),stack_id:t,thread_id:Ar};continue}let l=e.stacks[c.stackId],u=[];for(;l;){u.push(l.frameId);let f=e.frames[l.frameId];n.frames[l.frameId]===void 0&&(n.frames[l.frameId]={function:f.name,abs_path:typeof f.resourceId=="number"?e.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}let d={elapsed_since_start_ns:((c.timestamp+i-s)*ca).toFixed(0),stack_id:r,thread_id:Ar};n.stacks[r]=u,n.samples[a]=d,r++}return n}function ma(e,t){if(!t.length)return e;for(let r of t)e[1].push([{type:"profile"},r]);return e}function ga(e){let t=[];return Fs(e,(r,n)=>{if(n==="transaction")for(let s=1;s<r.length;s++){let o=r[s];o&&o.contexts&&o.contexts.profile&&o.contexts.profile.profile_id&&t.push(r[s])}}),t}var ua=new WeakMap;function ch(e){let t=ye._sentryDebugIds;if(!t)return[];let r=D(),n=r&&r.getOptions(),s=n&&n.stackParser;if(!s)return[];let o,i=ua.get(s);i?o=i:(o=new Map,ua.set(s,o));let a=Object.keys(t).reduce((l,u)=>{let d,f=o.get(u);f?d=f:(d=s(u),o.set(u,d));for(let p=d.length-1;p>=0;p--){let h=d[p],g=h&&h.filename;if(h&&g){l[g]=t[u];break}}return l},{}),c=[];for(let l of e)l&&a[l]&&c.push({type:"sourcemap",code_file:l,debug_id:a[l]});return c}function lh(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(T&&y.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(T&&y.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function uh(e){return e.samples.length<2?(T&&y.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(T&&y.log("[Profiling] Discarding profile because it contains no frames"),!1)}var ya=!1,ls=3e4;function dh(e){return typeof e=="function"}function _a(){let e=E.Profiler;if(!dh(e)){T&&y.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,r=Math.floor(ls/t);try{return new e({sampleInterval:t,maxBufferSize:r})}catch{T&&(y.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),y.log("[Profiling] Disabling profiling for current user session.")),ya=!0}}function Mt(e){if(ya)return T&&y.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return T&&y.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=D(),r=t&&t.getOptions();if(!r)return T&&y.log("[Profiling] Profiling disabled, no options found."),!1;let n=r.profilesSampleRate;return lh(n)?n?(n===!0?!0:Math.random()<n)?!0:(T&&y.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1):(T&&y.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(T&&y.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function Sa(e,t,r,n){return uh(r)?ih(e,t,r,n):null}var Le=new Map;function ba(){return Le.size}function va(e){let t=Le.get(e);return t&&Le.delete(e),t}function Ea(e,t){if(Le.set(e,t),Le.size>30){let r=Le.keys().next().value;Le.delete(r)}}function fh(e){return e?Mt(e)?Lr(e):e:(T&&y.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function Lr(e){let t;Or(e)&&(t=Ps()*1e3);let r=_a();if(!r)return e;T&&y.log(`[Profiling] started profiling transaction: ${_e(e).description}`);let n=Pe();async function s(){return!e||!r?null:r.stop().then(c=>(o&&(E.clearTimeout(o),o=void 0),T&&y.log(`[Profiling] stopped profiling of transaction: ${_e(e).description}`),c?(Ea(n,c),null):(T&&y.log(`[Profiling] profiler returned null profile for: ${_e(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(T&&y.log("[Profiling] error while stopping profiler:",c),null))}let o=E.setTimeout(()=>{T&&y.log("[Profiling] max profile duration elapsed, stopping profiling for:",_e(e).description),s()},ls),i=e.end.bind(e);function a(){return e?(s().then(()=>{e.setContext("profile",{profile_id:n,start_timestamp:t}),i()},()=>{i()}),e):i()}return e.end=a,e}k();var wa="BrowserProfiling",ph=()=>({name:wa,setupOnce(){},setup(e){let r=pe().getTransaction();if(r&&Or(r)&&Mt(r)&&Lr(r),typeof e.on!="function"){y.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",n=>{Mt(n)&&Lr(n)}),e.on("beforeEnvelope",n=>{if(!ba())return;let s=ga(n);if(!s.length)return;let o=[];for(let i of s){let a=i&&i.contexts,c=a&&a.profile&&a.profile.profile_id,l=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){T&&y.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){T&&y.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;let u=va(c);if(!u){T&&y.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}let d=Sa(c,l,u,i);d&&o.push(d)}ma(n,o)})}}),Ia=ph,hh=J(wa,Ia);var ka={};E.Sentry&&E.Sentry.Integrations&&(ka=E.Sentry.Integrations);var Ug={...ka,...to,...yn};export{un as Breadcrumbs,dt as BrowserClient,hh as BrowserProfilingIntegration,Ic as BrowserTracing,fn as Dedupe,Tt as Feedback,bc as FunctionToString,pn as GlobalHandlers,hn as HttpContext,Ya as Hub,Sc as InboundFilters,Ug as Integrations,mn as LinkedErrors,_c as ModuleMetadata,It as Replay,gp as ReplayCanvas,Va as SDK_VERSION,lc as SEMANTIC_ATTRIBUTE_SENTRY_OP,uc as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,cc as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Yr as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,qa as Scope,gn as TryCatch,E as WINDOW,ae as addBreadcrumb,Kr as addEventProcessor,Ma as addGlobalEventProcessor,pc as addIntegration,dc as addTracingExtensions,Jt as breadcrumbsIntegration,tr as browserApiErrorsIntegration,Ia as browserProfilingIntegration,kc as browserTracingIntegration,Tc as captureConsoleIntegration,jt as captureEvent,Ue as captureException,Aa as captureMessage,qt as captureSession,jl as captureUserFeedback,io as chromeStackLineParser,za as close,Oa as configureScope,Pc as contextLinesIntegration,ac as continueTrace,ut as createTransport,on as createUserFeedbackEnvelope,Rc as debugIntegration,Mc as dedupeIntegration,Co as defaultIntegrations,Ec as defaultRequestInstrumentationOptions,lo as defaultStackLineParsers,ln as defaultStackParser,Ga as endSession,nn as eventFromException,sn as eventFromMessage,Yt as exceptionFromError,Ac as extraErrorDataIntegration,Za as extractTraceparentData,Vp as feedbackIntegration,Wa as flush,Ul as forceLoad,Jr as functionToStringIntegration,ao as geckoStackLineParser,ic as getActiveSpan,Ja as getActiveTransaction,D as getClient,Vr as getCurrentHub,pe as getCurrentScope,xo as getDefaultIntegrations,Xa as getHubFromCarrier,np as getReplay,Qa as getSpanStatusFromHttpCode,Zt as globalHandlersIntegration,Nc as httpClientIntegration,Qt as httpContextIntegration,Xr as inboundFiltersIntegration,Bl as init,wc as instrumentOutgoingRequests,ja as isInitialized,$a as lastEventId,er as linkedErrorsIntegration,Qp as makeBrowserOfflineTransport,an as makeFetchTransport,Ka as makeMain,mc as makeMultiplexedTransport,cn as makeXHRTransport,vc as metrics,yc as moduleMetadataIntegration,Wl as onLoad,fh as onProfilingStartRouteTransaction,al as opera10StackLineParser,ul as opera11StackLineParser,gc as parameterize,Ki as replayCanvasIntegration,tp as replayIntegration,Oc as reportingObserverIntegration,Lc as rewriteFramesIntegration,oa as sendFeedback,Dc as sessionTimingIntegration,qr as setContext,hc as setCurrentClient,Da as setExtra,La as setExtras,tc as setHttpStatus,fc as setMeasurement,Pa as setTag,Na as setTags,Fa as setUser,Hl as showReportDialog,ec as spanStatusfromHttpCode,xc as startBrowserTracingNavigationSpan,Cc as startBrowserTracingPageLoadSpan,oc as startInactiveSpan,Gt as startSession,nc as startSpan,sc as startSpanManual,Ua as startTransaction,rc as trace,co as winjsStackLineParser,Ha as withActiveSpan,Ba as withIsolationScope,lt as withScope,zl as wrap};
//# sourceMappingURL=esm-DCYGGSE4.js.map